<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>二十I邊界</title>
  
  <subtitle>在路上</subtitle>
  <link href="https://xuie0000.com/atom.xml" rel="self"/>
  
  <link href="https://xuie0000.com/"/>
  <updated>2025-08-26T17:08:50.431Z</updated>
  <id>https://xuie0000.com/</id>
  
  <author>
    <name>二十I邊界</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Compose Material You | Part 3 Multiplatform</title>
    <link href="https://xuie0000.com/post/2025-08-26-compose-material-you-part3.html"/>
    <id>https://xuie0000.com/post/2025-08-26-compose-material-you-part3.html</id>
    <published>2025-08-26T12:24:27.000Z</published>
    <updated>2025-08-26T17:08:50.431Z</updated>
    
    <content type="html"><![CDATA[<p>经过一年多的演变，功能进行了迭代升级，许多的功能由不成熟到稳定，也是一种不错的体验。</p><p>小白鼠实验结束…看到的可以入坑了</p><span id="more"></span><h2 id="实现功能列表"><a href="#实现功能列表" class="headerlink" title="实现功能列表"></a>实现功能列表</h2><ul><li><input checked="" disabled="" type="checkbox"> 多平台（Windows, Linux, Android, Web）实现</li><li><input checked="" disabled="" type="checkbox"> 语言切换</li><li><input checked="" disabled="" type="checkbox"> 字体切换</li><li><input checked="" disabled="" type="checkbox"> 主题切换</li><li><input checked="" disabled="" type="checkbox"> NavigationSuiteScaffold</li><li><input checked="" disabled="" type="checkbox"> Ktor</li><li><input checked="" disabled="" type="checkbox"> Koin</li><li><input checked="" disabled="" type="checkbox"> Decompose</li><li><input checked="" disabled="" type="checkbox"> Coil 3.0</li></ul><h2 id="应用下载"><a href="#应用下载" class="headerlink" title="应用下载"></a>应用下载</h2><p>Niki-1.0.1.msi： <a href="https://www.alipan.com/s/uC9Fs22X4CB">https://www.alipan.com/s/uC9Fs22X4CB</a><br>提取码: <strong>2s8t</strong></p><h2 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br></pre></td><td class="code"><pre><span class="line">│  .editorconfig</span><br><span class="line">│  .gitignore</span><br><span class="line">│  build.gradle.kts</span><br><span class="line">│  debug.keystore</span><br><span class="line">│  gradle.properties</span><br><span class="line">│  gradlew</span><br><span class="line">│  gradlew.bat</span><br><span class="line">│  keystore.properties</span><br><span class="line">│  mkdocs.yml</span><br><span class="line">│  README.md</span><br><span class="line">│  settings.gradle.kts</span><br><span class="line">│</span><br><span class="line">├─.github</span><br><span class="line">│  └─workflows</span><br><span class="line">│          ci.yml</span><br><span class="line">│</span><br><span class="line">├─.idea</span><br><span class="line">│  │  .gitignore</span><br><span class="line">│  │  appInsightsSettings.xml</span><br><span class="line">│  │  compiler.xml</span><br><span class="line">│  │  deploymentTargetDropDown.xml</span><br><span class="line">│  │  deploymentTargetSelector.xml</span><br><span class="line">│  │  gradle.xml</span><br><span class="line">│  │  icon.svg</span><br><span class="line">│  │  kotlinc.xml</span><br><span class="line">│  │  ktlint-plugin.xml</span><br><span class="line">│  │  migrations.xml</span><br><span class="line">│  │  misc.xml</span><br><span class="line">│  │  vcs.xml</span><br><span class="line">│  │</span><br><span class="line">│  ├─artifacts</span><br><span class="line">│  │      app_desktop.xml</span><br><span class="line">│  │      js_js.xml</span><br><span class="line">│  │      shared_desktop.xml</span><br><span class="line">│  │      shared_js.xml</span><br><span class="line">│  │      web_js.xml</span><br><span class="line">│  │</span><br><span class="line">│  ├─codeStyles</span><br><span class="line">│  │      codeStyleConfig.xml</span><br><span class="line">│  │      Project.xml</span><br><span class="line">│  │</span><br><span class="line">│  ├─copyright</span><br><span class="line">│  │      Jie.xml</span><br><span class="line">│  │      profiles_settings.xml</span><br><span class="line">│  │</span><br><span class="line">│  └─inspectionProfiles</span><br><span class="line">│          Project_Default.xml</span><br><span class="line">│</span><br><span class="line">├─android</span><br><span class="line">│  │  .gitignore</span><br><span class="line">│  │  build.gradle.kts</span><br><span class="line">│  │  consumer-rules.pro</span><br><span class="line">│  │  proguard-rules.pro</span><br><span class="line">│  │</span><br><span class="line">│  └─src</span><br><span class="line">│      └─main</span><br><span class="line">│          │  AndroidManifest.xml</span><br><span class="line">│          │</span><br><span class="line">│          ├─kotlin</span><br><span class="line">│          │  └─com</span><br><span class="line">│          │      └─one</span><br><span class="line">│          │          └─android</span><br><span class="line">│          │                  KmpApplication.kt</span><br><span class="line">│          │                  MainActivity.kt</span><br><span class="line">│          │</span><br><span class="line">│          └─res</span><br><span class="line">│              ├─mipmap-xhdpi</span><br><span class="line">│              │      icon.png</span><br><span class="line">│              │</span><br><span class="line">│              ├─values</span><br><span class="line">│              │      colors.xml</span><br><span class="line">│              │      strings.xml</span><br><span class="line">│              │      themes.xml</span><br><span class="line">│              │</span><br><span class="line">│              ├─values-v27</span><br><span class="line">│              │      themes.xml</span><br><span class="line">│              │</span><br><span class="line">│              └─xml</span><br><span class="line">│                      backup_rules.xml</span><br><span class="line">│                      data_extraction_rules.xml</span><br><span class="line">│</span><br><span class="line">├─docs</span><br><span class="line">│      index.md</span><br><span class="line">│</span><br><span class="line">├─gradle</span><br><span class="line">│  │  libs.versions.toml</span><br><span class="line">│  │</span><br><span class="line">│  └─wrapper</span><br><span class="line">│          gradle-wrapper.jar</span><br><span class="line">│          gradle-wrapper.properties</span><br><span class="line">│</span><br><span class="line">├─js</span><br><span class="line">│  │  .gitignore</span><br><span class="line">│  │  build.gradle.kts</span><br><span class="line">│  │</span><br><span class="line">│  └─src</span><br><span class="line">│      ├─jsMain</span><br><span class="line">│      │  ├─kotlin</span><br><span class="line">│      │  │  └─com</span><br><span class="line">│      │  │      └─one</span><br><span class="line">│      │  │          └─js</span><br><span class="line">│      │  │                  Application.kt</span><br><span class="line">│      │  │</span><br><span class="line">│      │  └─resources</span><br><span class="line">│      │          favicon.png</span><br><span class="line">│      │          index.html</span><br><span class="line">│      │          styles.css</span><br><span class="line">│      │</span><br><span class="line">│      └─wasmJsMain</span><br><span class="line">│          ├─kotlin</span><br><span class="line">│          │  └─com</span><br><span class="line">│          │      └─one</span><br><span class="line">│          │          └─js</span><br><span class="line">│          │                  Application.kt</span><br><span class="line">│          │</span><br><span class="line">│          └─resources</span><br><span class="line">│                  favicon.png</span><br><span class="line">│                  index.html</span><br><span class="line">│                  styles.css</span><br><span class="line">│</span><br><span class="line">├─kotlin-js-store</span><br><span class="line">│  │  yarn.lock</span><br><span class="line">│  │</span><br><span class="line">│  └─wasm</span><br><span class="line">│          yarn.lock</span><br><span class="line">│</span><br><span class="line">└─shared</span><br><span class="line">    │  .gitignore</span><br><span class="line">    │  build.gradle.kts</span><br><span class="line">    │  proguard-rules.pro</span><br><span class="line">    │</span><br><span class="line">    └─src</span><br><span class="line">        ├─androidMain</span><br><span class="line">        │  └─kotlin</span><br><span class="line">        │      └─com</span><br><span class="line">        │          └─one</span><br><span class="line">        │              └─common</span><br><span class="line">        │                  ├─player</span><br><span class="line">        │                  │      MediaPlayerController.android.kt</span><br><span class="line">        │                  │</span><br><span class="line">        │                  ├─ui</span><br><span class="line">        │                  │  │  IconPreview.kt</span><br><span class="line">        │                  │  │  NiPlat.android.kt</span><br><span class="line">        │                  │  │</span><br><span class="line">        │                  │  ├─components</span><br><span class="line">        │                  │  │      AsyncImage.android.kt</span><br><span class="line">        │                  │  │      HtmlText.android.kt</span><br><span class="line">        │                  │  │      WebViewKt.android.kt</span><br><span class="line">        │                  │  │</span><br><span class="line">        │                  │  └─theme</span><br><span class="line">        │                  │          LocalAppLocale.android.kt</span><br><span class="line">        │                  │</span><br><span class="line">        │                  └─util</span><br><span class="line">        │                          DispatcherProvider.android.kt</span><br><span class="line">        │                          HtmlText.kt</span><br><span class="line">        │                          ImageProvider.android.kt</span><br><span class="line">        │</span><br><span class="line">        ├─commonMain</span><br><span class="line">        │  ├─composeResources</span><br><span class="line">        │  │  ├─drawable</span><br><span class="line">        │  │  │      bg.jpeg</span><br><span class="line">        │  │  │      dark_mode_24px.xml</span><br><span class="line">        │  │  │      font_24px.xml</span><br><span class="line">        │  │  │      guide.png</span><br><span class="line">        │  │  │      icon.png</span><br><span class="line">        │  │  │      ic_arrow_down.xml</span><br><span class="line">        │  │  │      ic_bookmark_24.xml</span><br><span class="line">        │  │  │      ic_bookmark_border_24.xml</span><br><span class="line">        │  │  │      ic_diary.xml</span><br><span class="line">        │  │  │      ic_discover.xml</span><br><span class="line">        │  │  │      ic_discover_border.xml</span><br><span class="line">        │  │  │      ic_edit.xml</span><br><span class="line">        │  │  │      ic_home.xml</span><br><span class="line">        │  │  │      ic_home_border.xml</span><br><span class="line">        │  │  │      ic_my.xml</span><br><span class="line">        │  │  │      ic_my_border.xml</span><br><span class="line">        │  │  │      ic_novel.xml</span><br><span class="line">        │  │  │      ic_novel_border.xml</span><br><span class="line">        │  │  │      ic_radio.xml</span><br><span class="line">        │  │  │      ic_radio_border.xml</span><br><span class="line">        │  │  │      indi_article_icon.png</span><br><span class="line">        │  │  │      indi_hp_icon.png</span><br><span class="line">        │  │  │      indi_movie_icon.png</span><br><span class="line">        │  │  │      indi_music_icon.png</span><br><span class="line">        │  │  │      indi_radio_icon.png</span><br><span class="line">        │  │  │      language_24px.xml</span><br><span class="line">        │  │  │      placeholder.jpg</span><br><span class="line">        │  │  │      view_quilt_24.xml</span><br><span class="line">        │  │  │</span><br><span class="line">        │  │  ├─font</span><br><span class="line">        │  │  │      dream_han_sans_cn_w16.ttf</span><br><span class="line">        │  │  │      liujian_maocao_regular.ttf</span><br><span class="line">        │  │  │      mashanzheng_regular.ttf</span><br><span class="line">        │  │  │      zhimang_xing_regular.ttf</span><br><span class="line">        │  │  │</span><br><span class="line">        │  │  ├─values</span><br><span class="line">        │  │  │      strings.xml</span><br><span class="line">        │  │  │</span><br><span class="line">        │  │  ├─values-en</span><br><span class="line">        │  │  │      strings.xml</span><br><span class="line">        │  │  │</span><br><span class="line">        │  │  └─values-zh</span><br><span class="line">        │  │          strings.xml</span><br><span class="line">        │  │</span><br><span class="line">        │  └─kotlin</span><br><span class="line">        │      │  package.kt</span><br><span class="line">        │      │</span><br><span class="line">        │      ├─base</span><br><span class="line">        │      │      BaseCategoryViewModel.kt</span><br><span class="line">        │      │      BaseCommentCategoryViewModel.kt</span><br><span class="line">        │      │      BaseViewModel.kt</span><br><span class="line">        │      │</span><br><span class="line">        │      ├─data</span><br><span class="line">        │      │  │  OneDataSource.kt</span><br><span class="line">        │      │  │  Type.kt</span><br><span class="line">        │      │  │</span><br><span class="line">        │      │  ├─bean</span><br><span class="line">        │      │  │      Answerer.kt</span><br><span class="line">        │      │  │      Asker.kt</span><br><span class="line">        │      │  │      Author.kt</span><br><span class="line">        │      │  │      Banner.kt</span><br><span class="line">        │      │  │      Category.kt</span><br><span class="line">        │      │  │      CommentCategory.kt</span><br><span class="line">        │      │  │      Diary.kt</span><br><span class="line">        │      │  │      Essay.kt</span><br><span class="line">        │      │  │      HpData.kt</span><br><span class="line">        │      │  │      HtmlCategory.kt</span><br><span class="line">        │      │  │      Menu.kt</span><br><span class="line">        │      │  │      MList.kt</span><br><span class="line">        │      │  │      Movie.kt</span><br><span class="line">        │      │  │      MovieItem.kt</span><br><span class="line">        │      │  │      Music.kt</span><br><span class="line">        │      │  │      MusicItem.kt</span><br><span class="line">        │      │  │      One.kt</span><br><span class="line">        │      │  │      OneContent.kt</span><br><span class="line">        │      │  │      Permission.kt</span><br><span class="line">        │      │  │      Qq.kt</span><br><span class="line">        │      │  │      Question.kt</span><br><span class="line">        │      │  │      Radio.kt</span><br><span class="line">        │      │  │      RadioActive.kt</span><br><span class="line">        │      │  │      Rank.kt</span><br><span class="line">        │      │  │      RankItem.kt</span><br><span class="line">        │      │  │      ReadingItem.kt</span><br><span class="line">        │      │  │      RelatedCategory.kt</span><br><span class="line">        │      │  │      ResponseOne.kt</span><br><span class="line">        │      │  │      Serial.kt</span><br><span class="line">        │      │  │      ShareInfo.kt</span><br><span class="line">        │      │  │      ShareList.kt</span><br><span class="line">        │      │  │      StoryAuthor.kt</span><br><span class="line">        │      │  │      Tag.kt</span><br><span class="line">        │      │  │      Touser.kt</span><br><span class="line">        │      │  │      User.kt</span><br><span class="line">        │      │  │      UserInfo.kt</span><br><span class="line">        │      │  │      Weather.kt</span><br><span class="line">        │      │  │      WeatherIcons.kt</span><br><span class="line">        │      │  │      Weibo.kt</span><br><span class="line">        │      │  │      Wx.kt</span><br><span class="line">        │      │  │      WxTimeline.kt</span><br><span class="line">        │      │  │      YearMonth.kt</span><br><span class="line">        │      │  │</span><br><span class="line">        │      │  ├─http</span><br><span class="line">        │      │  │      OneNetworkDataSource.kt</span><br><span class="line">        │      │  │</span><br><span class="line">        │      │  └─repository</span><br><span class="line">        │      │          OneRepository.kt</span><br><span class="line">        │      │          SettingsRepository.kt</span><br><span class="line">        │      │</span><br><span class="line">        │      ├─di</span><br><span class="line">        │      │      KoinModule.kt</span><br><span class="line">        │      │</span><br><span class="line">        │      ├─domain</span><br><span class="line">        │      │  │  AuthorUseCase.kt</span><br><span class="line">        │      │  │  AuthorWorkUseCase.kt</span><br><span class="line">        │      │  │  BannerListUseCase.kt</span><br><span class="line">        │      │  │  CommentCategoryUseCase.kt</span><br><span class="line">        │      │  │  FeedListUseCase.kt</span><br><span class="line">        │      │  │  FindCategoryUseCase.kt</span><br><span class="line">        │      │  │  FindDiaryUseCase.kt</span><br><span class="line">        │      │  │  RankUseCase.kt</span><br><span class="line">        │      │  │</span><br><span class="line">        │      │  ├─mapper</span><br><span class="line">        │      │  │      NiMapper.kt</span><br><span class="line">        │      │  │</span><br><span class="line">        │      │  └─model</span><br><span class="line">        │      │          NiBanner.kt</span><br><span class="line">        │      │          NiCategory.kt</span><br><span class="line">        │      │          NiCommentCategory.kt</span><br><span class="line">        │      │          NiDiary.kt</span><br><span class="line">        │      │          NiFeed.kt</span><br><span class="line">        │      │          NiOne.kt</span><br><span class="line">        │      │          State.kt</span><br><span class="line">        │      │</span><br><span class="line">        │      ├─player</span><br><span class="line">        │      │      MediaPlayerController.kt</span><br><span class="line">        │      │      MediaPlayerListener.kt</span><br><span class="line">        │      │</span><br><span class="line">        │      ├─ui</span><br><span class="line">        │      │  │  App.kt</span><br><span class="line">        │      │  │  AppState.kt</span><br><span class="line">        │      │  │  Destination.kt</span><br><span class="line">        │      │  │  NavGraph.kt</span><br><span class="line">        │      │  │  NiIcon.kt</span><br><span class="line">        │      │  │  NiPlat.kt</span><br><span class="line">        │      │  │  UiState.kt</span><br><span class="line">        │      │  │</span><br><span class="line">        │      │  ├─about</span><br><span class="line">        │      │  │      AboutScreen.kt</span><br><span class="line">        │      │  │</span><br><span class="line">        │      │  ├─components</span><br><span class="line">        │      │  │      AsyncImage.kt</span><br><span class="line">        │      │  │      AuthorItem.kt</span><br><span class="line">        │      │  │      CategoryContent.kt</span><br><span class="line">        │      │  │      CategoryHeader.kt</span><br><span class="line">        │      │  │      Comment.kt</span><br><span class="line">        │      │  │      DisplayContent.kt</span><br><span class="line">        │      │  │      HeaderBar.kt</span><br><span class="line">        │      │  │      HtmlText.kt</span><br><span class="line">        │      │  │      ImageRoundedItem.kt</span><br><span class="line">        │      │  │      Loading.kt</span><br><span class="line">        │      │  │      Placeholder.kt</span><br><span class="line">        │      │  │      RelatedItem.kt</span><br><span class="line">        │      │  │      ShimmerEffect.kt</span><br><span class="line">        │      │  │      Spinner.kt</span><br><span class="line">        │      │  │      TitleHeader.kt</span><br><span class="line">        │      │  │      WebViewKt.kt</span><br><span class="line">        │      │  │</span><br><span class="line">        │      │  ├─detail</span><br><span class="line">        │      │  │  │  BannerDetailScreen.kt</span><br><span class="line">        │      │  │  │  CategoryHpDetailScreen.kt</span><br><span class="line">        │      │  │  │  DetailViewModel.kt</span><br><span class="line">        │      │  │  │  DiaryDetailScreen.kt</span><br><span class="line">        │      │  │  │  HpDetailScreen.kt</span><br><span class="line">        │      │  │  │  HtmlDetailScreen.kt</span><br><span class="line">        │      │  │  │  RankDetailScreen.kt</span><br><span class="line">        │      │  │  │</span><br><span class="line">        │      │  │  ├─author</span><br><span class="line">        │      │  │  │      AuthorDetailScreen.kt</span><br><span class="line">        │      │  │  │      AuthorDetailViewModel.kt</span><br><span class="line">        │      │  │  │</span><br><span class="line">        │      │  │  ├─essay</span><br><span class="line">        │      │  │  │      EssayDetailScreen.kt</span><br><span class="line">        │      │  │  │      EssayDetailViewModel.kt</span><br><span class="line">        │      │  │  │</span><br><span class="line">        │      │  │  ├─quesstion</span><br><span class="line">        │      │  │  │      QuestionDetailScreen.kt</span><br><span class="line">        │      │  │  │      QuestionDetailViewModel.kt</span><br><span class="line">        │      │  │  │</span><br><span class="line">        │      │  │  └─serial</span><br><span class="line">        │      │  │          SerialDetailScreen.kt</span><br><span class="line">        │      │  │          SerialDetailViewModel.kt</span><br><span class="line">        │      │  │</span><br><span class="line">        │      │  ├─discover</span><br><span class="line">        │      │  │  │  DiscoverScreen.kt</span><br><span class="line">        │      │  │  │</span><br><span class="line">        │      │  │  ├─author</span><br><span class="line">        │      │  │  │      AuthorContent.kt</span><br><span class="line">        │      │  │  │      AuthorViewModel.kt</span><br><span class="line">        │      │  │  │</span><br><span class="line">        │      │  │  ├─banner</span><br><span class="line">        │      │  │  │      BannerContent.kt</span><br><span class="line">        │      │  │  │      BannerViewModel.kt</span><br><span class="line">        │      │  │  │</span><br><span class="line">        │      │  │  ├─diary</span><br><span class="line">        │      │  │  │      DiaryContent.kt</span><br><span class="line">        │      │  │  │      DiaryViewModel.kt</span><br><span class="line">        │      │  │  │</span><br><span class="line">        │      │  │  ├─essay</span><br><span class="line">        │      │  │  │      EssayContent.kt</span><br><span class="line">        │      │  │  │      EssayViewModel.kt</span><br><span class="line">        │      │  │  │</span><br><span class="line">        │      │  │  ├─hp</span><br><span class="line">        │      │  │  │      HpContent.kt</span><br><span class="line">        │      │  │  │      HpViewModel.kt</span><br><span class="line">        │      │  │  │</span><br><span class="line">        │      │  │  ├─movie</span><br><span class="line">        │      │  │  │      MovieContent.kt</span><br><span class="line">        │      │  │  │      MovieViewModel.kt</span><br><span class="line">        │      │  │  │</span><br><span class="line">        │      │  │  ├─music</span><br><span class="line">        │      │  │  │      MusicContent.kt</span><br><span class="line">        │      │  │  │      MusicViewModel.kt</span><br><span class="line">        │      │  │  │</span><br><span class="line">        │      │  │  ├─question</span><br><span class="line">        │      │  │  │      QuestionContent.kt</span><br><span class="line">        │      │  │  │      QuestionViewModel.kt</span><br><span class="line">        │      │  │  │</span><br><span class="line">        │      │  │  ├─rank</span><br><span class="line">        │      │  │  │      RankContent.kt</span><br><span class="line">        │      │  │  │      RankViewModel.kt</span><br><span class="line">        │      │  │  │</span><br><span class="line">        │      │  │  └─serial</span><br><span class="line">        │      │  │          SerialContent.kt</span><br><span class="line">        │      │  │          SerialViewModel.kt</span><br><span class="line">        │      │  │</span><br><span class="line">        │      │  ├─home</span><br><span class="line">        │      │  │      CategoryError.kt</span><br><span class="line">        │      │  │      CategoryEssay.kt</span><br><span class="line">        │      │  │      CategoryHp.kt</span><br><span class="line">        │      │  │      CategoryQA.kt</span><br><span class="line">        │      │  │      CategoryRadio.kt</span><br><span class="line">        │      │  │      CategorySerial.kt</span><br><span class="line">        │      │  │      ChannelContent.kt</span><br><span class="line">        │      │  │      HomeScreen.kt</span><br><span class="line">        │      │  │      HomeViewModel.kt</span><br><span class="line">        │      │  │</span><br><span class="line">        │      │  ├─radio</span><br><span class="line">        │      │  │      RadioScreen.kt</span><br><span class="line">        │      │  │      RadioViewModel.kt</span><br><span class="line">        │      │  │</span><br><span class="line">        │      │  └─theme</span><br><span class="line">        │      │          Color.kt</span><br><span class="line">        │      │          LocalAppLocale.kt</span><br><span class="line">        │      │          Theme.kt</span><br><span class="line">        │      │          Type.kt</span><br><span class="line">        │      │</span><br><span class="line">        │      └─util</span><br><span class="line">        │              DispatcherProvider.kt</span><br><span class="line">        │              GridStateExt.kt</span><br><span class="line">        │              Image.kt</span><br><span class="line">        │              ImageProvider.kt</span><br><span class="line">        │              LazyListState.kt</span><br><span class="line">        │              LoadingContent.kt</span><br><span class="line">        │              LocalDate.kt</span><br><span class="line">        │              Modifier.kt</span><br><span class="line">        │              State.kt</span><br><span class="line">        │              Weather.kt</span><br><span class="line">        │</span><br><span class="line">        ├─commonTest</span><br><span class="line">        │  └─kotlin</span><br><span class="line">        │      └─com</span><br><span class="line">        │          └─one</span><br><span class="line">        │                  MockTest.kt</span><br><span class="line">        │</span><br><span class="line">        ├─desktopMain</span><br><span class="line">        │  ├─kotlin</span><br><span class="line">        │  │  │  package.kt</span><br><span class="line">        │  │  │</span><br><span class="line">        │  │  ├─desktop</span><br><span class="line">        │  │  │      Application.kt</span><br><span class="line">        │  │  │</span><br><span class="line">        │  │  ├─player</span><br><span class="line">        │  │  │      MediaPlayerController.desktop.kt</span><br><span class="line">        │  │  │</span><br><span class="line">        │  │  ├─ui</span><br><span class="line">        │  │  │  │  NiPlat.desktop.kt</span><br><span class="line">        │  │  │  │</span><br><span class="line">        │  │  │  ├─components</span><br><span class="line">        │  │  │  │  │  AsyncImage.desktop.kt</span><br><span class="line">        │  │  │  │  │  HtmlText.desktop.kt</span><br><span class="line">        │  │  │  │  │  WebViewKt.desktop.kt</span><br><span class="line">        │  │  │  │  │</span><br><span class="line">        │  │  │  │  └─htmltext</span><br><span class="line">        │  │  │  │      │  HtmlText.kt</span><br><span class="line">        │  │  │  │      │</span><br><span class="line">        │  │  │  │      ├─elements</span><br><span class="line">        │  │  │  │      │      HtmlBlockQuote.kt</span><br><span class="line">        │  │  │  │      │      HtmlImage.kt</span><br><span class="line">        │  │  │  │      │      HtmlLineBreak.kt</span><br><span class="line">        │  │  │  │      │      HtmlLink.kt</span><br><span class="line">        │  │  │  │      │      HtmlList.kt</span><br><span class="line">        │  │  │  │      │      HtmlParagraph.kt</span><br><span class="line">        │  │  │  │      │      HtmlTable.kt</span><br><span class="line">        │  │  │  │      │</span><br><span class="line">        │  │  │  │      └─util</span><br><span class="line">        │  │  │  │              ValidateUrl.kt</span><br><span class="line">        │  │  │  │</span><br><span class="line">        │  │  │  └─theme</span><br><span class="line">        │  │  │          LocalAppLocale.desktop.kt</span><br><span class="line">        │  │  │</span><br><span class="line">        │  │  └─util</span><br><span class="line">        │  │          DispatcherProvider.desktop.kt</span><br><span class="line">        │  │          ImageProvider.desktop.kt</span><br><span class="line">        │  │</span><br><span class="line">        │  └─resources</span><br><span class="line">        │          icon.icns</span><br><span class="line">        │          icon.ico</span><br><span class="line">        │          icon.png</span><br><span class="line">        │</span><br><span class="line">        ├─jsMain</span><br><span class="line">        │  └─kotlin</span><br><span class="line">        │      │  package.kt</span><br><span class="line">        │      │</span><br><span class="line">        │      ├─player</span><br><span class="line">        │      │      MediaPlayerController.js.kt</span><br><span class="line">        │      │</span><br><span class="line">        │      ├─ui</span><br><span class="line">        │      │  │  NiPlat.js.kt</span><br><span class="line">        │      │  │</span><br><span class="line">        │      │  ├─components</span><br><span class="line">        │      │  │      AsyncImage.js.kt</span><br><span class="line">        │      │  │      HtmlText.js.kt</span><br><span class="line">        │      │  │      WebViewKt.js.kt</span><br><span class="line">        │      │  │</span><br><span class="line">        │      │  └─theme</span><br><span class="line">        │      │          LocalAppLocale.js.kt</span><br><span class="line">        │      │</span><br><span class="line">        │      └─util</span><br><span class="line">        │              DispatcherProvider.js.kt</span><br><span class="line">        │              ImageProvider.js.kt</span><br><span class="line">        │</span><br><span class="line">        └─wasmJsMain</span><br><span class="line">            └─kotlin</span><br><span class="line">                │  package.kt</span><br><span class="line">                │</span><br><span class="line">                ├─player</span><br><span class="line">                │      MediaPlayerController.wasmJs.kt</span><br><span class="line">                │</span><br><span class="line">                ├─ui</span><br><span class="line">                │  │  NiPlat.wasmJs.kt</span><br><span class="line">                │  │</span><br><span class="line">                │  ├─components</span><br><span class="line">                │  │      AsyncImage.wasmJs.kt</span><br><span class="line">                │  │      HtmlText.wasmJs.kt</span><br><span class="line">                │  │      WebViewKt.wasmJs.kt</span><br><span class="line">                │  │</span><br><span class="line">                │  └─theme</span><br><span class="line">                │          LocalAppLocale.wasmJs.kt</span><br><span class="line">                │</span><br><span class="line">                └─util</span><br><span class="line">                        DispatcherProvider.wasmJs.kt</span><br><span class="line">                        ImageProvider.wasmJs.kt</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;经过一年多的演变，功能进行了迭代升级，许多的功能由不成熟到稳定，也是一种不错的体验。&lt;/p&gt;
&lt;p&gt;小白鼠实验结束…看到的可以入坑了&lt;/p&gt;</summary>
    
    
    
    
    <category term="Compose" scheme="https://xuie0000.com/tags/Compose/"/>
    
    <category term="Material You" scheme="https://xuie0000.com/tags/Material-You/"/>
    
    <category term="Multiplatform" scheme="https://xuie0000.com/tags/Multiplatform/"/>
    
  </entry>
  
  <entry>
    <title>Compose Material You | Part 2 Multiplatform</title>
    <link href="https://xuie0000.com/post/2024-01-13-compose-material-you-part2.html"/>
    <id>https://xuie0000.com/post/2024-01-13-compose-material-you-part2.html</id>
    <published>2024-01-13T12:45:54.000Z</published>
    <updated>2024-01-24T12:32:05.464Z</updated>
    
    <content type="html"><![CDATA[<p>分享之前重复的一个ONE项目，但代码完全改为了Multiplatform跨平台</p><span id="more"></span><h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><p><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/57bdd42b-de3d-4ac4-a66d-d92cc0e637c1" alt="COMPOSE MULTI PLATFORM"></p><div align='center'>      <video id="video" controls="" preload="none" poster="预览Video">            <source id="mp4" src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/4fe72735-b9f6-4156-a167-f07e42114507" type="video/mp4">      </videos></div><h2 id="implementation库"><a href="#implementation库" class="headerlink" title="implementation库"></a>implementation库</h2><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[versions]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># https://www.jetbrains.com/help/kotlin-multiplatform-dev/compose-compatibility-and-versioning.html#kotlin-compatibility</span></span><br><span class="line"><span class="attr">agp</span> = <span class="string">&quot;8.2.1&quot;</span></span><br><span class="line"><span class="attr">composeMultiplatform</span> = <span class="string">&quot;1.5.11&quot;</span></span><br><span class="line"><span class="attr">composeWebviewMultiplatformVersion</span> = <span class="string">&quot;1.7.2&quot;</span></span><br><span class="line"><span class="attr">kotlin</span> = <span class="string">&quot;1.9.21&quot;</span></span><br><span class="line"><span class="attr">kotlinxDatetime</span> = <span class="string">&quot;0.5.0&quot;</span></span><br><span class="line"><span class="attr">material</span> = <span class="string">&quot;1.11.0&quot;</span></span><br><span class="line"><span class="comment"># Kotlin Multiplatform Versions</span></span><br><span class="line"><span class="attr">decompose</span> = <span class="string">&quot;2.1.0-compose-experimental&quot;</span></span><br><span class="line"><span class="attr">decomposeRouter</span> = <span class="string">&quot;0.5.1&quot;</span></span><br><span class="line"><span class="attr">napier</span> = <span class="string">&quot;2.6.1&quot;</span></span><br><span class="line"><span class="attr">koin</span> = <span class="string">&quot;3.5.3&quot;</span></span><br><span class="line"><span class="attr">ktor</span> = <span class="string">&quot;2.3.7&quot;</span></span><br><span class="line"><span class="attr">jsoup</span> = <span class="string">&quot;1.15.3&quot;</span></span><br><span class="line"><span class="attr">kamel</span> = <span class="string">&quot;0.7.3&quot;</span></span><br><span class="line"><span class="attr">kotlinxCoroutines</span> = <span class="string">&quot;1.8.0-RC&quot;</span></span><br><span class="line"><span class="attr">kotlinxSerializationJson</span> = <span class="string">&quot;1.6.2&quot;</span></span><br><span class="line"><span class="attr">multiplatformSettings</span> = <span class="string">&quot;1.1.0&quot;</span></span><br><span class="line"><span class="attr">qdsfdhvhImageLoader</span> = <span class="string">&quot;1.7.1&quot;</span></span><br><span class="line"><span class="attr">androidx-activity-compose</span> = <span class="string">&quot;1.8.2&quot;</span></span><br><span class="line"><span class="attr">androidx-corektx</span> = <span class="string">&quot;1.12.0&quot;</span></span><br><span class="line"><span class="attr">coil</span> = <span class="string">&quot;2.5.0&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Desktop Versions</span></span><br><span class="line"><span class="attr">vlcj</span> = <span class="string">&quot;4.8.2&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="section">[libraries]</span></span><br><span class="line"><span class="comment">#Kotlin Multiplatform Lib Dependencies</span></span><br><span class="line"><span class="attr">compose-multiplatform</span> = &#123; module = <span class="string">&quot;org.jetbrains.compose:compose-gradle-plugin&quot;</span>, version.ref = <span class="string">&quot;composeMultiplatform&quot;</span> &#125;</span><br><span class="line"><span class="attr">jsoup</span> = &#123; module = <span class="string">&quot;org.jsoup:jsoup&quot;</span>, version.ref = <span class="string">&quot;jsoup&quot;</span> &#125;</span><br><span class="line"><span class="attr">kevinnzou-compose-webview-multiplatform</span> = &#123; module = <span class="string">&quot;io.github.kevinnzou:compose-webview-multiplatform&quot;</span>, version.ref = <span class="string">&quot;composeWebviewMultiplatformVersion&quot;</span> &#125;</span><br><span class="line"><span class="attr">kotlinx-coroutines</span> = &#123; module = <span class="string">&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core&quot;</span>, version.ref = <span class="string">&quot;kotlinxCoroutines&quot;</span> &#125;</span><br><span class="line"><span class="attr">kotlinx-datetime</span> = &#123; module = <span class="string">&quot;org.jetbrains.kotlinx:kotlinx-datetime&quot;</span>, version.ref = <span class="string">&quot;kotlinxDatetime&quot;</span> &#125;</span><br><span class="line"><span class="attr">kotlinx-serialization</span> = &#123; module = <span class="string">&quot;org.jetbrains.kotlinx:kotlinx-serialization-core&quot;</span>, version.ref = <span class="string">&quot;kotlinxSerializationJson&quot;</span> &#125;</span><br><span class="line"><span class="attr">koin-core</span> = &#123; module = <span class="string">&quot;io.insert-koin:koin-core&quot;</span>, version.ref = <span class="string">&quot;koin&quot;</span> &#125;</span><br><span class="line"><span class="attr">koin-core-js</span> = &#123; module = <span class="string">&quot;io.insert-koin:koin-core-js&quot;</span>, version.ref = <span class="string">&quot;koin&quot;</span> &#125;</span><br><span class="line"><span class="attr">koin-android</span> = &#123; module = <span class="string">&quot;io.insert-koin:koin-android&quot;</span>, version.ref = <span class="string">&quot;koin&quot;</span> &#125;</span><br><span class="line"><span class="attr">koin-compose</span> = &#123; module = <span class="string">&quot;io.insert-koin:koin-androidx-compose&quot;</span>, version.ref = <span class="string">&quot;koin&quot;</span> &#125;</span><br><span class="line"><span class="attr">ktor-client-cio</span> = &#123; module = <span class="string">&quot;io.ktor:ktor-client-cio&quot;</span>, version.ref = <span class="string">&quot;ktor&quot;</span> &#125;</span><br><span class="line"><span class="attr">ktor-client-content-negotiation</span> = &#123; module = <span class="string">&quot;io.ktor:ktor-client-content-negotiation&quot;</span>, version.ref = <span class="string">&quot;ktor&quot;</span> &#125;</span><br><span class="line"><span class="attr">ktor-client-core</span> = &#123; module = <span class="string">&quot;io.ktor:ktor-client-core&quot;</span>, version.ref = <span class="string">&quot;ktor&quot;</span> &#125;</span><br><span class="line"><span class="attr">ktor-client-darwin</span> = &#123; module = <span class="string">&quot;io.ktor:ktor-client-darwin&quot;</span>, version.ref = <span class="string">&quot;ktor&quot;</span> &#125;</span><br><span class="line"><span class="attr">ktor-client-js</span> = &#123; module = <span class="string">&quot;io.ktor:ktor-client-js&quot;</span>, version.ref = <span class="string">&quot;ktor&quot;</span> &#125;</span><br><span class="line"><span class="attr">ktor-client-logging</span> = &#123; module = <span class="string">&quot;io.ktor:ktor-client-logging&quot;</span>, version.ref = <span class="string">&quot;ktor&quot;</span> &#125;</span><br><span class="line"><span class="attr">ktor-serialization-kotlinx-json</span> = &#123; module = <span class="string">&quot;io.ktor:ktor-serialization-kotlinx-json&quot;</span>, version.ref = <span class="string">&quot;ktor&quot;</span> &#125;</span><br><span class="line"><span class="attr">napier</span> = &#123; module = <span class="string">&quot;io.github.aakira:napier&quot;</span>, version.ref = <span class="string">&quot;napier&quot;</span> &#125;</span><br><span class="line"><span class="attr">multiplatform-settings</span> = &#123; module = <span class="string">&quot;com.russhwolf:multiplatform-settings&quot;</span>, version.ref = <span class="string">&quot;multiplatformSettings&quot;</span> &#125;</span><br><span class="line"><span class="attr">kamel</span> = &#123; module = <span class="string">&quot;media.kamel:kamel-image&quot;</span>, version.ref = <span class="string">&quot;kamel&quot;</span> &#125;</span><br><span class="line"><span class="attr">decompose</span> = &#123; module = <span class="string">&quot;com.arkivanov.decompose:decompose&quot;</span>, version.ref = <span class="string">&quot;decompose&quot;</span> &#125;</span><br><span class="line"><span class="attr">decompose-router</span> = &#123; module = <span class="string">&quot;io.github.xxfast:decompose-router&quot;</span>, version.ref = <span class="string">&quot;decomposeRouter&quot;</span> &#125;</span><br><span class="line"><span class="attr">decompose-compose-multiplatform</span> = &#123; module = <span class="string">&quot;com.arkivanov.decompose:extensions-compose-jetbrains&quot;</span>, version.ref = <span class="string">&quot;decompose&quot;</span> &#125;</span><br><span class="line"><span class="attr">qdsfdhvh-image-loader</span> = &#123; module = <span class="string">&quot;io.github.qdsfdhvh:image-loader&quot;</span>, version.ref = <span class="string">&quot;qdsfdhvhImageLoader&quot;</span> &#125;</span><br><span class="line"><span class="attr">vlcj</span> = &#123; module = <span class="string">&quot;uk.co.caprica:vlcj&quot;</span>, version.ref = <span class="string">&quot;vlcj&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-activity-compose</span> = &#123; module = <span class="string">&quot;androidx.activity:activity-compose&quot;</span>, version.ref = <span class="string">&quot;androidx-activity-compose&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-core-ktx</span> = &#123; module = <span class="string">&quot;androidx.core:core-ktx&quot;</span>, version.ref = <span class="string">&quot;androidx-corektx&quot;</span> &#125;</span><br><span class="line"><span class="attr">coil-kt-compose</span> = &#123; module = <span class="string">&quot;io.coil-kt:coil-compose&quot;</span>, version.ref = <span class="string">&quot;coil&quot;</span> &#125;</span><br><span class="line"><span class="attr">google-android-material</span> = &#123; module = <span class="string">&quot;com.google.android.material:material&quot;</span>, version.ref = <span class="string">&quot;material&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="attr">agp</span> = &#123; module = <span class="string">&quot;com.android.tools.build:gradle&quot;</span>, version.ref = <span class="string">&quot;agp&quot;</span> &#125;</span><br><span class="line"><span class="attr">kotlin-gradle-plugin</span> = &#123; module = <span class="string">&quot;org.jetbrains.kotlin:kotlin-gradle-plugin&quot;</span>, version.ref = <span class="string">&quot;kotlin&quot;</span> &#125;</span><br><span class="line"><span class="attr">kotlin-serialization</span> = &#123; module = <span class="string">&quot;org.jetbrains.kotlin:kotlin-serialization&quot;</span>, version.ref = <span class="string">&quot;kotlin&quot;</span> &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;分享之前重复的一个ONE项目，但代码完全改为了Multiplatform跨平台&lt;/p&gt;</summary>
    
    
    
    
    <category term="Compose" scheme="https://xuie0000.com/tags/Compose/"/>
    
    <category term="Material You" scheme="https://xuie0000.com/tags/Material-You/"/>
    
    <category term="WanAndroid" scheme="https://xuie0000.com/tags/WanAndroid/"/>
    
  </entry>
  
  <entry>
    <title>Compose Material You | Part 1</title>
    <link href="https://xuie0000.com/post/2023-12-30-compose-material-you.html"/>
    <id>https://xuie0000.com/post/2023-12-30-compose-material-you.html</id>
    <published>2023-12-30T06:18:12.000Z</published>
    <updated>2023-12-30T06:52:10.791Z</updated>
    
    <content type="html"><![CDATA[<p>年关为什么就会想更新博客？…</p><p>记录两篇练习Compose</p><p>真的是越来越好了</p><p>质变来了？</p><p>期待Ing</p><h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><div style="display: flex; flex-direction: row;"><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/618e02ca-f612-43a3-9ae0-f614cff9289f" alt="" width="256px"/><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/8cce2cbc-82a5-4b8c-a043-5e0901f3d1f4" alt="" width="256px"/><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/228b815c-a282-4b8a-81fe-03ca49ccbbe9" alt="" width="256px"/></div><div style="display: flex; flex-direction: row;"><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/b106d6be-61f6-4061-9592-d9cf3cae119a" alt="" width="256px"/><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/0f74c0ab-acc3-4030-88a1-bfa82d0a19a2" alt="" width="256px"/><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/dd0abc4d-d1fb-4acd-8e2d-09b62711d1ec" alt="" width="256px"/></div><div style="display: flex; flex-direction: row;"><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/767962a9-6272-4b1d-975d-b07a3910226d" alt="" width="256px"/><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/b0e368ed-0885-40c5-8b6c-d45b995b3ba2" alt="" width="256px"/><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/a0520814-202e-428f-9e69-28e715ae3027" alt="" width="256px"/></div><div style="display: flex; flex-direction: row;"><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/b7321fd0-3d87-43e0-a3ce-529193bbcdbe" alt="" width="256px"/><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/5130c0ca-0323-4da2-8af7-0bb848e9bf64" alt="" width="256px"/><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/575705be-3411-4143-8d61-fef0185b6fe1" alt="" width="256px"/></div><span id="more"></span><h2 id="implementation库"><a href="#implementation库" class="headerlink" title="implementation库"></a>implementation库</h2><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[versions]</span></span><br><span class="line"><span class="attr">androidGradlePlugin</span> = <span class="string">&quot;8.2.0&quot;</span></span><br><span class="line"><span class="attr">androidxActivityCompose</span> = <span class="string">&quot;1.8.2&quot;</span></span><br><span class="line"><span class="attr">androidxComposeBom</span> = <span class="string">&quot;2023.10.01&quot;</span></span><br><span class="line"><span class="attr">androidxConstraintlayout</span> = <span class="string">&quot;1.0.1&quot;</span></span><br><span class="line"><span class="attr">androidxLifecycleCompose</span> = <span class="string">&quot;2.6.2&quot;</span></span><br><span class="line"><span class="attr">androidxNavigation</span> = <span class="string">&quot;2.7.6&quot;</span></span><br><span class="line"><span class="attr">androidxPaging</span> = <span class="string">&quot;3.2.1&quot;</span></span><br><span class="line"><span class="attr">androidxTestCore</span> = <span class="string">&quot;1.5.0&quot;</span></span><br><span class="line"><span class="attr">androidxTestEspresso</span> = <span class="string">&quot;3.5.1&quot;</span></span><br><span class="line"><span class="attr">androidxTestExtJunit</span> = <span class="string">&quot;1.1.5&quot;</span></span><br><span class="line"><span class="attr">androidxTestRules</span> = <span class="string">&quot;1.5.0&quot;</span></span><br><span class="line"><span class="attr">androidxTestRunner</span> = <span class="string">&quot;1.5.2&quot;</span></span><br><span class="line"><span class="attr">androidxHiltNavigationCompose</span> = <span class="string">&quot;1.1.0&quot;</span></span><br><span class="line"><span class="attr">datastorePreferences</span> = <span class="string">&quot;1.0.0&quot;</span></span><br><span class="line"><span class="attr">gradleVersions</span> = <span class="string">&quot;0.48.0&quot;</span></span><br><span class="line"><span class="attr">hilt</span> = <span class="string">&quot;2.49&quot;</span></span><br><span class="line"><span class="attr">junit</span> = <span class="string">&quot;4.13.2&quot;</span></span><br><span class="line"><span class="comment"># Kotlin &amp;&amp; Compose Compiler - https://androidx.dev/storage/compose-compiler/repository</span></span><br><span class="line"><span class="attr">kotlin</span> = <span class="string">&quot;1.9.21&quot;</span></span><br><span class="line"><span class="attr">kotlinxCoroutines</span> = <span class="string">&quot;1.7.3&quot;</span></span><br><span class="line"><span class="attr">kotlinxDatetime</span> = <span class="string">&quot;0.4.1&quot;</span></span><br><span class="line"><span class="attr">room</span> = <span class="string">&quot;2.6.1&quot;</span></span><br><span class="line"><span class="comment"># https://mvnrepository.com/artifact/com.google.devtools.ksp/com.google.devtools.ksp.gradle.plugin</span></span><br><span class="line"><span class="attr">ksp</span> = <span class="string">&quot;1.9.21-1.0.16&quot;</span></span><br><span class="line"><span class="attr">material</span> = <span class="string">&quot;1.11.0&quot;</span></span><br><span class="line"><span class="attr">protobuf</span> = <span class="string">&quot;3.25.1&quot;</span></span><br><span class="line"><span class="attr">protobufPlugin</span> = <span class="string">&quot;0.9.4&quot;</span></span><br><span class="line"><span class="attr">retrofit</span> = <span class="string">&quot;2.9.0&quot;</span></span><br><span class="line"><span class="attr">okhttp</span> = <span class="string">&quot;4.12.0&quot;</span></span><br><span class="line"><span class="attr">runtime</span> = <span class="string">&quot;1.5.4&quot;</span></span><br><span class="line"><span class="attr">timber</span> = <span class="string">&quot;5.0.1&quot;</span></span><br><span class="line"><span class="attr">spotless</span> = <span class="string">&quot;6.20.0&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="section">[libraries]</span></span><br><span class="line"><span class="attr">androidx-activity-compose</span> = &#123; module = <span class="string">&quot;androidx.activity:activity-compose&quot;</span>, version.ref = <span class="string">&quot;androidxActivityCompose&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-compose-animation</span> = &#123; module = <span class="string">&quot;androidx.compose.animation:animation&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-compose-bom</span> = &#123; module = <span class="string">&quot;androidx.compose:compose-bom&quot;</span>, version.ref = <span class="string">&quot;androidxComposeBom&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-compose-foundation</span> = &#123; module = <span class="string">&quot;androidx.compose.foundation:foundation&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-compose-foundation-layout</span> = &#123; module = <span class="string">&quot;androidx.compose.foundation:foundation-layout&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-compose-material-iconsExtended</span> = &#123; module = <span class="string">&quot;androidx.compose.material:material-icons-extended&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-compose-material3</span> = &#123; module = <span class="string">&quot;androidx.compose.material3:material3&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-compose-materialWindow</span> = &#123; module = <span class="string">&quot;androidx.compose.material3:material3-window-size-class&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-compose-ui</span> = &#123; module = <span class="string">&quot;androidx.compose.ui:ui&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-compose-ui-test</span> = &#123; module = <span class="string">&quot;androidx.compose.ui:ui-test-junit4&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-compose-ui-tooling</span> = &#123; module = <span class="string">&quot;androidx.compose.ui:ui-tooling&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-compose-ui-tooling-preview</span> = &#123; module = <span class="string">&quot;androidx.compose.ui:ui-tooling-preview&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-compose-ui-util</span> = &#123; module = <span class="string">&quot;androidx.compose.ui:ui-util&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-constraintlayout-compose</span> = &#123; module = <span class="string">&quot;androidx.constraintlayout:constraintlayout-compose&quot;</span>, version.ref = <span class="string">&quot;androidxConstraintlayout&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-datastore-preferences</span> = &#123; module = <span class="string">&quot;androidx.datastore:datastore-preferences&quot;</span>, version.ref = <span class="string">&quot;datastorePreferences&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-hilt-navigation-compose</span> = &#123; module = <span class="string">&quot;androidx.hilt:hilt-navigation-compose&quot;</span>, version.ref = <span class="string">&quot;androidxHiltNavigationCompose&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-lifecycle-runtime-compose</span> = &#123; module = <span class="string">&quot;androidx.lifecycle:lifecycle-runtime-compose&quot;</span>, version.ref = <span class="string">&quot;androidxLifecycleCompose&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-navigation-compose</span> = &#123; module = <span class="string">&quot;androidx.navigation:navigation-compose&quot;</span>, version.ref = <span class="string">&quot;androidxNavigation&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-paging-compose</span> = &#123; module = <span class="string">&quot;androidx.paging:paging-compose&quot;</span>, version.ref = <span class="string">&quot;androidxPaging&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-paging-common-ktx</span> = &#123; group = <span class="string">&quot;androidx.paging&quot;</span>, name = <span class="string">&quot;paging-common-ktx&quot;</span>, version.ref = <span class="string">&quot;androidxPaging&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-room-compiler</span> = &#123; module = <span class="string">&quot;androidx.room:room-compiler&quot;</span>, version.ref = <span class="string">&quot;room&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-room-ktx</span> = &#123; module = <span class="string">&quot;androidx.room:room-ktx&quot;</span>, version.ref = <span class="string">&quot;room&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-room-runtime</span> = &#123; module = <span class="string">&quot;androidx.room:room-runtime&quot;</span>, version.ref = <span class="string">&quot;room&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-room-paging</span> = &#123; module = <span class="string">&quot;androidx.room:room-paging&quot;</span>, version.ref = <span class="string">&quot;room&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-compose-runtime</span> = &#123; module = <span class="string">&quot;androidx.compose.runtime:runtime&quot;</span>, version.ref = <span class="string">&quot;runtime&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-test-core</span> = &#123; group = <span class="string">&quot;androidx.test&quot;</span>, name = <span class="string">&quot;core&quot;</span>, version.ref = <span class="string">&quot;androidxTestCore&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-test-espresso-core</span> = &#123; module = <span class="string">&quot;androidx.test.espresso:espresso-core&quot;</span>, version.ref = <span class="string">&quot;androidxTestEspresso&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-test-ext-junit</span> = &#123; module = <span class="string">&quot;androidx.test.ext:junit&quot;</span>, version.ref = <span class="string">&quot;androidxTestExtJunit&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-test-rules</span> = &#123; group = <span class="string">&quot;androidx.test&quot;</span>, name = <span class="string">&quot;rules&quot;</span>, version.ref = <span class="string">&quot;androidxTestRules&quot;</span> &#125;</span><br><span class="line"><span class="attr">androidx-test-runner</span> = &#123; group = <span class="string">&quot;androidx.test&quot;</span>, name = <span class="string">&quot;runner&quot;</span>, version.ref = <span class="string">&quot;androidxTestRunner&quot;</span> &#125;</span><br><span class="line"><span class="attr">google-android-material</span> = &#123; module = <span class="string">&quot;com.google.android.material:material&quot;</span>, version.ref = <span class="string">&quot;material&quot;</span> &#125;</span><br><span class="line"><span class="attr">hilt-android</span> = &#123; group = <span class="string">&quot;com.google.dagger&quot;</span>, name = <span class="string">&quot;hilt-android&quot;</span>, version.ref = <span class="string">&quot;hilt&quot;</span> &#125;</span><br><span class="line"><span class="attr">hilt-android-testing</span> = &#123; group = <span class="string">&quot;com.google.dagger&quot;</span>, name = <span class="string">&quot;hilt-android-testing&quot;</span>, version.ref = <span class="string">&quot;hilt&quot;</span> &#125;</span><br><span class="line"><span class="attr">hilt-compiler</span> = &#123; group = <span class="string">&quot;com.google.dagger&quot;</span>, name = <span class="string">&quot;hilt-android-compiler&quot;</span>, version.ref = <span class="string">&quot;hilt&quot;</span> &#125;</span><br><span class="line"><span class="attr">junit</span> = &#123; module = <span class="string">&quot;junit:junit&quot;</span>, version.ref = <span class="string">&quot;junit&quot;</span> &#125;</span><br><span class="line"><span class="attr">kotlinx-coroutines-android</span> = &#123; module = <span class="string">&quot;org.jetbrains.kotlinx:kotlinx-coroutines-android&quot;</span>, version.ref = <span class="string">&quot;kotlinxCoroutines&quot;</span> &#125;</span><br><span class="line"><span class="attr">kotlinx-coroutines-core</span> = &#123; module = <span class="string">&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core&quot;</span>, version.ref = <span class="string">&quot;kotlinxCoroutines&quot;</span> &#125;</span><br><span class="line"><span class="attr">kotlinx-coroutines-test</span> = &#123; group = <span class="string">&quot;org.jetbrains.kotlinx&quot;</span>, name = <span class="string">&quot;kotlinx-coroutines-test&quot;</span>, version.ref = <span class="string">&quot;kotlinxCoroutines&quot;</span> &#125;</span><br><span class="line"><span class="attr">kotlinx-datetime</span> = &#123; group = <span class="string">&quot;org.jetbrains.kotlinx&quot;</span>, name = <span class="string">&quot;kotlinx-datetime&quot;</span>, version.ref = <span class="string">&quot;kotlinxDatetime&quot;</span> &#125;</span><br><span class="line"><span class="attr">retrofit2</span> = &#123; module = <span class="string">&quot;com.squareup.retrofit2:retrofit&quot;</span>, version.ref = <span class="string">&quot;retrofit&quot;</span> &#125;</span><br><span class="line"><span class="attr">retrofit2-gson</span> = &#123; module = <span class="string">&quot;com.squareup.retrofit2:converter-gson&quot;</span>, version.ref = <span class="string">&quot;retrofit&quot;</span> &#125;</span><br><span class="line"><span class="attr">okhttp3</span> = &#123; module = <span class="string">&quot;com.squareup.okhttp3:okhttp&quot;</span>, version.ref = <span class="string">&quot;okhttp&quot;</span> &#125;</span><br><span class="line"><span class="attr">okhttp3-logging</span> = &#123; module = <span class="string">&quot;com.squareup.okhttp3:logging-interceptor&quot;</span>, version.ref = <span class="string">&quot;okhttp&quot;</span> &#125;</span><br><span class="line"><span class="attr">protobuf-kotlin-lite</span> = &#123; group = <span class="string">&quot;com.google.protobuf&quot;</span>, name = <span class="string">&quot;protobuf-kotlin-lite&quot;</span>, version.ref = <span class="string">&quot;protobuf&quot;</span> &#125;</span><br><span class="line"><span class="attr">protobuf-protoc</span> = &#123; group = <span class="string">&quot;com.google.protobuf&quot;</span>, name = <span class="string">&quot;protoc&quot;</span>, version.ref = <span class="string">&quot;protobuf&quot;</span> &#125;</span><br><span class="line"><span class="attr">timber</span> = &#123; module = <span class="string">&quot;com.jakewharton.timber:timber&quot;</span>, version.ref = <span class="string">&quot;timber&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="section">[plugins]</span></span><br><span class="line"><span class="attr">android-application</span> = &#123; id = <span class="string">&quot;com.android.application&quot;</span>, version.ref = <span class="string">&quot;androidGradlePlugin&quot;</span> &#125;</span><br><span class="line"><span class="attr">android-library</span> = &#123; id = <span class="string">&quot;com.android.library&quot;</span>, version.ref = <span class="string">&quot;androidGradlePlugin&quot;</span> &#125;</span><br><span class="line"><span class="attr">gradle-versions</span> = &#123; id = <span class="string">&quot;com.github.ben-manes.versions&quot;</span>, version.ref = <span class="string">&quot;gradleVersions&quot;</span> &#125;</span><br><span class="line"><span class="attr">hilt</span> = &#123; id = <span class="string">&quot;com.google.dagger.hilt.android&quot;</span>, version.ref = <span class="string">&quot;hilt&quot;</span> &#125;</span><br><span class="line"><span class="attr">kapt</span> = &#123; id = <span class="string">&quot;org.jetbrains.kotlin.kapt&quot;</span>, version.ref = <span class="string">&quot;kotlin&quot;</span> &#125;</span><br><span class="line"><span class="attr">kotlin-android</span> = &#123; id = <span class="string">&quot;org.jetbrains.kotlin.android&quot;</span>, version.ref = <span class="string">&quot;kotlin&quot;</span> &#125;</span><br><span class="line"><span class="attr">kotlin-parcelize</span> = &#123; id = <span class="string">&quot;org.jetbrains.kotlin.plugin.parcelize&quot;</span>, version.ref = <span class="string">&quot;kotlin&quot;</span> &#125;</span><br><span class="line"><span class="attr">kotlin-serialization</span> = &#123; id = <span class="string">&quot;org.jetbrains.kotlin.plugin.serialization&quot;</span>, version.ref = <span class="string">&quot;kotlin&quot;</span> &#125;</span><br><span class="line"><span class="attr">ksp</span> = &#123; id = <span class="string">&quot;com.google.devtools.ksp&quot;</span>, version.ref = <span class="string">&quot;ksp&quot;</span> &#125;</span><br><span class="line"><span class="attr">spotless</span> = &#123; id = <span class="string">&quot;com.diffplug.spotless&quot;</span>, version.ref = <span class="string">&quot;spotless&quot;</span> &#125;</span><br><span class="line"><span class="attr">protobuf</span> = &#123; id = <span class="string">&quot;com.google.protobuf&quot;</span>, version.ref = <span class="string">&quot;protobufPlugin&quot;</span> &#125;</span><br></pre></td></tr></table></figure><h2 id="Code-Tree"><a href="#Code-Tree" class="headerlink" title="Code Tree"></a>Code Tree</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br></pre></td><td class="code"><pre><span class="line">│  <span class="selector-class">.gitignore</span></span><br><span class="line">│  android<span class="selector-class">.jks</span></span><br><span class="line">│  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│  gradle<span class="selector-class">.properties</span></span><br><span class="line">│  gradlew</span><br><span class="line">│  gradlew<span class="selector-class">.bat</span></span><br><span class="line">│  keystore<span class="selector-class">.properties</span></span><br><span class="line">│  local<span class="selector-class">.properties</span></span><br><span class="line">│  README<span class="selector-class">.md</span></span><br><span class="line">│  settings<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│</span><br><span class="line">├─<span class="selector-class">.gradle</span></span><br><span class="line">│  │  config<span class="selector-class">.properties</span></span><br><span class="line">│  │  file-system<span class="selector-class">.probe</span></span><br><span class="line">├─app</span><br><span class="line">│  │  <span class="selector-class">.gitignore</span></span><br><span class="line">│  │  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│  │  consumer-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  proguard-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │</span><br><span class="line">│  └─<span class="attribute">src</span></span><br><span class="line">│      ├─androidTest</span><br><span class="line">│      │  └─java</span><br><span class="line">│      │      └─com</span><br><span class="line">│      │          └─wan</span><br><span class="line">│      │              └─android</span><br><span class="line">│      │                      ExampleInstrumentedTest<span class="selector-class">.kt</span></span><br><span class="line">│      │</span><br><span class="line">│      ├─<span class="selector-tag">main</span></span><br><span class="line">│      │  │  AndroidManifest<span class="selector-class">.xml</span></span><br><span class="line">│      │  │</span><br><span class="line">│      │  ├─java</span><br><span class="line">│      │  │  └─com</span><br><span class="line">│      │  │      └─wan</span><br><span class="line">│      │  │          └─android</span><br><span class="line">│      │  │              │  AComposeApplication<span class="selector-class">.kt</span></span><br><span class="line">│      │  │              │  MainActivity<span class="selector-class">.kt</span></span><br><span class="line">│      │  │              │  MainViewModel<span class="selector-class">.kt</span></span><br><span class="line">│      │  │              │</span><br><span class="line">│      │  │              └─ui</span><br><span class="line">│      │  │                      AppDrawer<span class="selector-class">.kt</span></span><br><span class="line">│      │  │                      AppState<span class="selector-class">.kt</span></span><br><span class="line">│      │  │                      NavGraph<span class="selector-class">.kt</span></span><br><span class="line">│      │  │</span><br><span class="line">│      │  └─res</span><br><span class="line">│      │      ├─drawable</span><br><span class="line">│      │      │      akc<span class="selector-class">.xml</span></span><br><span class="line">│      │      │      android_studio<span class="selector-class">.xml</span></span><br><span class="line">│      │      │</span><br><span class="line">│      │      └─values</span><br><span class="line">│      │              colors<span class="selector-class">.xml</span></span><br><span class="line">│      │              strings<span class="selector-class">.xml</span></span><br><span class="line">│      │              styles<span class="selector-class">.xml</span></span><br><span class="line">│      │</span><br><span class="line">│      └─test</span><br><span class="line">│          └─java</span><br><span class="line">│              └─com</span><br><span class="line">│                  └─wan</span><br><span class="line">│                      └─android</span><br><span class="line">│                              ExampleUnitTest<span class="selector-class">.kt</span></span><br><span class="line">│</span><br><span class="line">├─build-logic</span><br><span class="line">│  │  <span class="selector-class">.gitignore</span></span><br><span class="line">│  │  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│  │  settings<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│  │</span><br><span class="line">│  └─<span class="attribute">src</span></span><br><span class="line">│      └─<span class="selector-tag">main</span></span><br><span class="line">│          └─kotlin</span><br><span class="line">│                  local<span class="selector-class">.app</span><span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│                  local<span class="selector-class">.kotlin</span><span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│                  local<span class="selector-class">.library</span><span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│                  local<span class="selector-class">.spotless</span><span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│</span><br><span class="line">├─core</span><br><span class="line">│  ├─data</span><br><span class="line">│  │  │  <span class="selector-class">.gitignore</span></span><br><span class="line">│  │  │  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│  │  │  consumer-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │  proguard-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │</span><br><span class="line">│  │  └─<span class="attribute">src</span></span><br><span class="line">│  │      ├─androidTest</span><br><span class="line">│  │      │  └─java</span><br><span class="line">│  │      │      └─com</span><br><span class="line">│  │      │          └─wan</span><br><span class="line">│  │      │              └─data</span><br><span class="line">│  │      │                      ExampleInstrumentedTest<span class="selector-class">.kt</span></span><br><span class="line">│  │      │</span><br><span class="line">│  │      ├─<span class="selector-tag">main</span></span><br><span class="line">│  │      │  │  AndroidManifest<span class="selector-class">.xml</span></span><br><span class="line">│  │      │  │</span><br><span class="line">│  │      │  └─java</span><br><span class="line">│  │      │      └─com</span><br><span class="line">│  │      │          └─wan</span><br><span class="line">│  │      │              └─core</span><br><span class="line">│  │      │                  └─data</span><br><span class="line">│  │      │                      ├─di</span><br><span class="line">│  │      │                      │      Annotation<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │      DataModule<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │</span><br><span class="line">│  │      │                      ├─repository</span><br><span class="line">│  │      │                      │  │  WanRepository<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  │</span><br><span class="line">│  │      │                      │  ├─<span class="selector-tag">article</span></span><br><span class="line">│  │      │                      │  │      AComposeRepository<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  │      DbArticleRepository<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  │      InMemoryByItemArticleRepository<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  │      ItemKeyedArticlePagingSource<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  │      ItemKeyedSearchPagingSource<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  │      PageKeyedRemoteMediator<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  │      WanParam<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  │      WanType<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  │</span><br><span class="line">│  │      │                      │  ├─search</span><br><span class="line">│  │      │                      │  │      DefaultSearchRepository<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  │      SearchRepository<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  │</span><br><span class="line">│  │      │                      │  ├─task</span><br><span class="line">│  │      │                      │  │      InMemoryByItemTaskRepository<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  │      ItemKeyedTaskPagingSource<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  │      TaskRepository<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  │      TaskStatus<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  │</span><br><span class="line">│  │      │                      │  └─user</span><br><span class="line">│  │      │                      │          DefaultUserRepository<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │          UserRepository<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │</span><br><span class="line">│  │      │                      └─util</span><br><span class="line">│  │      │                              Assets<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                              ConnectivityManagerNetworkMonitor<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                              NetworkMonitor<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                              String<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                              Wan<span class="selector-class">.kt</span></span><br><span class="line">│  │      │</span><br><span class="line">│  │      └─test</span><br><span class="line">│  │          └─java</span><br><span class="line">│  │              └─com</span><br><span class="line">│  │                  └─wan</span><br><span class="line">│  │                      └─core</span><br><span class="line">│  │                          └─data</span><br><span class="line">│  │                              │  ExampleUnitTest<span class="selector-class">.kt</span></span><br><span class="line">│  │                              │</span><br><span class="line">│  │                              ├─model</span><br><span class="line">│  │                              │      ArticleTest<span class="selector-class">.kt</span></span><br><span class="line">│  │                              │</span><br><span class="line">│  │                              └─repository</span><br><span class="line">│  │                                      WanRepositoryTest<span class="selector-class">.kt</span></span><br><span class="line">│  │                                      </span><br><span class="line">│  ├─database</span><br><span class="line">│  │  │  <span class="selector-class">.gitignore</span></span><br><span class="line">│  │  │  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│  │  │  consumer-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │  proguard-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │</span><br><span class="line">│  │  └─<span class="attribute">src</span></span><br><span class="line">│  │      ├─androidTest</span><br><span class="line">│  │      │  └─java</span><br><span class="line">│  │      │      └─com</span><br><span class="line">│  │      │          └─wan</span><br><span class="line">│  │      │              └─database</span><br><span class="line">│  │      │                      ExampleInstrumentedTest<span class="selector-class">.kt</span></span><br><span class="line">│  │      │</span><br><span class="line">│  │      ├─<span class="selector-tag">main</span></span><br><span class="line">│  │      │  │  AndroidManifest<span class="selector-class">.xml</span></span><br><span class="line">│  │      │  │</span><br><span class="line">│  │      │  └─java</span><br><span class="line">│  │      │      └─com</span><br><span class="line">│  │      │          └─wan</span><br><span class="line">│  │      │              └─core</span><br><span class="line">│  │      │                  └─database</span><br><span class="line">│  │      │                      │  AComposeDatabase<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  ArticleDao<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  DaosModule<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  DatabaseModule<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  HotKeyDao<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  RemoteKeysDao<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  UserDao<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │</span><br><span class="line">│  │      │                      └─model</span><br><span class="line">│  │      │                              Article<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                              HotKey<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                              RemoteKeys<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                              Task<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                              User<span class="selector-class">.kt</span></span><br><span class="line">│  │      │</span><br><span class="line">│  │      └─test</span><br><span class="line">│  │          └─java</span><br><span class="line">│  │              └─com</span><br><span class="line">│  │                  └─wan</span><br><span class="line">│  │                      └─database</span><br><span class="line">│  │                              ExampleUnitTest<span class="selector-class">.kt</span></span><br><span class="line">│  │</span><br><span class="line">│  ├─datastore</span><br><span class="line">│  │  │  <span class="selector-class">.gitignore</span></span><br><span class="line">│  │  │  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│  │  │  consumer-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │  proguard-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │</span><br><span class="line">│  │  └─<span class="attribute">src</span></span><br><span class="line">│  │      ├─androidTest</span><br><span class="line">│  │      │  └─java</span><br><span class="line">│  │      │      └─com</span><br><span class="line">│  │      │          └─wan</span><br><span class="line">│  │      │              └─network</span><br><span class="line">│  │      │                      ExampleInstrumentedTest<span class="selector-class">.kt</span></span><br><span class="line">│  │      │</span><br><span class="line">│  │      ├─<span class="selector-tag">main</span></span><br><span class="line">│  │      │  │  AndroidManifest<span class="selector-class">.xml</span></span><br><span class="line">│  │      │  │</span><br><span class="line">│  │      │  └─java</span><br><span class="line">│  │      │      └─com</span><br><span class="line">│  │      │          └─wan</span><br><span class="line">│  │      │              └─core</span><br><span class="line">│  │      │                  └─datastore</span><br><span class="line">│  │      │                      │  AComposePreferencesDataSource<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │  UserPreferencesSerializer<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │</span><br><span class="line">│  │      │                      └─di</span><br><span class="line">│  │      │                              DataStoreModule<span class="selector-class">.kt</span></span><br><span class="line">│  │      │</span><br><span class="line">│  │      └─test</span><br><span class="line">│  │          └─java</span><br><span class="line">│  │              └─com</span><br><span class="line">│  │                  └─wan</span><br><span class="line">│  │                      └─network</span><br><span class="line">│  │                              ExampleUnitTest<span class="selector-class">.kt</span></span><br><span class="line">│  │</span><br><span class="line">│  ├─datastore-proto</span><br><span class="line">│  │  │  <span class="selector-class">.gitignore</span></span><br><span class="line">│  │  │  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│  │  │  consumer-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │  proguard-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │</span><br><span class="line">│  │  └─<span class="attribute">src</span></span><br><span class="line">│  │      └─<span class="selector-tag">main</span></span><br><span class="line">│  │          └─proto</span><br><span class="line">│  │              └─com</span><br><span class="line">│  │                  └─wan</span><br><span class="line">│  │                      └─core</span><br><span class="line">│  │                          └─datastore</span><br><span class="line">│  │                                  dark_theme_config<span class="selector-class">.proto</span></span><br><span class="line">│  │                                  user_preferences<span class="selector-class">.proto</span></span><br><span class="line">│  │</span><br><span class="line">│  ├─logger</span><br><span class="line">│  │  │  <span class="selector-class">.gitignore</span></span><br><span class="line">│  │  │  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│  │  │  consumer-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │  proguard-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │</span><br><span class="line">│  │  └─<span class="attribute">src</span></span><br><span class="line">│  │      └─<span class="selector-tag">main</span></span><br><span class="line">│  │          │  AndroidManifest<span class="selector-class">.xml</span></span><br><span class="line">│  │          │</span><br><span class="line">│  │          └─java</span><br><span class="line">│  │              └─com</span><br><span class="line">│  │                  └─wan</span><br><span class="line">│  │                      └─core</span><br><span class="line">│  │                          └─logger</span><br><span class="line">│  │                                  CrashLogger<span class="selector-class">.kt</span></span><br><span class="line">│  │                                  FileSizeUtil<span class="selector-class">.kt</span></span><br><span class="line">│  │                                  LocalLogger<span class="selector-class">.kt</span></span><br><span class="line">│  │                                  Logger<span class="selector-class">.kt</span></span><br><span class="line">│  │</span><br><span class="line">│  ├─model</span><br><span class="line">│  │  │  <span class="selector-class">.gitignore</span></span><br><span class="line">│  │  │  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│  │  │  consumer-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │  proguard-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │</span><br><span class="line">│  │  └─<span class="attribute">src</span></span><br><span class="line">│  │      ├─androidTest</span><br><span class="line">│  │      │  └─java</span><br><span class="line">│  │      │      └─com</span><br><span class="line">│  │      │          └─wan</span><br><span class="line">│  │      │              └─model</span><br><span class="line">│  │      │                      ExampleInstrumentedTest<span class="selector-class">.kt</span></span><br><span class="line">│  │      │</span><br><span class="line">│  │      ├─<span class="selector-tag">main</span></span><br><span class="line">│  │      │  │  AndroidManifest<span class="selector-class">.xml</span></span><br><span class="line">│  │      │  │</span><br><span class="line">│  │      │  └─java</span><br><span class="line">│  │      │      └─com</span><br><span class="line">│  │      │          └─wan</span><br><span class="line">│  │      │              └─core</span><br><span class="line">│  │      │                  └─model</span><br><span class="line">│  │      │                          Banner<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                          Chapter<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                          CoinInfo<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                          DarkThemeConfig<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                          FriendWeb<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                          Navigation<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                          Page<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                          Share<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                          Tag<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                          UserData<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                          WanAndroid<span class="selector-class">.kt</span></span><br><span class="line">│  │      │</span><br><span class="line">│  │      └─test</span><br><span class="line">│  │          └─java</span><br><span class="line">│  │              └─com</span><br><span class="line">│  │                  └─wan</span><br><span class="line">│  │                      └─model</span><br><span class="line">│  │                              ExampleUnitTest<span class="selector-class">.kt</span></span><br><span class="line">│  │</span><br><span class="line">│  ├─navigation</span><br><span class="line">│  │  │  <span class="selector-class">.gitignore</span></span><br><span class="line">│  │  │  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│  │  │  consumer-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │  proguard-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │</span><br><span class="line">│  │  └─<span class="attribute">src</span></span><br><span class="line">│  │      └─<span class="selector-tag">main</span></span><br><span class="line">│  │          │  AndroidManifest<span class="selector-class">.xml</span></span><br><span class="line">│  │          │</span><br><span class="line">│  │          └─java</span><br><span class="line">│  │              └─com</span><br><span class="line">│  │                  └─wan</span><br><span class="line">│  │                      └─core</span><br><span class="line">│  │                          └─navigation</span><br><span class="line">│  │                                  NavController<span class="selector-class">.kt</span></span><br><span class="line">│  │</span><br><span class="line">│  ├─network</span><br><span class="line">│  │  │  <span class="selector-class">.gitignore</span></span><br><span class="line">│  │  │  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│  │  │  consumer-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │  proguard-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │</span><br><span class="line">│  │  └─<span class="attribute">src</span></span><br><span class="line">│  │      ├─androidTest</span><br><span class="line">│  │      │  └─java</span><br><span class="line">│  │      │      └─com</span><br><span class="line">│  │      │          └─wan</span><br><span class="line">│  │      │              └─network</span><br><span class="line">│  │      │                      ExampleInstrumentedTest<span class="selector-class">.kt</span></span><br><span class="line">│  │      │</span><br><span class="line">│  │      ├─<span class="selector-tag">main</span></span><br><span class="line">│  │      │  │  AndroidManifest<span class="selector-class">.xml</span></span><br><span class="line">│  │      │  │</span><br><span class="line">│  │      │  ├─assets</span><br><span class="line">│  │      │  │      test_articles<span class="selector-class">.json</span></span><br><span class="line">│  │      │  │</span><br><span class="line">│  │      │  └─java</span><br><span class="line">│  │      │      │  JvmUnitTestFakeAssetManager<span class="selector-class">.kt</span></span><br><span class="line">│  │      │      │</span><br><span class="line">│  │      │      └─com</span><br><span class="line">│  │      │          └─wan</span><br><span class="line">│  │      │              └─core</span><br><span class="line">│  │      │                  └─network</span><br><span class="line">│  │      │                      │  NetworkDataSource<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │</span><br><span class="line">│  │      │                      ├─di</span><br><span class="line">│  │      │                      │      FlavoredNetworkModule<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │      NetworkModule<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │</span><br><span class="line">│  │      │                      ├─fake</span><br><span class="line">│  │      │                      │      FakeAssetManager<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │      FakeNetworkDataSource<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │</span><br><span class="line">│  │      │                      ├─interceptor</span><br><span class="line">│  │      │                      │      AddCookiesInterceptor<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │      ReceivedCookiesInterceptor<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                      │</span><br><span class="line">│  │      │                      └─retrofit</span><br><span class="line">│  │      │                              RetrofitNetworkApi<span class="selector-class">.kt</span></span><br><span class="line">│  │      │                              RetrofitNiaNetwork<span class="selector-class">.kt</span></span><br><span class="line">│  │      │</span><br><span class="line">│  │      └─test</span><br><span class="line">│  │          └─java</span><br><span class="line">│  │              └─com</span><br><span class="line">│  │                  └─wan</span><br><span class="line">│  │                      └─network</span><br><span class="line">│  │                              NetworkUnitTest<span class="selector-class">.kt</span></span><br><span class="line">│  │</span><br><span class="line">│  ├─testing</span><br><span class="line">│  │  │  <span class="selector-class">.gitignore</span></span><br><span class="line">│  │  │  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│  │  │  consumer-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │  proguard-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │</span><br><span class="line">│  │  └─<span class="attribute">src</span></span><br><span class="line">│  │      └─<span class="selector-tag">main</span></span><br><span class="line">│  │          │  AndroidManifest<span class="selector-class">.xml</span></span><br><span class="line">│  │          │</span><br><span class="line">│  │          └─java</span><br><span class="line">│  │              └─com</span><br><span class="line">│  │                  └─wan</span><br><span class="line">│  │                      └─core</span><br><span class="line">│  │                          └─testing</span><br><span class="line">│  │                                  TestingTestRunner<span class="selector-class">.kt</span></span><br><span class="line">│  │</span><br><span class="line">│  └─ui</span><br><span class="line">│      │  <span class="selector-class">.gitignore</span></span><br><span class="line">│      │  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│      │  consumer-rules<span class="selector-class">.pro</span></span><br><span class="line">│      │  proguard-rules<span class="selector-class">.pro</span></span><br><span class="line">│      │</span><br><span class="line">│      └─<span class="attribute">src</span></span><br><span class="line">│          ├─androidTest</span><br><span class="line">│          │  └─java</span><br><span class="line">│          │      └─com</span><br><span class="line">│          │          └─wan</span><br><span class="line">│          │              └─network</span><br><span class="line">│          │                      ExampleInstrumentedTest<span class="selector-class">.kt</span></span><br><span class="line">│          │</span><br><span class="line">│          ├─<span class="selector-tag">main</span></span><br><span class="line">│          │  │  AndroidManifest<span class="selector-class">.xml</span></span><br><span class="line">│          │  │</span><br><span class="line">│          │  ├─java</span><br><span class="line">│          │  │  └─com</span><br><span class="line">│          │  │      └─wan</span><br><span class="line">│          │  │          └─core</span><br><span class="line">│          │  │              └─ui</span><br><span class="line">│          │  │                  │  LazyPagingItems<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │  Loading<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │  LoadingContent<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │  UiLoading<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │</span><br><span class="line">│          │  │                  ├─components</span><br><span class="line">│          │  │                  │      Buttons<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      ClickablePreferenceItem<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      NextDialog<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      NextIcon<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      NextSwitch<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      NextText<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      PreferenceItem<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      PreferenceSwitch<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      PreferenceSwitchWithDivider<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      RadioTextButton<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      SearchBar<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      SimpleOutlinedTextField<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      Tabs<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      TopAppBar<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │</span><br><span class="line">│          │  │                  ├─iconpack</span><br><span class="line">│          │  │                  │      Akc<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      AndroidStudio<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      Collection<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      DarkTheme<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      Delete<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      Edit<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      FriendWeb<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      Home<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      IconPack<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      Navigation<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      Project<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      Qa<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      Search<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      Square<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      Studio<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      System<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      Todo<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      Tree<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      Wechat<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │</span><br><span class="line">│          │  │                  ├─pullrefresh</span><br><span class="line">│          │  │                  │      PullRefresh<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      PullRefreshIndicator<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      PullRefreshIndicatorTransform<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      PullRefreshState<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │</span><br><span class="line">│          │  │                  ├─state</span><br><span class="line">│          │  │                  │      UiState<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │</span><br><span class="line">│          │  │                  └─theme</span><br><span class="line">│          │  │                          Color<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                          Shape<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                          Theme<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                          Type<span class="selector-class">.kt</span></span><br><span class="line">│          │  │</span><br><span class="line">│          │  └─res</span><br><span class="line">│          │      └─values</span><br><span class="line">│          │              colors<span class="selector-class">.xml</span></span><br><span class="line">│          │              strings<span class="selector-class">.xml</span></span><br><span class="line">│          │</span><br><span class="line">│          └─test</span><br><span class="line">│              └─java</span><br><span class="line">│                  └─com</span><br><span class="line">│                      └─wan</span><br><span class="line">│                          └─network</span><br><span class="line">│                                  ExampleUnitTest<span class="selector-class">.kt</span></span><br><span class="line">│</span><br><span class="line">├─feature</span><br><span class="line">│  ├─android</span><br><span class="line">│  │  │  <span class="selector-class">.gitignore</span></span><br><span class="line">│  │  │  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│  │  │  consumer-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │  proguard-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │</span><br><span class="line">│  │  └─<span class="attribute">src</span></span><br><span class="line">│  │      └─<span class="selector-tag">main</span></span><br><span class="line">│  │          │  AndroidManifest<span class="selector-class">.xml</span></span><br><span class="line">│  │          │</span><br><span class="line">│  │          ├─assets</span><br><span class="line">│  │          │      <span class="selector-tag">article</span><span class="selector-class">.json</span></span><br><span class="line">│  │          │      friend-web<span class="selector-class">.json</span></span><br><span class="line">│  │          │      hotkey<span class="selector-class">.json</span></span><br><span class="line">│  │          │      navi<span class="selector-class">.json</span></span><br><span class="line">│  │          │      todo<span class="selector-class">.json</span></span><br><span class="line">│  │          │      tree<span class="selector-class">.json</span></span><br><span class="line">│  │          │</span><br><span class="line">│  │          └─java</span><br><span class="line">│  │              └─com</span><br><span class="line">│  │                  └─wan</span><br><span class="line">│  │                      └─feature</span><br><span class="line">│  │                          ├─android</span><br><span class="line">│  │                          │  │  AndroidScreen<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │  │  AndroidViewModel<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │  │</span><br><span class="line">│  │                          │  └─navigation</span><br><span class="line">│  │                          │          AndroidNavigation<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │</span><br><span class="line">│  │                          ├─friendweb</span><br><span class="line">│  │                          │  │  FriendWebScreen<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │  │  FriendWebViewModel<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │  │</span><br><span class="line">│  │                          │  └─navigation</span><br><span class="line">│  │                          │          FriendWebNavigation<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │</span><br><span class="line">│  │                          ├─navi</span><br><span class="line">│  │                          │  │  NavScreen<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │  │  NavViewModel<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │  │</span><br><span class="line">│  │                          │  └─navigation</span><br><span class="line">│  │                          │          NavNavigation<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │</span><br><span class="line">│  │                          ├─projecttree</span><br><span class="line">│  │                          │  │  ProjectTreeScreen<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │  │  ProjectTreeViewModel<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │  │</span><br><span class="line">│  │                          │  └─navigation</span><br><span class="line">│  │                          │          ProjectTreeNavigation<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │</span><br><span class="line">│  │                          ├─search</span><br><span class="line">│  │                          │  │  SearchScreen<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │  │  SearchViewModel<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │  │</span><br><span class="line">│  │                          │  └─navigation</span><br><span class="line">│  │                          │          SearchNavigation<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │</span><br><span class="line">│  │                          ├─system</span><br><span class="line">│  │                          │  │  TreeScreen<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │  │  TreeViewModel<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │  │</span><br><span class="line">│  │                          │  └─navigation</span><br><span class="line">│  │                          │          TreeNavigation<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │</span><br><span class="line">│  │                          ├─todo</span><br><span class="line">│  │                          │  │  TodoScreen<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │  │  TodoViewModel<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │  │</span><br><span class="line">│  │                          │  └─navigation</span><br><span class="line">│  │                          │          TodoNavigation<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │</span><br><span class="line">│  │                          ├─website</span><br><span class="line">│  │                          │  │  WebsiteScreen<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │  │</span><br><span class="line">│  │                          │  └─navigation</span><br><span class="line">│  │                          │          WebsiteNavigation<span class="selector-class">.kt</span></span><br><span class="line">│  │                          │</span><br><span class="line">│  │                          └─wechat</span><br><span class="line">│  │                              │  WechatScreen<span class="selector-class">.kt</span></span><br><span class="line">│  │                              │  WechatViewModel<span class="selector-class">.kt</span></span><br><span class="line">│  │                              │</span><br><span class="line">│  │                              └─navigation</span><br><span class="line">│  │                                      WechatNavigation<span class="selector-class">.kt</span></span><br><span class="line">│  │</span><br><span class="line">│  ├─login</span><br><span class="line">│  │  │  <span class="selector-class">.gitignore</span></span><br><span class="line">│  │  │  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│  │  │  consumer-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │  proguard-rules<span class="selector-class">.pro</span></span><br><span class="line">│  │  │</span><br><span class="line">│  │  └─<span class="attribute">src</span></span><br><span class="line">│  │      ├─androidTest</span><br><span class="line">│  │      │  └─java</span><br><span class="line">│  │      │      └─com</span><br><span class="line">│  │      │          └─wan</span><br><span class="line">│  │      │              └─network</span><br><span class="line">│  │      │                      ExampleInstrumentedTest<span class="selector-class">.kt</span></span><br><span class="line">│  │      │</span><br><span class="line">│  │      ├─<span class="selector-tag">main</span></span><br><span class="line">│  │      │  │  AndroidManifest<span class="selector-class">.xml</span></span><br><span class="line">│  │      │  │</span><br><span class="line">│  │      │  ├─java</span><br><span class="line">│  │      │  │  └─com</span><br><span class="line">│  │      │  │      └─wan</span><br><span class="line">│  │      │  │          └─feature</span><br><span class="line">│  │      │  │              └─login</span><br><span class="line">│  │      │  │                  │  LoginScreen<span class="selector-class">.kt</span></span><br><span class="line">│  │      │  │                  │  LoginViewModel<span class="selector-class">.kt</span></span><br><span class="line">│  │      │  │                  │  RegisterScreen<span class="selector-class">.kt</span></span><br><span class="line">│  │      │  │                  │  ResetScreen<span class="selector-class">.kt</span></span><br><span class="line">│  │      │  │                  │</span><br><span class="line">│  │      │  │                  └─navigation</span><br><span class="line">│  │      │  │                          LoginNavigation<span class="selector-class">.kt</span></span><br><span class="line">│  │      │  │</span><br><span class="line">│  │      │  └─res</span><br><span class="line">│  │      │      └─drawable-xhdpi</span><br><span class="line">│  │      │              user_forgot<span class="selector-class">.png</span></span><br><span class="line">│  │      │              user_reg<span class="selector-class">.png</span></span><br><span class="line">│  │      │              user_sign_in<span class="selector-class">.png</span></span><br><span class="line">│  │      │</span><br><span class="line">│  │      └─test</span><br><span class="line">│  │          └─java</span><br><span class="line">│  │              └─com</span><br><span class="line">│  │                  └─wan</span><br><span class="line">│  │                      └─network</span><br><span class="line">│  │                              ExampleUnitTest<span class="selector-class">.kt</span></span><br><span class="line">│  │</span><br><span class="line">│  └─settings</span><br><span class="line">│      │  <span class="selector-class">.gitignore</span></span><br><span class="line">│      │  build<span class="selector-class">.gradle</span><span class="selector-class">.kts</span></span><br><span class="line">│      │  consumer-rules<span class="selector-class">.pro</span></span><br><span class="line">│      │  proguard-rules<span class="selector-class">.pro</span></span><br><span class="line">│      │</span><br><span class="line">│      └─<span class="attribute">src</span></span><br><span class="line">│          │</span><br><span class="line">│          ├─<span class="selector-tag">main</span></span><br><span class="line">│          │  │  AndroidManifest<span class="selector-class">.xml</span></span><br><span class="line">│          │  │</span><br><span class="line">│          │  ├─java</span><br><span class="line">│          │  │  └─com</span><br><span class="line">│          │  │      └─wan</span><br><span class="line">│          │  │          └─feature</span><br><span class="line">│          │  │              └─settings</span><br><span class="line">│          │  │                  │  SettingsScreen<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │  SettingsViewModel<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │</span><br><span class="line">│          │  │                  ├─composables</span><br><span class="line">│          │  │                  │      OptionsDialog<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │      PreferenceSubtitle<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │</span><br><span class="line">│          │  │                  ├─extensions</span><br><span class="line">│          │  │                  │      ThemeConfig<span class="selector-class">.kt</span></span><br><span class="line">│          │  │                  │</span><br><span class="line">│          │  │                  └─navigation</span><br><span class="line">│          │  │                          SettingsNavigation<span class="selector-class">.kt</span></span><br><span class="line">│          │  │</span><br><span class="line">│          │  └─res</span><br><span class="line">│          │      ├─drawable-xhdpi</span><br><span class="line">│          │      │      user_forgot<span class="selector-class">.png</span></span><br><span class="line">│          │      │      user_reg<span class="selector-class">.png</span></span><br><span class="line">│          │      │      user_sign_in<span class="selector-class">.png</span></span><br><span class="line">│          │      │</span><br><span class="line">│          │      └─values</span><br><span class="line">│          │              strings<span class="selector-class">.xml</span></span><br><span class="line">│          │</span><br><span class="line">│          └─test</span><br><span class="line">│              └─java</span><br><span class="line">│                  └─com</span><br><span class="line">│                      └─wan</span><br><span class="line">│                          └─network</span><br><span class="line">│                                  ExampleUnitTest<span class="selector-class">.kt</span></span><br><span class="line">│</span><br><span class="line">└─gradle</span><br><span class="line">    │  libs<span class="selector-class">.versions</span><span class="selector-class">.toml</span></span><br><span class="line">    │</span><br><span class="line">    └─wrapper</span><br><span class="line">            gradle-wrapper<span class="selector-class">.jar</span></span><br><span class="line">            gradle-wrapper.properties</span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://github.com/android/nowinandroid">https://github.com/android/nowinandroid</a><br><a href="https://www.wanandroid.com/blog/show/2">https://www.wanandroid.com/blog/show/2</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;年关为什么就会想更新博客？…&lt;/p&gt;
&lt;p&gt;记录两篇练习Compose&lt;/p&gt;
&lt;p&gt;真的是越来越好了&lt;/p&gt;
&lt;p&gt;质变来了？&lt;/p&gt;
&lt;p&gt;期待Ing&lt;/p&gt;
&lt;h2 id=&quot;预览&quot;&gt;&lt;a href=&quot;#预览&quot; class=&quot;headerlink&quot; title=&quot;预览&quot;&gt;&lt;/a&gt;预览&lt;/h2&gt;&lt;div style=&quot;display: flex; flex-direction: row;&quot;&gt;
&lt;img src=&quot;https://github.com/xuie0000/xuie0000.github.io/assets/8099426/618e02ca-f612-43a3-9ae0-f614cff9289f&quot; alt=&quot;&quot; width=&quot;256px&quot;/&gt;
&lt;img src=&quot;https://github.com/xuie0000/xuie0000.github.io/assets/8099426/8cce2cbc-82a5-4b8c-a043-5e0901f3d1f4&quot; alt=&quot;&quot; width=&quot;256px&quot;/&gt;
&lt;img src=&quot;https://github.com/xuie0000/xuie0000.github.io/assets/8099426/228b815c-a282-4b8a-81fe-03ca49ccbbe9&quot; alt=&quot;&quot; width=&quot;256px&quot;/&gt;
&lt;/div&gt;

&lt;div style=&quot;display: flex; flex-direction: row;&quot;&gt;
&lt;img src=&quot;https://github.com/xuie0000/xuie0000.github.io/assets/8099426/b106d6be-61f6-4061-9592-d9cf3cae119a&quot; alt=&quot;&quot; width=&quot;256px&quot;/&gt;
&lt;img src=&quot;https://github.com/xuie0000/xuie0000.github.io/assets/8099426/0f74c0ab-acc3-4030-88a1-bfa82d0a19a2&quot; alt=&quot;&quot; width=&quot;256px&quot;/&gt;
&lt;img src=&quot;https://github.com/xuie0000/xuie0000.github.io/assets/8099426/dd0abc4d-d1fb-4acd-8e2d-09b62711d1ec&quot; alt=&quot;&quot; width=&quot;256px&quot;/&gt;
&lt;/div&gt;

&lt;div style=&quot;display: flex; flex-direction: row;&quot;&gt;
&lt;img src=&quot;https://github.com/xuie0000/xuie0000.github.io/assets/8099426/767962a9-6272-4b1d-975d-b07a3910226d&quot; alt=&quot;&quot; width=&quot;256px&quot;/&gt;
&lt;img src=&quot;https://github.com/xuie0000/xuie0000.github.io/assets/8099426/b0e368ed-0885-40c5-8b6c-d45b995b3ba2&quot; alt=&quot;&quot; width=&quot;256px&quot;/&gt;
&lt;img src=&quot;https://github.com/xuie0000/xuie0000.github.io/assets/8099426/a0520814-202e-428f-9e69-28e715ae3027&quot; alt=&quot;&quot; width=&quot;256px&quot;/&gt;
&lt;/div&gt;

&lt;div style=&quot;display: flex; flex-direction: row;&quot;&gt;
&lt;img src=&quot;https://github.com/xuie0000/xuie0000.github.io/assets/8099426/b7321fd0-3d87-43e0-a3ce-529193bbcdbe&quot; alt=&quot;&quot; width=&quot;256px&quot;/&gt;
&lt;img src=&quot;https://github.com/xuie0000/xuie0000.github.io/assets/8099426/5130c0ca-0323-4da2-8af7-0bb848e9bf64&quot; alt=&quot;&quot; width=&quot;256px&quot;/&gt;
&lt;img src=&quot;https://github.com/xuie0000/xuie0000.github.io/assets/8099426/575705be-3411-4143-8d61-fef0185b6fe1&quot; alt=&quot;&quot; width=&quot;256px&quot;/&gt;
&lt;/div&gt;</summary>
    
    
    
    
    <category term="Compose" scheme="https://xuie0000.com/tags/Compose/"/>
    
    <category term="Material You" scheme="https://xuie0000.com/tags/Material-You/"/>
    
    <category term="WanAndroid" scheme="https://xuie0000.com/tags/WanAndroid/"/>
    
  </entry>
  
  <entry>
    <title>一个-预览与设计</title>
    <link href="https://xuie0000.com/post/2022-12-28-one-app-design.html"/>
    <id>https://xuie0000.com/post/2022-12-28-one-app-design.html</id>
    <published>2022-12-28T02:37:47.000Z</published>
    <updated>2023-12-30T05:24:16.813Z</updated>
    
    <content type="html"><![CDATA[<hr><blockquote><p>补更预览图 230518</p></blockquote><hr><p>明明每天都很忙，2022年就又没，太“兔”然了。</p><p>分享“一个”的Compose的样例，也是我最近手撸的一个App，来“兔”击一下</p><span id="more"></span><p>其实有人看的话也仅仅是看个结果而已，所以就不分享些细细碎碎的实现过程了，直接上干货，效果图+依赖包+接口，最后再附上我项目的结构树图</p><h2 id="预览效果"><a href="#预览效果" class="headerlink" title="预览效果"></a>预览效果</h2><div style="display: flex; flex-direction: row;"><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/11d09caa-0cef-4635-8e90-7531aa7e9c80" alt="one-home" width="256px"/><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/4904800e-94fb-4524-ac3a-e4f8208ee88d" alt="one-discover-hp" width="256px"/><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/76ca124b-d62c-477f-8525-ef657beba367" alt="one-radio" width="256px"/></div><div style="display: flex; flex-direction: row;"><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/52fea0da-309a-4186-873e-88b9091a219e" alt="one-discover-author" width="256px"/><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/4a442746-41e4-4733-aef5-8adfd7d14ced" alt="one-discover-rank" width="256px"/><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/df77dd9a-6614-428d-8665-fa95fb9732c2" alt="one-discover-diary" width="256px"/></div><div style="display: flex; flex-direction: row;"><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/d7cdf754-8396-464f-9285-88ec384ee129" alt="one-about" width="256px"/><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/7551c513-c53f-4c30-a7fa-266ca9121a14" alt="one-xingshu" width="256px"/></div><div style="display: flex; flex-direction: row;"><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/91161f90-232c-41ee-97d4-64ba40804d01" alt="home-viewpager"/><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/5d402966-5007-47d2-ba55-ff7e44bd9d9c" alt="essay-detail"/><img src="https://github.com/xuie0000/xuie0000.github.io/assets/8099426/0df2d2bf-1009-4c8e-b1d9-00dc0bbfbb54" alt="one-all"/></div><h2 id="依赖包"><a href="#依赖包" class="headerlink" title="依赖包"></a>依赖包</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line"></span><br><span class="line">    val composeBom = <span class="built_in">platform</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span>.bom)</span><br><span class="line">    <span class="built_in">implementation</span>(composeBom)</span><br><span class="line">    <span class="built_in">androidTestImplementation</span>(composeBom)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.kotlin</span>.stdlib)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.kotlinx</span><span class="selector-class">.coroutines</span>.android)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span>.<span class="attribute">animation</span>)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span><span class="selector-class">.foundation</span>.layout)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span><span class="selector-class">.material</span>.iconsExtended)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span>.material3)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span>.materialWindow)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span><span class="selector-class">.runtime</span>.livedata)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span><span class="selector-class">.ui</span>.tooling)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span><span class="selector-class">.ui</span><span class="selector-class">.tooling</span>.preview)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span><span class="selector-class">.ui</span>.util)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span><span class="selector-class">.ui</span>.googlefonts)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.constraintlayout</span>.compose)</span><br><span class="line">    <span class="built_in">debugImplementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span><span class="selector-class">.ui</span><span class="selector-class">.test</span>.manifest)</span><br><span class="line">    <span class="built_in">debugImplementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span><span class="selector-class">.ui</span>.tooling)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.hilt</span>.android)</span><br><span class="line">    <span class="built_in">kapt</span>(libs<span class="selector-class">.hilt</span>.compiler)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.hilt</span><span class="selector-class">.navigation</span>.compose)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.accompanist</span>.swiperefresh)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.accompanist</span>.systemuicontroller)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.accompanist</span>.pager)</span><br><span class="line">    <span class="built_in">implementation</span>(libs.retrofit2)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.retrofit2</span>.gson)</span><br><span class="line">    <span class="built_in">implementation</span>(libs.okhttp3)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.okhttp3</span>.logging)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span>.appcompat)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.activity</span>.ktx)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.core</span>.ktx)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.activity</span>.compose)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.lifecycle</span><span class="selector-class">.viewmodel</span>.ktx)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.lifecycle</span><span class="selector-class">.viewmodel</span>.savedstate)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.lifecycle</span><span class="selector-class">.livedata</span>.ktx)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.lifecycle</span>.viewModelCompose)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.lifecycle</span><span class="selector-class">.runtime</span>.compose)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.navigation</span>.compose)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.androidx</span>.paging)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.coil</span><span class="selector-class">.kt</span>.compose)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.jakewharton</span>.timber)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.tencent</span>.mmkv)</span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.tencent</span>.bugly)</span><br><span class="line">    <span class="built_in">implementation</span>(libs.shimmer)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">implementation</span>(libs<span class="selector-class">.google</span><span class="selector-class">.android</span>.material)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">androidTestImplementation</span>(libs.junit)</span><br><span class="line">    <span class="built_in">androidTestImplementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.test</span>.core)</span><br><span class="line">    <span class="built_in">androidTestImplementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.test</span>.runner)</span><br><span class="line">    <span class="built_in">androidTestImplementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.test</span><span class="selector-class">.espresso</span>.core)</span><br><span class="line">    <span class="built_in">androidTestImplementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.test</span>.rules)</span><br><span class="line">    <span class="built_in">androidTestImplementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.test</span><span class="selector-class">.ext</span>.junit)</span><br><span class="line">    <span class="built_in">androidTestImplementation</span>(libs<span class="selector-class">.kotlinx</span><span class="selector-class">.coroutines</span>.test)</span><br><span class="line">    <span class="built_in">androidTestImplementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span><span class="selector-class">.ui</span>.test)</span><br><span class="line">    <span class="built_in">androidTestImplementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span><span class="selector-class">.ui</span><span class="selector-class">.test</span>.junit4)</span><br><span class="line">    <span class="comment">// Robolectric dependencies</span></span><br><span class="line">    <span class="built_in">testImplementation</span>(libs<span class="selector-class">.androidx</span><span class="selector-class">.compose</span><span class="selector-class">.ui</span><span class="selector-class">.test</span>.junit4)</span><br><span class="line">    <span class="built_in">testImplementation</span>(libs.robolectric)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.android.one.<span class="keyword">data</span>.bean.*</span><br><span class="line"><span class="keyword">import</span> retrofit2.http.GET</span><br><span class="line"><span class="keyword">import</span> retrofit2.http.Path</span><br><span class="line"><span class="keyword">import</span> retrofit2.http.Query</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">val</span> ONE_API = <span class="string">&quot;http://v3.wufazhuce.com:8000&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">const</span> <span class="keyword">val</span> CHANNEL = <span class="string">&quot;360&quot;</span><span class="comment">//&quot;cool&quot;</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">const</span> <span class="keyword">val</span> VERSION = <span class="string">&quot;5.3.3&quot;</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">const</span> <span class="keyword">val</span> PLATFORM = <span class="string">&quot;android&quot;</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">const</span> <span class="keyword">val</span> SIGN = <span class="string">&quot;5c978571e36480d1fbb521d1f8e7eb7f&quot;</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">const</span> <span class="keyword">val</span> UUID = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">OneService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取xx年xx月份的往期列表</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/feeds/list/2022-06</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/feeds/list/&#123;date&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">feedsList</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;date&quot;</span>)</span> date: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;List&lt;FeedsItem&gt;&gt;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/onelist/idlist&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">oneList</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;List&lt;String&gt;&gt;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/channel/one/&#123;date&#125;/0&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">channelOneDate</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;date&quot;</span>)</span> date: <span class="type">String</span> = <span class="string">&quot;2022-12-6&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;One&gt;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/onelist/&#123;id&#125;/0&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">channelOneId</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;id&quot;</span>)</span> date: <span class="type">String</span> = <span class="string">&quot;6445&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;One&gt;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/hp/idlist/0&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">getPictures</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;List&lt;String&gt;&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/hp/detail/3813</span></span><br><span class="line"><span class="comment">     * 图片详情 &quot;category&quot;: &quot;0&quot;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/hp/detail/&#123;content_id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">hpDetail</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;content_id&quot;</span>)</span> contentId: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;HpData&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/essay/detail/5712</span></span><br><span class="line"><span class="comment">     * 文章详情 &quot;category&quot;: &quot;1&quot;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/essay/detail/&#123;content_id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">essayDetail</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;content_id&quot;</span>)</span> contentId: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;Essay&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/serialcontent/detail/1615</span></span><br><span class="line"><span class="comment">     * 连载 &quot;category&quot;: &quot;2&quot;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/serialcontent/detail/&#123;content_id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">serialContentDetail</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;content_id&quot;</span>)</span> contentId: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;SerialContent&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/question/detail/3621</span></span><br><span class="line"><span class="comment">     * 连载 &quot;category&quot;: &quot;3&quot;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/question/detail/&#123;content_id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">questionDetail</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;content_id&quot;</span>)</span> contentId: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;Question&gt;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/radio/detail/&#123;content_id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">radioDetail</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;content_id&quot;</span>)</span> contentId: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;Radio&gt;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/music/detail/&#123;content_id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">musicDetail</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;content_id&quot;</span>)</span> contentId: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;Music&gt;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/movie/detail/&#123;content_id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">movieDetail</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;content_id&quot;</span>)</span> contentId: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;Movie&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/banner/list/4?last_id=0</span></span><br><span class="line"><span class="comment">     * 专题</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/banner/list/4&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">bannerList</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;last_id&quot;</span>)</span> lastId: <span class="type">Int</span> = <span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;List&lt;Banner&gt;&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/channel/reading/more/0?channel=cool&amp;version=4.6.3&amp;platform=android</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/channel/reading/more/&#123;last_id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">readingList</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;last_id&quot;</span>)</span> lastId: <span class="type">String</span> = <span class="string">&quot;0&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;List&lt;ReadingItem&gt;&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/channel/music/more/0?channel=cool&amp;version=4.6.3&amp;platform=android</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/channel/music/more/&#123;last_id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">musicList</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;last_id&quot;</span>)</span> lastId: <span class="type">String</span> = <span class="string">&quot;0&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;List&lt;MusicItem&gt;&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/channel/movie/more/0?channel=cool&amp;version=4.6.3&amp;platform=android</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/channel/movie/more/&#123;last_id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">movieList</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;last_id&quot;</span>)</span> lastId: <span class="type">String</span> = <span class="string">&quot;0&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;List&lt;MovieItem&gt;&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/author/hot</span></span><br><span class="line"><span class="comment">     * 热门作者</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/author/hot&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">hotAuthor</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;List&lt;Author&gt;&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/find/bymonth/0/2022-12?channel=360&amp;sign=5c978571e36480d1fbb521d1f8e7eb7f&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * 发现-图文</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/find/bymonth/&#123;category&#125;/&#123;date&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">findCategory</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;category&quot;</span>)</span> category: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;date&quot;</span>)</span> date: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;List&lt;Category&gt;&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/find/rank?channel=360&amp;sign=5c978571e36480d1fbb521d1f8e7eb7f&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * 热榜</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/find/rank&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">findRank</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;List&lt;Rank&gt;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/find/rank/8?channel=yingyongbao&amp;sign=663effea0f86f193ebec17a79be6860f&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * 热榜详情</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/find/rank/&#123;id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">findRankItem</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;id&quot;</span>)</span> id: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;List&lt;RankItem&gt;&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/diary/square/more/0/20?channel=360&amp;sign=5c978571e36480d1fbb521d1f8e7eb7f&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * 小记</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/diary/square/more/&#123;last_id&#125;/20&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">findDiary</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;last_id&quot;</span>)</span> id: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;DiaryData&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/find/serial/byyear/2022?channel=360&amp;sign=5c978571e36480d1fbb521d1f8e7eb7f&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * 连载</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/find/serial/byyear/&#123;year&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">findSerial</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;year&quot;</span>)</span> year: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;List&lt;Category&gt;&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * /api/user/info/12533772?user_id=12533772&amp;jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2NzE1MjI2NDQsInVzZXJpZCI6IjEyNTMzNzcyIn0.jl9D6GcFXidB45R9kiKfncVHADceq92uEkKvjXdmWBU&amp;channel=360&amp;sign=8d68c8c63589bf1b9c7bd1ab6b7f1ecc&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * /api/othercenter/12533772?user_id=12533772&amp;channel=360&amp;sign=92d71f1a573cec86b27705f1266968ec&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * /api/signin?user_id=12533772&amp;jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2NzE1MjI2NDQsInVzZXJpZCI6IjEyNTMzNzcyIn0.jl9D6GcFXidB45R9kiKfncVHADceq92uEkKvjXdmWBU&amp;vendor=1&amp;channel=360&amp;sign=cd6a651acc8b9249fb5146feda700cfb&amp;client_type=ANDROID&amp;version=5.3.3&amp;uuid=&amp;platform=android&amp;client_id=12b55d615cab3c496bee3750f329381e</span></span><br><span class="line"><span class="comment">     * /api/user/follow_list?uid=12533772&amp;last_id=0&amp;user_id=12533772&amp;channel=360&amp;sign=54ba4b0a48552ae2b451cbe2c151fdbe&amp;type=1&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * /api/personal/diary?user_id=12533772&amp;jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2NzE1MjI2NDQsInVzZXJpZCI6IjEyNTMzNzcyIn0.jl9D6GcFXidB45R9kiKfncVHADceq92uEkKvjXdmWBU&amp;channel=360&amp;sign=8d68c8c63589bf1b9c7bd1ab6b7f1ecc&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * /api/personal/messages?user_id=12533772&amp;jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2NzE1MjI2NDQsInVzZXJpZCI6IjEyNTMzNzcyIn0.jl9D6GcFXidB45R9kiKfncVHADceq92uEkKvjXdmWBU&amp;channel=360&amp;sign=1e7ead7901e40aac62f834659b76ca0d&amp;last_datetime=0&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * My Account Info</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/user/info/&#123;id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">userInfo</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;id&quot;</span>)</span> id: <span class="type">String</span> = <span class="string">&quot;12533772&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;user_id&quot;</span>)</span> userId: <span class="type">String</span> = <span class="string">&quot;12533772&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;jwt&quot;</span>)</span> jwt: <span class="type">String</span> = <span class="string">&quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2NzE1MjI2NDQsInVzZXJpZCI6IjEyNTMzNzcyIn0.jl9D6GcFXidB45R9kiKfncVHADceq92uEkKvjXdmWBU&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;UserInfo&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/radio/active?user_id=12533772&amp;channel=360&amp;sign=92d71f1a573cec86b27705f1266968ec&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * 主页面当前电台</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/find/serial/byyear/&#123;year&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">radioActive</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;RadioActive&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/essay/htmlcontent/5728?user_id=12533772&amp;channel=360&amp;sign=ca40d6e1cd0086baafb322bd581bc729&amp;source=summary&amp;source_id=25371&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * HTML在COMPOSE中显示太不友好了！</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/&#123;category&#125;/htmlcontent/&#123;content_id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">htmlCategory</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;category&quot;</span>)</span> category: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;content_id&quot;</span>)</span> contentId: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;HtmlCategory&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 评论列表接口</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/comment/praiseandtime/radio/4097/0?user_id=12533772&amp;channel=360&amp;sign=92d71f1a573cec86b27705f1266968ec&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/comment/praiseandtime/&#123;category&#125;/&#123;content_id&#125;/&#123;last_id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">commentCategory</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;category&quot;</span>)</span> category: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;content_id&quot;</span>)</span> contentId: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;last_id&quot;</span>)</span> lastId: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;CommentData&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/relatedforwebview/essay/5730?user_id=12533772&amp;channel=360&amp;sign=92d71f1a573cec86b27705f1266968ec&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * 相关文章推荐</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/relatedforwebview/&#123;category&#125;/&#123;content_id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">relatedCategory</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;category&quot;</span>)</span> category: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;content_id&quot;</span>)</span> contentId: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;List&lt;RelatedCategory&gt;&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/author/info?channel=yingyongbao&amp;sign=f2acf85b3f541fee3a97f1b6b3d0929e&amp;author_id=4809091&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * 作者信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/author/info&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">authorInfo</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;author_id&quot;</span>)</span> authorId: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;Author&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/author/works?channel=yingyongbao&amp;sign=28e415540840d6c61a3efa10adb614da&amp;page_num=0&amp;author_id=4809091&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * 作者详情</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/author/works&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">authorWorks</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;author_id&quot;</span>)</span> authorId: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;page_num&quot;</span>)</span> pageNum: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;List&lt;OneContent&gt;&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/topic/htmlcontent/144?channel=yingyongbao&amp;sign=a0c9934aeaa8458cd64a61304332d932&amp;source=banner&amp;source_id=262&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * 专题详情</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/topic/htmlcontent/&#123;content_id&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">htmlBanner</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;content_id&quot;</span>)</span> contentId: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;source&quot;</span>)</span> source: <span class="type">String</span> = <span class="string">&quot;banner&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;source_id&quot;</span>)</span> id: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;HtmlCategory&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * http://v3.wufazhuce.com:8000/api/hp/bydate/2022-11-22?channel=yingyongbao&amp;sign=663effea0f86f193ebec17a79be6860f&amp;version=5.3.3&amp;uuid=&amp;platform=android</span></span><br><span class="line"><span class="comment">     * 图片详情</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET(<span class="string">&quot;/api/hp/bydate/&#123;date&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">hpByDate</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Path(<span class="string">&quot;date&quot;</span>)</span> date: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;channel&quot;</span>)</span> channel: <span class="type">String</span> = CHANNEL,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;sign&quot;</span>)</span> sign: <span class="type">String</span> = SIGN,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;uuid&quot;</span>)</span> uuid: <span class="type">String</span> = UUID,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;version&quot;</span>)</span> version: <span class="type">String</span> = VERSION,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Query(<span class="string">&quot;platform&quot;</span>)</span> platform: <span class="type">String</span> = PLATFORM</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ResponseOne&lt;OneContent&gt;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Tree"><a href="#Tree" class="headerlink" title="Tree"></a>Tree</h2><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br></pre></td><td class="code"><pre><span class="line">one/app/src/main$ tree</span><br><span class="line">.</span><br><span class="line">├── AndroidManifest.<span class="keyword">xml</span></span><br><span class="line"><span class="title">├── assets</span></span><br><span class="line">│   ├── essay.json</span><br><span class="line">│   ├── hp.json</span><br><span class="line">│   ├── question.json</span><br><span class="line">│   ├── radio.json</span><br><span class="line">│   ├── rank.json</span><br><span class="line">│   ├── serial_content.json</span><br><span class="line">│   ├── test.json</span><br><span class="line">│   ├── user.json</span><br><span class="line">│   └── weather.json</span><br><span class="line">├── java</span><br><span class="line">│   └── com</span><br><span class="line">│       └── android</span><br><span class="line">│           └── one</span><br><span class="line">│               ├── data</span><br><span class="line">│               │   ├── api</span><br><span class="line">│               │   │   └── OneService.kt</span><br><span class="line">│               │   ├── bean</span><br><span class="line">│               │   │   ├── Answerer.kt</span><br><span class="line">│               │   │   ├── Asker.kt</span><br><span class="line">│               │   │   ├── Author.kt</span><br><span class="line">│               │   │   ├── Banner.kt</span><br><span class="line">│               │   │   ├── Category.kt</span><br><span class="line">│               │   │   ├── CommentCategory.kt</span><br><span class="line">│               │   │   ├── Diary.kt</span><br><span class="line">│               │   │   ├── Essay.kt</span><br><span class="line">│               │   │   ├── HpData.kt</span><br><span class="line">│               │   │   ├── HtmlCategory.kt</span><br><span class="line">│               │   │   ├── Menu.kt</span><br><span class="line">│               │   │   ├── MList.kt</span><br><span class="line">│               │   │   ├── MovieItem.kt</span><br><span class="line">│               │   │   ├── Movie.kt</span><br><span class="line">│               │   │   ├── MusicItem.kt</span><br><span class="line">│               │   │   ├── Music.kt</span><br><span class="line">│               │   │   ├── OneContent.kt</span><br><span class="line">│               │   │   ├── One.kt</span><br><span class="line">│               │   │   ├── Permission.kt</span><br><span class="line">│               │   │   ├── Qq.kt</span><br><span class="line">│               │   │   ├── Question.kt</span><br><span class="line">│               │   │   ├── RadioActive.kt</span><br><span class="line">│               │   │   ├── Radio.kt</span><br><span class="line">│               │   │   ├── RankItem.kt</span><br><span class="line">│               │   │   ├── Rank.kt</span><br><span class="line">│               │   │   ├── ReadingItem.kt</span><br><span class="line">│               │   │   ├── RelatedCategory.kt</span><br><span class="line">│               │   │   ├── ResponseOne.kt</span><br><span class="line">│               │   │   ├── SerialContent.kt</span><br><span class="line">│               │   │   ├── Share<span class="literal">Inf</span>o.kt</span><br><span class="line">│               │   │   ├── ShareList.kt</span><br><span class="line">│               │   │   ├── StoryAuthor.kt</span><br><span class="line">│               │   │   ├── <span class="keyword">Tag</span>.kt</span><br><span class="line">│               │   │   ├── Touser.kt</span><br><span class="line">│               │   │   ├── User<span class="literal">Inf</span>o.kt</span><br><span class="line">│               │   │   ├── User.kt</span><br><span class="line">│               │   │   ├── WeatherIcons.kt</span><br><span class="line">│               │   │   ├── Weather.kt</span><br><span class="line">│               │   │   ├── Weibo.kt</span><br><span class="line">│               │   │   ├── Wx.kt</span><br><span class="line">│               │   │   └── WxTimeline.kt</span><br><span class="line">│               │   ├── di</span><br><span class="line">│               │   │   ├── NetworkModule.kt</span><br><span class="line">│               │   │   └── RepositoryModule.kt</span><br><span class="line">│               │   ├── Ext.kt</span><br><span class="line">│               │   └── repository</span><br><span class="line">│               │       ├── OneRepository.kt</span><br><span class="line">│               │       └── paging</span><br><span class="line">│               │           ├── AuthorWorksPagingSource.kt</span><br><span class="line">│               │           ├── BannerPagingSource.kt</span><br><span class="line">│               │           ├── CategoryPagingSource.kt</span><br><span class="line">│               │           ├── CommentPagingSource.kt</span><br><span class="line">│               │           ├── DiaryPagingSource.kt</span><br><span class="line">│               │           ├── FeedsPagingSource.kt</span><br><span class="line">│               │           ├── InMemoryByItemPagingRepository.kt</span><br><span class="line">│               │           ├── MoviePagingSource.kt</span><br><span class="line">│               │           ├── MusicPagingSource.kt</span><br><span class="line">│               │           ├── PagingRepository.kt</span><br><span class="line">│               │           └── ReadingPagingSource.kt</span><br><span class="line">│               ├── MainActivity.kt</span><br><span class="line">│               ├── OneApplication.kt</span><br><span class="line">│               ├── ui</span><br><span class="line">│               │   ├── about</span><br><span class="line">│               │   │   └── AboutScreen.kt</span><br><span class="line">│               │   ├── AppState.kt</span><br><span class="line">│               │   ├── components</span><br><span class="line">│               │   │   ├── AuthorItem.kt</span><br><span class="line">│               │   │   ├── CommentItem.kt</span><br><span class="line">│               │   │   ├── DisplayContent.kt</span><br><span class="line">│               │   │   ├── HeaderBar.kt</span><br><span class="line">│               │   │   ├── HtmlText.kt</span><br><span class="line">│               │   │   ├── ImageRoundedItem.kt</span><br><span class="line">│               │   │   ├── LoadingContent.kt</span><br><span class="line">│               │   │   ├── LoadingExt.kt</span><br><span class="line">│               │   │   ├── Placeholder.kt</span><br><span class="line">│               │   │   ├── RelatedItem.kt</span><br><span class="line">│               │   │   ├── ShimmerEffect.kt</span><br><span class="line">│               │   │   ├── ShimmerHost.kt</span><br><span class="line">│               │   │   ├── Spinner.kt</span><br><span class="line">│               │   │   └── TitleHeader.kt</span><br><span class="line">│               │   ├── detail</span><br><span class="line">│               │   │   ├── AuthorDetailScreen.kt</span><br><span class="line">│               │   │   ├── BannerDetailScreen.kt</span><br><span class="line">│               │   │   ├── DiaryDetailScreen.kt</span><br><span class="line">│               │   │   ├── EssayDetailScreen.kt</span><br><span class="line">│               │   │   ├── HpDetailScreen.kt</span><br><span class="line">│               │   │   ├── HpItemDetailScreen.kt</span><br><span class="line">│               │   │   ├── MovieDetailScreen.kt</span><br><span class="line">│               │   │   ├── MusicDetailScreen.kt</span><br><span class="line">│               │   │   ├── QuestionDetailScreen.kt</span><br><span class="line">│               │   │   ├── RadioDetailScreen.kt</span><br><span class="line">│               │   │   ├── RankDetailScreen.kt</span><br><span class="line">│               │   │   └── SerialDetailScreen.kt</span><br><span class="line">│               │   ├── discover</span><br><span class="line">│               │   │   ├── AuthorContent.kt</span><br><span class="line">│               │   │   ├── BannerContent.kt</span><br><span class="line">│               │   │   ├── CategoryContent.kt</span><br><span class="line">│               │   │   ├── DiaryContent.kt</span><br><span class="line">│               │   │   ├── DiscoverScreen.kt</span><br><span class="line">│               │   │   ├── PictureContent.kt</span><br><span class="line">│               │   │   └── RankContent.kt</span><br><span class="line">│               │   ├── home</span><br><span class="line">│               │   │   ├── CategoryError.kt</span><br><span class="line">│               │   │   ├── CategoryEssay.kt</span><br><span class="line">│               │   │   ├── CategoryHp.kt</span><br><span class="line">│               │   │   ├── CategoryQ&amp;A.kt</span><br><span class="line">│               │   │   ├── CategoryRadio.kt</span><br><span class="line">│               │   │   ├── CategorySerial.kt</span><br><span class="line">│               │   │   ├── ChannelContent.kt</span><br><span class="line">│               │   │   ├── FeedsContent.kt</span><br><span class="line">│               │   │   └── HomeScreen.kt</span><br><span class="line">│               │   ├── html</span><br><span class="line">│               │   │   └── HtmlCategoryScreen.kt</span><br><span class="line">│               │   ├── OneDestinations.kt</span><br><span class="line">│               │   ├── OneNavGraph.kt</span><br><span class="line">│               │   ├── serial</span><br><span class="line">│               │   │   ├── SerialContent.kt</span><br><span class="line">│               │   │   └── SerialScreen.kt</span><br><span class="line">│               │   ├── theme</span><br><span class="line">│               │   │   ├── Color.kt</span><br><span class="line">│               │   │   ├── Shape.kt</span><br><span class="line">│               │   │   ├── Theme.kt</span><br><span class="line">│               │   │   └── <span class="keyword">Type</span>.kt</span><br><span class="line">│               │   ├── viewmodel</span><br><span class="line">│               │   │   ├── DetailViewModel.kt</span><br><span class="line">│               │   │   └── MainViewModel.kt</span><br><span class="line">│               │   └── web</span><br><span class="line">│               │       └── WebUrlScreen.kt</span><br><span class="line">│               └── util</span><br><span class="line">│                   ├── DateTimeExt.kt</span><br><span class="line">│                   ├── Dp.kt</span><br><span class="line">│                   ├── ImageExt.kt</span><br><span class="line">│                   ├── ImageGetter.kt</span><br><span class="line">│                   ├── LazyPagingItemsExt.kt</span><br><span class="line">│                   ├── Mmkv.kt</span><br><span class="line">│                   ├── ReadTestString.kt</span><br><span class="line">│                   ├── Scrim.kt</span><br><span class="line">│                   └── StringExt.kt</span><br><span class="line">└── res</span><br><span class="line">    ├── drawable</span><br><span class="line">    │   ├── ic_arrow_down.<span class="keyword">xml</span></span><br><span class="line">    <span class="title">│   ├── ic_arrow_up</span>.<span class="keyword">xml</span></span><br><span class="line">    <span class="title">│   ├── ic_bookmark_24</span>.<span class="keyword">xml</span></span><br><span class="line">    <span class="title">│   ├── ic_bookmark_border_24</span>.<span class="keyword">xml</span></span><br><span class="line">    <span class="title">│   ├── ic_collection</span>.<span class="keyword">xml</span></span><br><span class="line">    <span class="title">│   ├── ic_diary</span>.<span class="keyword">xml</span></span><br><span class="line">    <span class="title">│   ├── ic_discover</span>.<span class="keyword">xml</span></span><br><span class="line">    <span class="title">│   ├── ic_home</span>.<span class="keyword">xml</span></span><br><span class="line">    <span class="title">│   ├── ic_my</span>.<span class="keyword">xml</span></span><br><span class="line">    <span class="title">│   └── ic_novel</span>.<span class="keyword">xml</span></span><br><span class="line">    <span class="title">├── font</span></span><br><span class="line">    │   ├── montserrat_medium.ttf</span><br><span class="line">    │   └── montserrat_regular.ttf</span><br><span class="line">    ├── mipmap-xhdpi</span><br><span class="line">    │   ├── bg.png</span><br><span class="line">    │   ├── guide.jpg</span><br><span class="line">    │   └── icon.png</span><br><span class="line">    ├── values</span><br><span class="line">    │   ├── colors.<span class="keyword">xml</span></span><br><span class="line">    <span class="title">│   ├── strings</span>.<span class="keyword">xml</span></span><br><span class="line">    <span class="title">│   └── themes</span>.<span class="keyword">xml</span></span><br><span class="line">    <span class="title">├── values-v23</span></span><br><span class="line">    │   └── themes.<span class="keyword">xml</span></span><br><span class="line">    <span class="title">├── values-v27</span></span><br><span class="line">    │   └── themes.<span class="keyword">xml</span></span><br><span class="line">    <span class="title">└── xml</span></span><br><span class="line">        ├── backup_rules.<span class="keyword">xml</span></span><br><span class="line">        <span class="title">└── data_extraction_rules</span>.<span class="keyword">xml</span></span><br><span class="line"></span><br><span class="line"><span class="title">31</span> directories, <span class="number">156</span> files</span><br></pre></td></tr></table></figure><p><a href="http://axe.scandown.com/ul2q"><strong>App下载</strong></a><br><img src="https://user-images.githubusercontent.com/8099426/220507229-7fcb8982-f10d-4311-9540-af33fb9c6bf5.png" alt="one-download"></p>]]></content>
    
    
    <summary type="html">&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;补更预览图 230518&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;p&gt;明明每天都很忙，2022年就又没，太“兔”然了。&lt;/p&gt;
&lt;p&gt;分享“一个”的Compose的样例，也是我最近手撸的一个App，来“兔”击一下&lt;/p&gt;</summary>
    
    
    
    
    <category term="Compose" scheme="https://xuie0000.com/tags/Compose/"/>
    
  </entry>
  
  <entry>
    <title>云音乐-视频合辑</title>
    <link href="https://xuie0000.com/post/2021-06-18-netease-10-hollowout-drawable.html"/>
    <id>https://xuie0000.com/post/2021-06-18-netease-10-hollowout-drawable.html</id>
    <published>2021-06-18T09:09:29.000Z</published>
    <updated>2023-12-30T05:24:16.813Z</updated>
    
    <content type="html"><![CDATA[<h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><img src="../images/netease/netease_hollowout_drawable.png" width="32%"/><span id="more"></span><h2 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h2><p>视频合辑这个Item上面的遮罩层一直没找到很好的方法，所以有自己撸了一个库来支持，特此也写一章</p><blockquote><p>PASS找实现快捷方法的心酸历程。。。</p></blockquote><p>仔细细扫网易云App，发现它的这层模糊效果是直接模糊了图片叠加在上面的，想到的就是通过google RenderScript来实现</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2016/0816/6543.html</span></span><br><span class="line"><span class="comment"> * https://developer.android.com/guide/topics/renderscript/compute.html</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 图片缩放比例</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">const</span> <span class="keyword">val</span> BITMAP_SCALE = <span class="number">0.4f</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 最大模糊度(在0.0到25.0之间)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">const</span> <span class="keyword">val</span> BLUR_RADIUS = <span class="number">25f</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 模糊图片的具体方法</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> image   需要模糊的图片</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> 模糊处理后的图片</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> Context.<span class="title">blur</span><span class="params">(image: <span class="type">Bitmap</span>)</span></span>: Bitmap &#123;</span><br><span class="line">  <span class="comment">// 计算图片缩小后的长宽</span></span><br><span class="line">  <span class="keyword">val</span> width = (image.width * BITMAP_SCALE).roundToInt()</span><br><span class="line">  <span class="keyword">val</span> height = (image.height * BITMAP_SCALE).roundToInt()</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 将缩小后的图片做为预渲染的图片。</span></span><br><span class="line">  <span class="keyword">val</span> inputBitmap = Bitmap.createScaledBitmap(image, width, height, <span class="literal">false</span>)</span><br><span class="line">  <span class="comment">// 创建一张渲染后的输出图片。</span></span><br><span class="line">  <span class="keyword">val</span> outputBitmap = Bitmap.createBitmap(inputBitmap)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 创建RenderScript内核对象</span></span><br><span class="line">  <span class="keyword">val</span> rs = RenderScript.create(<span class="keyword">this</span>)</span><br><span class="line">  <span class="comment">// 创建一个模糊效果的RenderScript的工具对象</span></span><br><span class="line">  <span class="keyword">val</span> blurScript = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs))</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 由于RenderScript并没有使用VM来分配内存,所以需要使用Allocation类来创建和分配内存空间。</span></span><br><span class="line">  <span class="comment">// 创建Allocation对象的时候其实内存是空的,需要使用copyTo()将数据填充进去。</span></span><br><span class="line">  <span class="keyword">val</span> tmpIn = Allocation.createFromBitmap(rs, inputBitmap)</span><br><span class="line">  <span class="keyword">val</span> tmpOut = Allocation.createFromBitmap(rs, outputBitmap)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 设置渲染的模糊程度, 25f是最大模糊度</span></span><br><span class="line">  blurScript.setRadius(BLUR_RADIUS)</span><br><span class="line">  <span class="comment">// 设置blurScript对象的输入内存</span></span><br><span class="line">  blurScript.setInput(tmpIn)</span><br><span class="line">  <span class="comment">// 将输出数据保存到输出内存中</span></span><br><span class="line">  blurScript.forEach(tmpOut)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 将数据填充到Allocation中</span></span><br><span class="line">  tmpOut.copyTo(outputBitmap)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> outputBitmap</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>中间镂空状态是通过<code>Canvas.clipPath()</code>剪切来达到效果</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//画遮罩的颜色</span></span><br><span class="line">blurBitmap?.let &#123;</span><br><span class="line">  canvas.drawBitmap(it, <span class="literal">null</span>, bounds, <span class="literal">null</span>)</span><br><span class="line">&#125; ?: canvas.drawColor(defaultCoverColor)</span><br><span class="line"><span class="comment">//按Path来裁切</span></span><br><span class="line">canvas.clipPath(clipPath)</span><br><span class="line"><span class="comment">//画镂空的范围</span></span><br><span class="line">canvas.drawColor(Color.TRANSPARENT, PorterDuff.Mode.SRC)</span><br></pre></td></tr></table></figure><p>四边上的装饰边线也是通过<code>Path()</code>描绘四边绘制实现</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> rectF = RectF()</span><br><span class="line"><span class="comment">// 设置左上角</span></span><br><span class="line">rectF.<span class="keyword">set</span>(</span><br><span class="line">  paddingStartEnd,</span><br><span class="line">  paddingTopBottom,</span><br><span class="line">  paddingStartEnd + roundCorner * <span class="number">2</span>,</span><br><span class="line">  paddingTopBottom + roundCorner * <span class="number">2</span></span><br><span class="line">)</span><br><span class="line">strokePath.reset()</span><br><span class="line">strokePath.arcTo(rectF, <span class="number">180f</span>, <span class="number">90f</span>, <span class="literal">true</span>)</span><br><span class="line"><span class="comment">// 右上角</span></span><br><span class="line">rectF.<span class="keyword">set</span>(</span><br><span class="line">  width - paddingStartEnd - roundCorner * <span class="number">2</span>,</span><br><span class="line">  paddingTopBottom,</span><br><span class="line">  width - paddingStartEnd,</span><br><span class="line">  paddingTopBottom + roundCorner * <span class="number">2</span></span><br><span class="line">)</span><br><span class="line">strokePath.arcTo(rectF, <span class="number">270f</span>, <span class="number">90f</span>, <span class="literal">true</span>)</span><br><span class="line"><span class="comment">// 右下角</span></span><br><span class="line">rectF.<span class="keyword">set</span>(</span><br><span class="line">  width - paddingStartEnd - roundCorner * <span class="number">2</span>,</span><br><span class="line">  height - paddingTopBottom - roundCorner * <span class="number">2</span>,</span><br><span class="line">  width - paddingStartEnd,</span><br><span class="line">  height - paddingTopBottom</span><br><span class="line">)</span><br><span class="line">strokePath.arcTo(rectF, <span class="number">0f</span>, <span class="number">90f</span>, <span class="literal">true</span>)</span><br><span class="line"><span class="comment">// 左下角</span></span><br><span class="line">rectF.<span class="keyword">set</span>(</span><br><span class="line">  paddingStartEnd,</span><br><span class="line">  height - paddingTopBottom - roundCorner * <span class="number">2</span>,</span><br><span class="line">  paddingStartEnd + roundCorner * <span class="number">2</span>,</span><br><span class="line">  height - paddingTopBottom</span><br><span class="line">)</span><br><span class="line">strokePath.arcTo(rectF, <span class="number">90f</span>, <span class="number">90f</span>, <span class="literal">true</span>)</span><br></pre></td></tr></table></figure><p><a href="https://github.com/xuie0000/hollowout-drawable">通过实现这些的前奏</a>，再稍加修饰调整属性，最终得到想要的效果：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">com.xuie0000.hollowout.drawable.HollowOutShapeableImageView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/ivImage&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;120dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;120dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginTop</span>=<span class="string">&quot;8dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginEnd</span>=<span class="string">&quot;8dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">&quot;@color/white80&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:scaleType</span>=<span class="string">&quot;centerCrop&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:hollow_out_padding_horizontal</span>=<span class="string">&quot;4dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:hollow_out_padding_vertical</span>=<span class="string">&quot;32dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:hollow_out_round_corner</span>=<span class="string">&quot;8dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:hollow_out_round_corner_color</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:hollow_out_round_corner_stroke</span>=<span class="string">&quot;2dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:shapeAppearanceOverlay</span>=<span class="string">&quot;@style/roundedCornerStyle&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:src</span>=<span class="string">&quot;@mipmap/ic_netease&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://github.com/xuie0000/hollowout-drawable">https://github.com/xuie0000/hollowout-drawable</a><br><a href="https://zhuanlan.zhihu.com/p/329825945">https://zhuanlan.zhihu.com/p/329825945</a><br><a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2016/0816/6543.html">http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2016/0816/6543.html</a><br><a href="https://developer.android.com/guide/topics/renderscript/compute.html">https://developer.android.com/guide/topics/renderscript/compute.html</a></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;预览&quot;&gt;&lt;a href=&quot;#预览&quot; class=&quot;headerlink&quot; title=&quot;预览&quot;&gt;&lt;/a&gt;预览&lt;/h2&gt;&lt;img src=&quot;../images/netease/netease_hollowout_drawable.png&quot; width=&quot;32%&quot;/&gt;</summary>
    
    
    
    
    <category term="云音乐" scheme="https://xuie0000.com/tags/%E4%BA%91%E9%9F%B3%E4%B9%90/"/>
    
    <category term="hollowout-drawable" scheme="https://xuie0000.com/tags/hollowout-drawable/"/>
    
  </entry>
  
  <entry>
    <title>云音乐-精选视频</title>
    <link href="https://xuie0000.com/post/2021-06-10-netease-09-mlog.html"/>
    <id>https://xuie0000.com/post/2021-06-10-netease-09-mlog.html</id>
    <published>2021-06-10T08:39:48.000Z</published>
    <updated>2023-12-30T05:24:16.812Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>昨天没事又扫了一下，发现<a href="https://binaryify.github.io/NeteaseCloudMusicApi/#/?id=neteasecloudmusicapi">NeteaseCloudMusicApi</a>有更新接口，还是视频的</p></blockquote><p>精选视频添加起来还是很不错的，惊喜一，因为都是使用<code>Kotlin</code>已经不再使用<code>Rxjava2</code>了，在寻找定时触发替代品时发现了<code>ticker</code>，惊喜二，有钱就是了不起，播放在线不卡。。。我自己搭过阿里视频服务器4M宽带，播放时卡成狗</p><span id="more"></span><h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><p><img src="https://user-images.githubusercontent.com/8099426/124356533-0f28fd80-dc49-11eb-8d88-0e4d4d6bb0b4.gif" alt="netease_mlog"><br>9-7c399480-dc43-11eb-9085-629d78835e8f.gif)</p><h2 id="实现设计"><a href="#实现设计" class="headerlink" title="实现设计"></a>实现设计</h2><h3 id="框架"><a href="#框架" class="headerlink" title="框架"></a>框架</h3><p>精选视频的的实现是通过<code>ViewPager2</code>+<code>SimpleExoPlayer</code>实现的</p><p>将<code>ViewPager2</code>修改为纵向滑动</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">androidx.viewpager2.widget.ViewPager2</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/view_pager&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>播放视频</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">prepareVideoPlayer</span><span class="params">()</span></span> &#123;</span><br><span class="line">  simplePlayer = SimpleExoPlayer.Builder(requireContext()).build()</span><br><span class="line">  binding.playerView.player = simplePlayer</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> upstreamFactory = DefaultDataSourceFactory(requireContext(), HttpHeaders.USER_AGENT)</span><br><span class="line">  cacheDataSourceFactory = CacheDataSource.Factory().apply &#123;</span><br><span class="line">    setCache(NeteaseApplication.simpleCache)</span><br><span class="line">    setUpstreamDataSourceFactory(upstreamFactory)</span><br><span class="line">    setFlags(</span><br><span class="line">      CacheDataSource.FLAG_BLOCK_ON_CACHE or</span><br><span class="line">        CacheDataSource.FLAG_IGNORE_CACHE_ON_ERROR</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">prepareMedia</span><span class="params">(linkUrl: <span class="type">String</span>)</span></span> &#123;</span><br><span class="line">  <span class="keyword">val</span> uri = Uri.parse(linkUrl)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> mediaSource = ProgressiveMediaSource.Factory(cacheDataSourceFactory).createMediaSource(</span><br><span class="line">    MediaItem.Builder().setUri(uri).setMimeType(MimeTypes.VIDEO_MP4).build()</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  simplePlayer.setMediaSource(mediaSource, <span class="literal">true</span>)</span><br><span class="line">  simplePlayer.repeatMode = Player.REPEAT_MODE_ONE</span><br><span class="line">  simplePlayer.playWhenReady = <span class="literal">true</span></span><br><span class="line">  simplePlayer.prepare()</span><br><span class="line">  simplePlayer.addListener(playerCallback)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Slider"><a href="#Slider" class="headerlink" title="Slider"></a>Slider</h3><p>进度条更新采用<code>ticker</code>实现，很不错的方式，个人比较喜欢</p><ul><li><p>初始化</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  <span class="meta">@ObsoleteCoroutinesApi</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> tickerChannel = ticker(delayMillis = <span class="number">300</span>, initialDelayMillis = <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//  @ObsoleteCoroutinesApi</span></span><br><span class="line"><span class="comment">//  private fun tickCancel() &#123;</span></span><br><span class="line"><span class="comment">//    tickerChannel.cancel()</span></span><br><span class="line"><span class="comment">//  &#125;</span></span><br></pre></td></tr></table></figure></li><li><p>调用</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">lifecycleScope.launch &#123;</span><br><span class="line">  <span class="keyword">for</span> (event <span class="keyword">in</span> tickerChannel) &#123;</span><br><span class="line">    <span class="keyword">if</span> (simplePlayer.playWhenReady) &#123;</span><br><span class="line">      <span class="keyword">val</span> position = simplePlayer.currentPosition * <span class="number">1f</span></span><br><span class="line">      <span class="keyword">if</span> (progress.valueTo &gt; position)</span><br><span class="line">        progress.value = position</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://stackoverflow.com/questions/54827455/how-to-implement-timer-with-kotlin-coroutines/54828055">https://stackoverflow.com/questions/54827455/how-to-implement-timer-with-kotlin-coroutines/54828055</a><br><a href="https://codelabs.developers.google.com/codelabs/exoplayer-intro">https://codelabs.developers.google.com/codelabs/exoplayer-intro</a></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;昨天没事又扫了一下，发现&lt;a href=&quot;https://binaryify.github.io/NeteaseCloudMusicApi/#/?id=neteasecloudmusicapi&quot;&gt;NeteaseCloudMusicApi&lt;/a&gt;有更新接口，还是视频的&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;精选视频添加起来还是很不错的，惊喜一，因为都是使用&lt;code&gt;Kotlin&lt;/code&gt;已经不再使用&lt;code&gt;Rxjava2&lt;/code&gt;了，在寻找定时触发替代品时发现了&lt;code&gt;ticker&lt;/code&gt;，惊喜二，有钱就是了不起，播放在线不卡。。。我自己搭过阿里视频服务器4M宽带，播放时卡成狗&lt;/p&gt;</summary>
    
    
    
    
    <category term="云音乐" scheme="https://xuie0000.com/tags/%E4%BA%91%E9%9F%B3%E4%B9%90/"/>
    
  </entry>
  
  <entry>
    <title>云音乐-云村</title>
    <link href="https://xuie0000.com/post/2021-06-03-netease-08-friends.html"/>
    <id>https://xuie0000.com/post/2021-06-03-netease-08-friends.html</id>
    <published>2021-06-03T01:14:41.000Z</published>
    <updated>2023-12-30T05:24:16.812Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>剩下的3个页面一直没有动，其一没有想好接口的处理，接口相比homepage来说都太鸡肋，其二是好些接口都没有找到，目前看仅音乐播放开放了</p></blockquote><p>目前本页仅起了个头，用ViewPager2+Tablayout布局</p><span id="more"></span><h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><img src="../images/netease/netease_sr_21.png" width="256"/><p><img src="https://user-images.githubusercontent.com/8099426/123047365-ccd51480-d42f-11eb-9077-0217848fecf4.gif" alt="friends"></p><h2 id="Tablyout-Style"><a href="#Tablyout-Style" class="headerlink" title="Tablyout Style"></a>Tablyout Style</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">androidx.appcompat.widget.Toolbar</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/toolbar&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;?attr/actionBarSize&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:layout_collapseMode</span>=<span class="string">&quot;pin&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:navigationIcon</span>=<span class="string">&quot;@drawable/ic_menu_24&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:popupTheme</span>=<span class="string">&quot;@style/Theme.NeteaseCloudMmusic.PopupOverlay&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">com.google.android.material.tabs.TabLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tab_layout&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginEnd</span>=<span class="string">&quot;64dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginBottom</span>=<span class="string">&quot;16dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">&quot;@android:color/transparent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:tabGravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:tabIndicator</span>=<span class="string">&quot;@drawable/tab_indicator_2&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:tabIndicatorColor</span>=<span class="string">&quot;@color/tomato&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:tabIndicatorHeight</span>=<span class="string">&quot;6dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:tabMinWidth</span>=<span class="string">&quot;96dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:tabMode</span>=<span class="string">&quot;fixed&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:tabPaddingTop</span>=<span class="string">&quot;14dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:tabSelectedTextColor</span>=<span class="string">&quot;@color/black&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:tabTextAppearance</span>=<span class="string">&quot;@style/TabLayoutTextStyle&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:tabTextColor</span>=<span class="string">&quot;@color/white50&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">androidx.appcompat.widget.Toolbar</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--设置TabLayout Text Style--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">&quot;TabLayoutTextStyle&quot;</span>&gt;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:textSize&quot;</span>&gt;</span>20sp<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="网易出品"><a href="#网易出品" class="headerlink" title="网易出品"></a>网易出品</h2><p>网易出口MV<code>/mv/exclusive/rcmd</code>接口是用<code>paging3</code>来实现，整体播放流畅性不错（服务器6）</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> adapter <span class="keyword">by</span> lazy &#123; MvPagingAdapter &#123; startActivity(it) &#125; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onViewCreated</span><span class="params">(view: <span class="type">View</span>, savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">  <span class="keyword">super</span>.onViewCreated(view, savedInstanceState)</span><br><span class="line"></span><br><span class="line">  adapter.withLoadStateHeaderAndFooter(</span><br><span class="line">    header = MvLoadStateAdapter(adapter),</span><br><span class="line">    footer = MvLoadStateAdapter(adapter)</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  binding.rvList.apply &#123;</span><br><span class="line">    adapter = <span class="keyword">this</span><span class="symbol">@FriendsNeteaseFragment</span>.adapter</span><br><span class="line">    layoutManager = GridLayoutManager(requireContext(), <span class="number">2</span>, GridLayoutManager.VERTICAL, <span class="literal">false</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  lifecycleScope.launchWhenCreated &#123;</span><br><span class="line">    viewModel.mv.collect &#123;</span><br><span class="line">      adapter.submitData(it)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://developer.android.com/guide/navigation/navigation-swipe-view-2#add_tabs_using_a_tablayout">https://developer.android.com/guide/navigation/navigation-swipe-view-2#add_tabs_using_a_tablayout</a><br><a href="https://juejin.cn/post/6844903860587200526">https://juejin.cn/post/6844903860587200526</a></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;剩下的3个页面一直没有动，其一没有想好接口的处理，接口相比homepage来说都太鸡肋，其二是好些接口都没有找到，目前看仅音乐播放开放了&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;目前本页仅起了个头，用ViewPager2+Tablayout布局&lt;/p&gt;</summary>
    
    
    
    
    <category term="云音乐" scheme="https://xuie0000.com/tags/%E4%BA%91%E9%9F%B3%E4%B9%90/"/>
    
  </entry>
  
  <entry>
    <title>云音乐-我的</title>
    <link href="https://xuie0000.com/post/2021-06-02-netease-07-my.html"/>
    <id>https://xuie0000.com/post/2021-06-02-netease-07-my.html</id>
    <published>2021-06-02T03:15:37.000Z</published>
    <updated>2023-12-30T05:24:16.812Z</updated>
    
    <content type="html"><![CDATA[<p>个人页面其实还有很多需要补充，和原样式还有很大的差别</p><span id="more"></span><h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><img src="../images/netease/netease_sr_18.png" width="256"/><p><img src="https://user-images.githubusercontent.com/8099426/124356572-439cb980-dc49-11eb-9e77-0b5105fcf674.gif" alt="netease_my"></p><h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><blockquote><p>后面我会改掉，还是要和recover页一样，通过一个recyclver装载不同的Item来展示，特别是收尾的地方，先放代码好工作去了</p></blockquote><p>简单的使用了两个RecyclverView来实现的，整体轮廓：</p><img src="../images/netease/netease_my.png" width="256"/><p>难点就是“我喜欢”的音乐找类型不好找，<code>it.specialType == 5</code>@@@——@</p><p>监听<code>AppBarLayout</code>滚动变化来显示Title</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">appBar.addOnOffsetChangedListener(<span class="keyword">object</span> : AppBarStateChangeListener() &#123;</span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onStateChanged</span><span class="params">(appBarLayout: <span class="type">AppBarLayout</span>, state: <span class="type">State</span>)</span></span> &#123;</span><br><span class="line">  <span class="keyword">when</span> (state) &#123;</span><br><span class="line">    State.COLLAPSED -&gt; &#123;</span><br><span class="line">      toolbarCl.isVisible = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> -&gt; &#123;</span><br><span class="line">      toolbarCl.isVisible = <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>完整Layout</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">androidx.coordinatorlayout.widget.CoordinatorLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">&quot;@drawable/main_background&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">&quot;.ui.music.MyFragment&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">com.google.android.material.appbar.AppBarLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/app_bar&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">&quot;@android:color/transparent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:theme</span>=<span class="string">&quot;@style/Theme.NeteaseCloudMmusic.PopupOverlay&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:elevation</span>=<span class="string">&quot;0dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:statusBarForeground</span>=<span class="string">&quot;@color/white70&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">com.google.android.material.appbar.CollapsingToolbarLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">&quot;@+id/toolbar_layout&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:contentScrim</span>=<span class="string">&quot;?attr/colorPrimary&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_scrollFlags</span>=<span class="string">&quot;scroll|exitUntilCollapsed&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">&quot;@+id/header&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">layout</span>=<span class="string">&quot;@layout/my_profile_header_layout&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">androidx.appcompat.widget.Toolbar</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">&quot;@+id/toolbar&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">&quot;?attr/actionBarSize&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:background</span>=<span class="string">&quot;@color/white90&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_collapseMode</span>=<span class="string">&quot;pin&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:navigationIcon</span>=<span class="string">&quot;@drawable/ic_menu_24&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:popupTheme</span>=<span class="string">&quot;@style/Theme.NeteaseCloudMmusic.PopupOverlay&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">androidx.constraintlayout.widget.ConstraintLayout</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:id</span>=<span class="string">&quot;@+id/toolbar_cl&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="tag">&lt;<span class="name">com.google.android.material.imageview.ShapeableImageView</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:id</span>=<span class="string">&quot;@+id/toolbar_icon&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:layout_width</span>=<span class="string">&quot;24dp&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:layout_height</span>=<span class="string">&quot;24dp&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:layout_margin</span>=<span class="string">&quot;8dp&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:background</span>=<span class="string">&quot;@color/white80&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:scaleType</span>=<span class="string">&quot;centerCrop&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">&quot;@id/toolbar_title&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">app:layout_constraintEnd_toStartOf</span>=<span class="string">&quot;@id/toolbar_title&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">&quot;@id/toolbar_title&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">app:shapeAppearanceOverlay</span>=<span class="string">&quot;@style/circleStyle&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">tools:src</span>=<span class="string">&quot;@color/white70&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="tag">&lt;<span class="name">androidx.appcompat.widget.AppCompatTextView</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:id</span>=<span class="string">&quot;@+id/toolbar_title&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:textSize</span>=<span class="string">&quot;18sp&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">app:layout_constraintHorizontal_bias</span>=<span class="string">&quot;0.33&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">tools:text</span>=<span class="string">&quot;我的&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;/<span class="name">androidx.constraintlayout.widget.ConstraintLayout</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">androidx.appcompat.widget.Toolbar</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">com.google.android.material.appbar.CollapsingToolbarLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">com.google.android.material.appbar.AppBarLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">androidx.core.widget.NestedScrollView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_behavior</span>=<span class="string">&quot;@string/appbar_scrolling_view_behavior&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">androidx.constraintlayout.widget.ConstraintLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">androidx.constraintlayout.widget.ConstraintLayout</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">&quot;@+id/ordered&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_margin</span>=<span class="string">&quot;16dp&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:background</span>=<span class="string">&quot;@drawable/nav_drawer_corner_radius_white&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:padding</span>=<span class="string">&quot;16dp&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">&quot;parent&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">com.google.android.material.imageview.ShapeableImageView</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:id</span>=<span class="string">&quot;@+id/ivImage&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_width</span>=<span class="string">&quot;64dp&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_height</span>=<span class="string">&quot;64dp&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_margin</span>=<span class="string">&quot;8dp&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:background</span>=<span class="string">&quot;@color/white80&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:scaleType</span>=<span class="string">&quot;centerCrop&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:shapeAppearanceOverlay</span>=<span class="string">&quot;@style/roundedCornerStyle&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">tools:src</span>=<span class="string">&quot;@color/white70&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">androidx.appcompat.widget.AppCompatTextView</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:id</span>=<span class="string">&quot;@+id/tvTitle&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_width</span>=<span class="string">&quot;0dp&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_marginStart</span>=<span class="string">&quot;8dp&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_marginTop</span>=<span class="string">&quot;4dp&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_marginEnd</span>=<span class="string">&quot;8dp&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:ellipsize</span>=<span class="string">&quot;end&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:maxLines</span>=<span class="string">&quot;2&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white30&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:textSize</span>=<span class="string">&quot;22sp&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:layout_constraintBottom_toTopOf</span>=<span class="string">&quot;@id/tvTrackCount&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:layout_constraintStart_toEndOf</span>=<span class="string">&quot;@id/ivImage&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:layout_constraintVertical_chainStyle</span>=<span class="string">&quot;packed&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:layout_goneMarginEnd</span>=<span class="string">&quot;4dp&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">tools:text</span>=<span class="string">&quot;我喜欢的音乐&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">androidx.appcompat.widget.AppCompatTextView</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:id</span>=<span class="string">&quot;@+id/tvTrackCount&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_width</span>=<span class="string">&quot;0dp&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_marginStart</span>=<span class="string">&quot;8dp&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_marginTop</span>=<span class="string">&quot;4dp&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_marginEnd</span>=<span class="string">&quot;8dp&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:ellipsize</span>=<span class="string">&quot;end&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:maxLines</span>=<span class="string">&quot;2&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white30&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:layout_constraintStart_toEndOf</span>=<span class="string">&quot;@id/ivImage&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:layout_constraintTop_toBottomOf</span>=<span class="string">&quot;@id/tvTitle&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:layout_goneMarginEnd</span>=<span class="string">&quot;4dp&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">tools:text</span>=<span class="string">&quot;46首&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;/<span class="name">androidx.constraintlayout.widget.ConstraintLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">&quot;@+id/owner&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">layout</span>=<span class="string">&quot;@layout/my_profile_play_list&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_margin</span>=<span class="string">&quot;16dp&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintTop_toBottomOf</span>=<span class="string">&quot;@+id/ordered&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">&quot;@+id/collections&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">layout</span>=<span class="string">&quot;@layout/my_profile_play_list&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_margin</span>=<span class="string">&quot;16dp&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintTop_toBottomOf</span>=<span class="string">&quot;@+id/owner&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">androidx.constraintlayout.widget.ConstraintLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">androidx.core.widget.NestedScrollView</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">androidx.coordinatorlayout.widget.CoordinatorLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;个人页面其实还有很多需要补充，和原样式还有很大的差别&lt;/p&gt;</summary>
    
    
    
    
    <category term="云音乐" scheme="https://xuie0000.com/tags/%E4%BA%91%E9%9F%B3%E4%B9%90/"/>
    
  </entry>
  
  <entry>
    <title>云音乐-歌单</title>
    <link href="https://xuie0000.com/post/2021-06-02-netease-06-playlist.html"/>
    <id>https://xuie0000.com/post/2021-06-02-netease-06-playlist.html</id>
    <published>2021-06-02T02:27:54.000Z</published>
    <updated>2023-12-30T05:24:16.812Z</updated>
    
    <content type="html"><![CDATA[<p>歌单是用一个Activity来显示</p><span id="more"></span><h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><p align="center"><img src="../images/netease/netease_sr_10.png" width="32%"/><img src="../images/netease/netease_sr_11.png" width="32%"/></p><blockquote><p>new add</p></blockquote><img src="../images/netease/netease_playlis_detail.png" width="32%"/><p><img src="https://user-images.githubusercontent.com/8099426/124355399-7c399480-dc43-11eb-9085-629d78835e8f.gif" alt="playlist-detail"></p><p>歌单这页实现功能有两个点分享</p><h2 id="共享元素过渡动画"><a href="#共享元素过渡动画" class="headerlink" title="共享元素过渡动画"></a>共享元素过渡动画</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">itemView.apply &#123;</span><br><span class="line">setOnClickListener &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">data</span>.resources?.let &#123;</span><br><span class="line">    <span class="keyword">val</span> intent = Intent(context, PlayListActivity::<span class="keyword">class</span>.java)</span><br><span class="line">    intent.putExtra(<span class="string">&quot;resourceId&quot;</span>, <span class="keyword">data</span>.resources[<span class="number">0</span>].resourceId)</span><br><span class="line">    intent.putExtra(<span class="string">&quot;alg&quot;</span>, <span class="keyword">data</span>.alg)</span><br><span class="line">    intent.putExtra(<span class="string">&quot;imageUrl&quot;</span>, <span class="keyword">data</span>.imageUrl())</span><br><span class="line">    <span class="keyword">val</span> options = ActivityOptions.makeSceneTransitionAnimation(</span><br><span class="line">      activity,</span><br><span class="line">      <span class="comment">// 创建多个共享元素</span></span><br><span class="line">      create(image, <span class="keyword">data</span>.resources[<span class="number">0</span>].resourceId))</span><br><span class="line"></span><br><span class="line">    ActivityCompat.startActivity(context, intent, options.toBundle())</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="取色"><a href="#取色" class="headerlink" title="取色"></a>取色</h2><p>跳进不同专辑歌单，StatusBar背景色动态改变采用<code>Palette</code>取色修正，加载Image是用了<code>coil</code></p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> request = ImageRequest.Builder(<span class="keyword">this</span><span class="symbol">@PlayListActivity</span>)</span><br><span class="line">.allowHardware(<span class="literal">false</span>)</span><br><span class="line">.<span class="keyword">data</span>(imageUrl)</span><br><span class="line">.target(</span><br><span class="line">  onSuccess = &#123; result -&gt;</span><br><span class="line">    <span class="keyword">if</span> (showType1) &#123;</span><br><span class="line">      <span class="keyword">val</span> builder = Palette.from(result.toBitmap())</span><br><span class="line">      builder.generate &#123; palette -&gt;</span><br><span class="line">        palette?.vibrantSwatch?.let &#123; vibrant -&gt;</span><br><span class="line">          Timber.d(<span class="string">&quot;load success palette&quot;</span>)</span><br><span class="line">          setThemeColor(vibrant.rgb)</span><br><span class="line">        &#125; ?: let &#123;</span><br><span class="line">          Timber.d(<span class="string">&quot;load success default&quot;</span>)</span><br><span class="line">          setThemeColor(getColor(R.color.white70))</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      header.root.background = result</span><br><span class="line">      <span class="keyword">val</span> color = ContextCompat.getColor(<span class="keyword">this</span><span class="symbol">@PlayListActivity</span>, android.R.color.transparent)</span><br><span class="line">      setStatusBarColor(color)</span><br><span class="line">      toolbar.setBackgroundColor(color)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line">.build()</span><br><span class="line">imageLoader.enqueue(request)</span><br></pre></td></tr></table></figure><p>起先这里我是使用了模糊效果，但效果不太好看，还是取色更贴近</p><h2 id="弧线"><a href="#弧线" class="headerlink" title="弧线"></a>弧线</h2><p>由图片可以看到底部的弧线，我是通过重写了<code>AppCompatImageView</code>再通过<a href="https://android.googlesource.com/platform/development/+/master/samples/ApiDemos/src/com/example/android/apis/graphics/Xfermodes.java"><code>Xfermode</code></a>来剪切来实现的，有了主要想法那就好说了</p><p>首先要有一个弧度轮廓来填装图片，通过Path画出来</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onSizeChanged</span><span class="params">(w: <span class="type">Int</span>, h: <span class="type">Int</span>, oldw: <span class="type">Int</span>, oldh: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">  <span class="keyword">super</span>.onSizeChanged(w, h, oldw, oldh)</span><br><span class="line"></span><br><span class="line">  path.moveTo(<span class="number">0f</span>, <span class="number">0f</span>)</span><br><span class="line">  path.lineTo(w.toFloat(), <span class="number">0f</span>)</span><br><span class="line">  path.lineTo(w.toFloat(), (h - <span class="number">32.</span>dp).toFloat())</span><br><span class="line">  path.quadTo((w / <span class="number">2</span>).toFloat(), h.toFloat(), <span class="number">0f</span>, (h - <span class="number">32.</span>dp).toFloat())</span><br><span class="line">  path.close()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后就是通过<code>PorterDuff.Mode.SRC_IN</code>剪切交集部分留下<code>Src</code>完成图片就剪切</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> paint = Paint(Paint.ANTI_ALIAS_FLAG).apply &#123;</span><br><span class="line">  isFilterBitmap = <span class="literal">false</span></span><br><span class="line">  style = Paint.Style.FILL</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> xfermodePaint = Paint(Paint.ANTI_ALIAS_FLAG).apply &#123;</span><br><span class="line">  isFilterBitmap = <span class="literal">false</span></span><br><span class="line">  style = Paint.Style.FILL</span><br><span class="line">  xfermode = PorterDuffXfermode(PorterDuff.Mode.SRC_IN)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onDraw</span><span class="params">(canvas: <span class="type">Canvas</span>)</span></span> &#123;</span><br><span class="line">  <span class="keyword">val</span> sc = canvas.saveLayer(<span class="number">0f</span>, <span class="number">0f</span>, width.toFloat(), height.toFloat(), <span class="literal">null</span>)</span><br><span class="line">  canvas.drawPath(path, paint)</span><br><span class="line">  canvas.drawBitmap(makeSrc(), <span class="number">0f</span>, <span class="number">0f</span>, xfermodePaint)</span><br><span class="line">  canvas.restoreToCount(sc)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>补：滚动时恢复原图片</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">appBar.addOnOffsetChangedListener(<span class="keyword">object</span> : AppBarStateChangeListener() &#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onStateChanged</span><span class="params">(appBarLayout: <span class="type">AppBarLayout</span>, state: <span class="type">State</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">when</span> (state) &#123;</span><br><span class="line">      State.COLLAPSED -&gt; &#123;</span><br><span class="line">        header.ivBackground.enableClip(<span class="literal">false</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> -&gt; &#123;</span><br><span class="line">        header.ivBackground.enableClip(<span class="literal">true</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2016/0816/6543.html">http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2016/0816/6543.html</a><br><a href="https://developer.android.com/guide/topics/renderscript/compute.html">https://developer.android.com/guide/topics/renderscript/compute.html</a><br><a href="https://github.com/coil-kt/coil">https://github.com/coil-kt/coil</a><br><a href="https://android.googlesource.com/platform/development/+/master/samples/ApiDemos/src/com/example/android/apis/graphics/Xfermodes.java">https://android.googlesource.com/platform/development/+/master/samples/ApiDemos/src/com/example/android/apis/graphics/Xfermodes.java</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;歌单是用一个Activity来显示&lt;/p&gt;</summary>
    
    
    
    
    <category term="云音乐" scheme="https://xuie0000.com/tags/%E4%BA%91%E9%9F%B3%E4%B9%90/"/>
    
    <category term="贝塞尔曲线" scheme="https://xuie0000.com/tags/%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF/"/>
    
  </entry>
  
  <entry>
    <title>云音乐-搜索</title>
    <link href="https://xuie0000.com/post/2021-06-02-netease-05-search.html"/>
    <id>https://xuie0000.com/post/2021-06-02-netease-05-search.html</id>
    <published>2021-06-02T01:32:12.000Z</published>
    <updated>2023-12-30T05:24:16.811Z</updated>
    
    <content type="html"><![CDATA[<p>搜索没有打算用Fragment，而是新增了一个Activity实现，起先一直想通过<code>SearchView</code>来作为搜索框，但样式一直都改不到和网易云一样，后面是用<code>EditText</code>来实现</p><span id="more"></span><h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><p>先上效果图</p><img src="../images/netease/netease_sr_13.png" width="256"/><img src="../images/netease/netease_sr_14.png" width="256"/><p><img src="https://user-images.githubusercontent.com/8099426/124356610-734bc180-dc49-11eb-84dd-8e35115bf282.gif" alt="netease_search"></p><h2 id="搜索框"><a href="#搜索框" class="headerlink" title="搜索框"></a>搜索框</h2><p>搜索框其实是有两个，一个是在“发现”页中点击跳转的控件，另一个就是跳转之后的搜索框</p><p>发现中的是将一个TextView放置在Toolbar中来实现的</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">androidx.appcompat.widget.Toolbar</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/toolbar&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;?attr/actionBarSize&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">&quot;?attr/colorPrimary&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:navigationIcon</span>=<span class="string">&quot;@drawable/ic_menu_24&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:popupTheme</span>=<span class="string">&quot;@style/Theme.NeteaseCloudMmusic.PopupOverlay&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">androidx.appcompat.widget.AppCompatTextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/search&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">&quot;@drawable/corner_circle&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:backgroundTint</span>=<span class="string">&quot;@color/white85&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawableStart</span>=<span class="string">&quot;@drawable/ic_search&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawablePadding</span>=<span class="string">&quot;16dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">&quot;center_vertical&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:minWidth</span>=<span class="string">&quot;240dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:padding</span>=<span class="string">&quot;8dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;搜索&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">androidx.appcompat.widget.Toolbar</span>&gt;</span></span><br></pre></td></tr></table></figure><p>真正的搜索框是<code>EditText</code>的演变<code>ClearableEditText</code>，这里需要将输入框修正为<code>actionSearch</code>，响应的时候就可以直接监听事件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">androidx.appcompat.widget.Toolbar</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/toolbar&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">style</span>=<span class="string">&quot;@style/Toolbar.Style&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;?attr/actionBarSize&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">&quot;?attr/colorPrimary&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:layout_scrollFlags</span>=<span class="string">&quot;noScroll|enterAlways&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:popupTheme</span>=<span class="string">&quot;@style/Theme.NeteaseCloudMmusic.PopupOverlay&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">com.xuie0000.netease.cloud.widget.ClearableEditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/search&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:hint</span>=<span class="string">&quot;搜索&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:imeOptions</span>=<span class="string">&quot;actionSearch&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLines</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:singleLine</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">androidx.appcompat.widget.Toolbar</span>&gt;</span></span><br></pre></td></tr></table></figure><p>响应事件<code>EditorInfo.IME_ACTION_SEARCH </code></p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">binding.search.setOnEditorActionListener &#123; v, actionId, event -&gt;</span><br><span class="line">  Timber.d(<span class="string">&quot;search action id: <span class="variable">$actionId</span>, event: <span class="variable">$event</span>&quot;</span>)</span><br><span class="line">  <span class="keyword">when</span> (actionId) &#123;</span><br><span class="line">    EditorInfo.IME_ACTION_SEARCH -&gt; &#123;</span><br><span class="line">      search()</span><br><span class="line">      <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> -&gt; <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ClearableEditText的实现</p><blockquote><p>ClearableEditText是我以前看博文记下的忘记哪位大能写的了。。。搜索了一下文章也无踪迹</p></blockquote><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ClearableEditText</span> : <span class="type">AppCompatEditText</span>, <span class="type">View.OnTouchListener</span>, <span class="type">View.OnFocusChangeListener</span>,</span><br><span class="line">  <span class="type">TextWatcher</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> mClearTextIcon: Drawable</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> mOnFocusChangeListener: OnFocusChangeListener? = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> mOnTouchListener: OnTouchListener? = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(context: Context) : <span class="keyword">super</span>(context) &#123;</span><br><span class="line">    <span class="keyword">init</span>(context)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(context: Context, attrs: AttributeSet) : <span class="keyword">super</span>(context, attrs) &#123;</span><br><span class="line">    <span class="keyword">init</span>(context)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(context: Context, attrs: AttributeSet, defStyleAttr: <span class="built_in">Int</span>) : <span class="keyword">super</span>(context,</span><br><span class="line">    attrs,</span><br><span class="line">    defStyleAttr) &#123;</span><br><span class="line">    <span class="keyword">init</span>(context)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">setOnFocusChangeListener</span><span class="params">(onFocusChangeListener: <span class="type">OnFocusChangeListener</span>)</span></span> &#123;</span><br><span class="line">    mOnFocusChangeListener = onFocusChangeListener</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">setOnTouchListener</span><span class="params">(onTouchListener: <span class="type">OnTouchListener</span>)</span></span> &#123;</span><br><span class="line">    mOnTouchListener = onTouchListener</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">init</span><span class="params">(context: <span class="type">Context</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> drawable = ContextCompat.getDrawable(context, R.drawable.ic_close_24)</span><br><span class="line">    <span class="comment">//Wrap the drawable so that it can be tinted pre Lollipop</span></span><br><span class="line">    <span class="keyword">val</span> wrappedDrawable = DrawableCompat.wrap(drawable!!)</span><br><span class="line">    DrawableCompat.setTint(wrappedDrawable, currentHintTextColor)</span><br><span class="line">    mClearTextIcon = wrappedDrawable</span><br><span class="line">    mClearTextIcon.setBounds(<span class="number">0</span>,</span><br><span class="line">      <span class="number">0</span>,</span><br><span class="line">      mClearTextIcon.intrinsicHeight,</span><br><span class="line">      mClearTextIcon.intrinsicHeight)</span><br><span class="line">    setClearIconVisible(<span class="literal">false</span>)</span><br><span class="line">    <span class="keyword">super</span>.setOnTouchListener(<span class="keyword">this</span>)</span><br><span class="line">    <span class="keyword">super</span>.setOnFocusChangeListener(<span class="keyword">this</span>)</span><br><span class="line">    addTextChangedListener(<span class="keyword">this</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onFocusChange</span><span class="params">(view: <span class="type">View</span>, hasFocus: <span class="type">Boolean</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (hasFocus) &#123;</span><br><span class="line">      setClearIconVisible(text?.isNotEmpty() ?: <span class="literal">false</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      setClearIconVisible(<span class="literal">false</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    mOnFocusChangeListener?.onFocusChange(view, hasFocus)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onTouch</span><span class="params">(view: <span class="type">View</span>, motionEvent: <span class="type">MotionEvent</span>)</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> x = motionEvent.x.toInt()</span><br><span class="line">    <span class="keyword">if</span> (mClearTextIcon.isVisible &amp;&amp; x &gt; width - paddingRight - mClearTextIcon.intrinsicWidth) &#123;</span><br><span class="line">      <span class="keyword">if</span> (motionEvent.action == MotionEvent.ACTION_UP) &#123;</span><br><span class="line">        error = <span class="literal">null</span></span><br><span class="line">        setText(<span class="string">&quot;&quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> mOnTouchListener?.onTouch(view, motionEvent) ?: <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onTextChanged</span><span class="params">(s: <span class="type">CharSequence</span>, start: <span class="type">Int</span>, before: <span class="type">Int</span>, count: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (isFocused) &#123;</span><br><span class="line">      setClearIconVisible(s.isNotEmpty())</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">beforeTextChanged</span><span class="params">(s: <span class="type">CharSequence</span>, start: <span class="type">Int</span>, count: <span class="type">Int</span>, after: <span class="type">Int</span>)</span></span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">afterTextChanged</span><span class="params">(s: <span class="type">Editable</span>)</span></span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">setClearIconVisible</span><span class="params">(visible: <span class="type">Boolean</span>)</span></span> &#123;</span><br><span class="line">    mClearTextIcon.setVisible(visible, <span class="literal">false</span>)</span><br><span class="line">    <span class="keyword">val</span> compoundDrawables = compoundDrawables</span><br><span class="line">    setCompoundDrawables(</span><br><span class="line">      compoundDrawables[<span class="number">0</span>],</span><br><span class="line">      compoundDrawables[<span class="number">1</span>],</span><br><span class="line">      <span class="keyword">if</span> (visible) mClearTextIcon <span class="keyword">else</span> <span class="literal">null</span>,</span><br><span class="line">      compoundDrawables[<span class="number">3</span>])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="页面布局"><a href="#页面布局" class="headerlink" title="页面布局"></a>页面布局</h2><p>布局可以看到有两个不同的Layout，这里没有使用Fragemnt或其他感知控件，就是普通的两个View之间切换 - -</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">showSearchResult</span><span class="params">(visible: <span class="type">Boolean</span>)</span></span> &#123;</span><br><span class="line">  Timber.d(<span class="string">&quot;visible: <span class="variable">$visible</span>&quot;</span>)</span><br><span class="line">  binding.apply &#123;</span><br><span class="line">    rvList.isVisible = visible</span><br><span class="line">    hot.root.isVisible = !visible</span><br><span class="line">    history.root.isVisible = !visible</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (visible) &#123;</span><br><span class="line">    searchViewClearFocus()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> isShowingSearchResult: <span class="built_in">Boolean</span></span><br><span class="line">  <span class="keyword">get</span>() = binding.rvList.visibility == View.VISIBLE</span><br></pre></td></tr></table></figure><p>如果有人有不一样的想法感谢留言！<br>因为我总觉得这样写的代码不够好看，但没有更好的想法</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://developer.android.com/guide/topics/search/search-dialog">https://developer.android.com/guide/topics/search/search-dialog</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;搜索没有打算用Fragment，而是新增了一个Activity实现，起先一直想通过&lt;code&gt;SearchView&lt;/code&gt;来作为搜索框，但样式一直都改不到和网易云一样，后面是用&lt;code&gt;EditText&lt;/code&gt;来实现&lt;/p&gt;</summary>
    
    
    
    
    <category term="云音乐" scheme="https://xuie0000.com/tags/%E4%BA%91%E9%9F%B3%E4%B9%90/"/>
    
  </entry>
  
  <entry>
    <title>云音乐-侧滑</title>
    <link href="https://xuie0000.com/post/2021-06-02-netease-04-drawer-layout.html"/>
    <id>https://xuie0000.com/post/2021-06-02-netease-04-drawer-layout.html</id>
    <published>2021-06-02T01:18:36.000Z</published>
    <updated>2023-12-30T05:24:16.811Z</updated>
    
    <content type="html"><![CDATA[<h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>侧滑页的实现就比较简单了，将布局<code>app:menu</code>替换为内部Layout：</p><span id="more"></span><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app:headerLayout=&quot;@layout/nav_header_main&quot;</span><br><span class="line">app:menu=&quot;@menu/activity_main_drawer&quot;</span><br></pre></td></tr></table></figure><p>to</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">androidx.drawerlayout.widget.DrawerLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/drawer_layout&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_gravity</span>=<span class="string">&quot;start&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:fitsSystemWindows</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:openDrawer</span>=<span class="string">&quot;start&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">androidx.constraintlayout.widget.ConstraintLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span> &gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">androidx.constraintlayout.widget.ConstraintLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">com.google.android.material.navigation.NavigationView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/nav_view&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;start&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:fitsSystemWindows</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">&quot;@+id/nav_layout&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">layout</span>=<span class="string">&quot;@layout/nav_layout&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">com.google.android.material.navigation.NavigationView</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">androidx.drawerlayout.widget.DrawerLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>修改完后发现测滑的宽度不够，可以通过代码来修改宽度</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> params: ViewGroup.LayoutParams = binding.navView.layoutParams</span><br><span class="line">params.width = resources.displayMetrics.widthPixels * <span class="number">5</span> / <span class="number">6</span></span><br><span class="line">binding.navView.layoutParams = params</span><br></pre></td></tr></table></figure><p>修正完后就能达到我们想要的展开比例，有一点不好就是写布局的时候，预览还是以全屏的方式显示</p><p>再就是这里实现的登录动作也是用<code>BottomSheetDialogFragment</code>实现的，需要设置Style为<code>TransBottomSheetDialogStyle</code>，因为背景的圆角显示需要将Style改为透明</p><h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><img src="../images/netease/netease_sr_06.png" width="256"/><h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><p><a href="https://www.jianshu.com/p/7fcec871ea36">https://www.jianshu.com/p/7fcec871ea36</a></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;思路&quot;&gt;&lt;a href=&quot;#思路&quot; class=&quot;headerlink&quot; title=&quot;思路&quot;&gt;&lt;/a&gt;思路&lt;/h2&gt;&lt;p&gt;侧滑页的实现就比较简单了，将布局&lt;code&gt;app:menu&lt;/code&gt;替换为内部Layout：&lt;/p&gt;</summary>
    
    
    
    
    <category term="云音乐" scheme="https://xuie0000.com/tags/%E4%BA%91%E9%9F%B3%E4%B9%90/"/>
    
  </entry>
  
  <entry>
    <title>云音乐-播放</title>
    <link href="https://xuie0000.com/post/2021-06-01-netease-03-player.html"/>
    <id>https://xuie0000.com/post/2021-06-01-netease-03-player.html</id>
    <published>2021-06-01T02:47:55.000Z</published>
    <updated>2023-12-30T05:24:16.811Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>想自己写一个也有一大因素是Github上的高仿基本没看到使用<code>Exoplayer</code>来实现</p></blockquote><p>UI已经有一页了，优先实现的就是播放功能</p><span id="more"></span><p>播放功能包含播放器和播放UI，具体实现结构如下：</p><h2 id="播放器"><a href="#播放器" class="headerlink" title="播放器"></a>播放器</h2><p>先添加播放需要的依赖库</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">implementation</span> <span class="string">&quot;androidx.media:media:1.3.1&quot;</span></span><br><span class="line">api <span class="string">&quot;com.google.android.exoplayer:exoplayer-core:<span class="variable">$exoplayer_version</span>&quot;</span></span><br><span class="line">api <span class="string">&quot;com.google.android.exoplayer:exoplayer-ui:<span class="variable">$exoplayer_version</span>&quot;</span></span><br><span class="line">api <span class="string">&quot;com.google.android.exoplayer:extension-mediasession:<span class="variable">$exoplayer_version</span>&quot;</span></span><br><span class="line">api <span class="string">&quot;com.google.android.exoplayer:extension-cast:<span class="variable">$exoplayer_version</span>&quot;</span></span><br></pre></td></tr></table></figure><p>实现是迁移了<a href="https://github.com/android/uamp">uamp</a>的代码，将<code>JsonSource.kt</code>替换成了<code>NeteaseSource.kt</code>，其他和原生一模一样</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── extensions</span><br><span class="line">│   ├── FileExt<span class="selector-class">.kt</span></span><br><span class="line">│   ├── JavaLangExt<span class="selector-class">.kt</span></span><br><span class="line">│   ├── MediaMetadataCompatExt<span class="selector-class">.kt</span></span><br><span class="line">│   └── PlaybackStateCompatExt<span class="selector-class">.kt</span></span><br><span class="line">├── library</span><br><span class="line">│   ├── AlbumArtContentProvider<span class="selector-class">.kt</span></span><br><span class="line">│   ├── BrowseTree<span class="selector-class">.kt</span></span><br><span class="line">│   ├── JsonSource<span class="selector-class">.kt</span></span><br><span class="line">│   ├── MusicSource<span class="selector-class">.kt</span></span><br><span class="line">│   └── NeteaseSource<span class="selector-class">.kt</span></span><br><span class="line">├── MediaItemData<span class="selector-class">.kt</span></span><br><span class="line">├── MusicServiceConnection<span class="selector-class">.kt</span></span><br><span class="line">├── MusicService<span class="selector-class">.kt</span></span><br><span class="line">├── PackageValidator<span class="selector-class">.kt</span></span><br><span class="line">├── PersistentStorage<span class="selector-class">.kt</span></span><br><span class="line">└── UampNotificationManager.kt</span><br></pre></td></tr></table></figure><p>播放器的添加整个工程的骨架感觉就支棱起来，可以愉快的添加想要的功能了</p><h2 id="播放UI"><a href="#播放UI" class="headerlink" title="播放UI"></a>播放UI</h2><p>播放页的时候有一个小播放器和一个全屏播放页，小的播放器是一个普通的UI，嵌入在Activity中，全屏播放页是用<code>BottomSheetDialogFragment</code>实现的</p><h3 id="小播放器"><a href="#小播放器" class="headerlink" title="小播放器"></a>小播放器</h3><p>小的播放器布局比较容易布局，需要注意的是将<code>LinearLayout</code>替换<code>ConstraintLayout</code>布局，因为要专辑图标的<code>android:clipChildren=&quot;false&quot;</code>扩展绘制在<code>ConstraintLayout</code>上是失效</p><p><img src="/../images/netease/netease_small_player.png"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;48dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">&quot;center_vertical&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;horizontal&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">com.google.android.material.imageview.ShapeableImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/albumArt&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;64dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;64dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;bottom&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginStart</span>=<span class="string">&quot;16dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginEnd</span>=<span class="string">&quot;16dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:scaleType</span>=<span class="string">&quot;centerCrop&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:shapeAppearanceOverlay</span>=<span class="string">&quot;@style/circleStyle&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:src</span>=<span class="string">&quot;@mipmap/ic_netease&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">androidx.appcompat.widget.AppCompatTextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tvTitle&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_margin</span>=<span class="string">&quot;8dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxWidth</span>=<span class="string">&quot;160dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLines</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white30&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;22sp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:text</span>=<span class="string">&quot;晚风&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">androidx.appcompat.widget.AppCompatTextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tvSinger&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;0dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_margin</span>=<span class="string">&quot;8dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_weight</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:ellipsize</span>=<span class="string">&quot;end&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLines</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white30&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:text</span>=<span class="string">&quot;- 陈婧霏&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">androidx.appcompat.widget.AppCompatImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/ivPlayPause&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:padding</span>=<span class="string">&quot;8dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:src</span>=<span class="string">&quot;@drawable/ic_play_arrow_black_24dp&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">androidx.appcompat.widget.AppCompatImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/ivPlayList&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:padding</span>=<span class="string">&quot;8dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:src</span>=<span class="string">&quot;@drawable/ic_playlist_play_black_24&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="全屏播放页"><a href="#全屏播放页" class="headerlink" title="全屏播放页"></a>全屏播放页</h3><img src="../images/netease/netease_sr_03.png" width="256"/><p><img src="https://user-images.githubusercontent.com/8099426/124356551-2bc53580-dc49-11eb-9a37-d683e221d24e.gif" alt="netease_player"></p><p>全屏页的布局略过，添加的点是UI滑下来时，后面模糊背景去掉，修正为透明</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 弹出BottomSheetDialog背景不变暗 https://www.jianshu.com/p/7fcec871ea36 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">&quot;TransBottomSheetDialogStyle&quot;</span> <span class="attr">parent</span>=<span class="string">&quot;Theme.Design.Light.BottomSheetDialog&quot;</span>&gt;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:windowFrame&quot;</span>&gt;</span>@null<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:windowIsFloating&quot;</span>&gt;</span>true<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:windowIsTranslucent&quot;</span>&gt;</span>true<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:background&quot;</span>&gt;</span>@android:color/transparent<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:backgroundDimEnabled&quot;</span>&gt;</span>false<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;bottomSheetStyle&quot;</span>&gt;</span>@style/TransBottomSheetStyle<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">&quot;TransBottomSheetStyle&quot;</span> <span class="attr">parent</span>=<span class="string">&quot;Widget.Design.BottomSheet.Modal&quot;</span>&gt;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:background&quot;</span>&gt;</span>@android:color/transparent<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">  <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line">  setStyle(STYLE_NORMAL, R.style.TransBottomSheetDialogStyle)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://www.jianshu.com/p/c339dd2e9ef8">BottomSheetDialogFragment固定高度</a></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.jianshu.com/p/7fcec871ea36">https://www.jianshu.com/p/7fcec871ea36</a><br><a href="https://www.jianshu.com/p/c339dd2e9ef8">https://www.jianshu.com/p/c339dd2e9ef8</a><br><a href="https://www.jianshu.com/p/e460d4b47dd4">https://www.jianshu.com/p/e460d4b47dd4</a><br><a href="https://github.com/android/uamp">https://github.com/android/uamp</a></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;想自己写一个也有一大因素是Github上的高仿基本没看到使用&lt;code&gt;Exoplayer&lt;/code&gt;来实现&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;UI已经有一页了，优先实现的就是播放功能&lt;/p&gt;</summary>
    
    
    
    
    <category term="云音乐" scheme="https://xuie0000.com/tags/%E4%BA%91%E9%9F%B3%E4%B9%90/"/>
    
  </entry>
  
  <entry>
    <title>云音乐-发现UI</title>
    <link href="https://xuie0000.com/post/2021-06-01-netease-02-discover.html"/>
    <id>https://xuie0000.com/post/2021-06-01-netease-02-discover.html</id>
    <published>2021-06-01T01:29:10.000Z</published>
    <updated>2023-12-30T05:24:16.811Z</updated>
    
    <content type="html"><![CDATA[<h2 id="分析结构，部署代码"><a href="#分析结构，部署代码" class="headerlink" title="分析结构，部署代码"></a>分析结构，部署代码</h2><p>发现页的设计不难发现是一个Recyclver实现的布局，不一样的地方就是每个Item都不相同，包含Banner、List、Title+Content布局组合而成，实现就通过<code>ListAdapter</code>的<code>override fun getItemViewType(position: Int): Int</code>来定义不同的Item Layout</p><span id="more"></span><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">getItemViewType</span><span class="params">(position: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">  <span class="keyword">val</span> discover = getItem(position)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">try</span> &#123;</span><br><span class="line">    CodeType.valueOf(discover.blockCode).ordinal</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e: Exception) &#123;</span><br><span class="line">    Timber.e(<span class="string">&quot;unknown block code: <span class="subst">$&#123;discover.blockCode&#125;</span>&quot;</span>)</span><br><span class="line">    CodeType.HOMEPAGE_UNKNOWN.ordinal</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>拆分完毕，初步分类8种不同的Item，当然如果还有没统计到的情况可以继续添加：</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreateViewHolder</span><span class="params">(parent: <span class="type">ViewGroup</span>, viewType: <span class="type">Int</span>)</span></span>: RecyclerView.ViewHolder &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">when</span> (CodeType.values()[viewType]) &#123;</span><br><span class="line">    CodeType.HOMEPAGE_BANNER -&gt;</span><br><span class="line">      BannerViewHolder(inflate(parent, R.layout.discover_adapter_vh_banner))</span><br><span class="line">    CodeType.HOMEPAGE_DAILY_BALL -&gt; DailyRecommendViewHolder(inflate(parent,</span><br><span class="line">      R.layout.discover_adapter_vh_daily_recommend))</span><br><span class="line">    CodeType.HOMEPAGE_BLOCK_PLAYLIST_RCMD,</span><br><span class="line">    CodeType.HOMEPAGE_BLOCK_MGC_PLAYLIST,</span><br><span class="line">    CodeType.HOMEPAGE_BLOCK_OFFICIAL_PLAYLIST,</span><br><span class="line">    CodeType.HOMEPAGE_YUNBEI_NEW_SONG,</span><br><span class="line">    CodeType.HOMEPAGE_VOICELIST_RCMD,</span><br><span class="line">    CodeType.HOMEPAGE_BLOCK_VIDEO_PLAYLIST,</span><br><span class="line">    -&gt; PlaylistViewHolder(inflate(parent), activity)</span><br><span class="line">    CodeType.HOMEPAGE_MUSIC_MLOG -&gt; MusicMLogViewHolder(inflate(parent))</span><br><span class="line">    CodeType.HOMEPAGE_BLOCK_STYLE_RCMD -&gt; StyleRecommendViewHolder(inflate(parent,</span><br><span class="line">      R.layout.discover_adapter_vh_style_recommend), click)</span><br><span class="line">    CodeType.HOMEPAGE_MUSIC_CALENDAR -&gt; MusicCalendarViewHolder(inflate(parent))</span><br><span class="line">    CodeType.HOMEPAGE_PODCAST24 -&gt; Podcast24ViewHolder(inflate(parent = parent))</span><br><span class="line">    CodeType.HOMEPAGE_BLOCK_NEW_ALBUM_NEW_SONG -&gt; NewAlbumSongViewHolder(inflate(parent,</span><br><span class="line">      R.layout.discover_adapter_vh_new_album_song), click)</span><br><span class="line">    <span class="keyword">else</span> -&gt; DiscoverEmptyViewHolder(inflate(parent, R.layout.discover_adapter_vh_empty))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>比较杂的一个布局，添加的代码也是比较多的，耐心加完：</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── adapter</span><br><span class="line">│   ├── BannerViewHolder.kt</span><br><span class="line">│   ├── child</span><br><span class="line">│   │   ├── ChildBannerAdapter.kt</span><br><span class="line">│   │   ├── ChildDailyRecommendAdapter.kt</span><br><span class="line">│   │   ├── ChildMusicCalendarAdapter.kt</span><br><span class="line">│   │   ├── ChildMusicMLogAdapter.kt</span><br><span class="line">│   │   ├── ChildPlaylistAdapter.kt</span><br><span class="line">│   │   ├── ChildPodcast24Adapter.kt</span><br><span class="line">│   │   ├── ChildStyleRecommendAdapter.kt</span><br><span class="line">│   ├── CodeType.kt</span><br><span class="line">│   ├── DailyRecommendViewHolder.kt</span><br><span class="line">│   ├── DiscoverAdapter.kt</span><br><span class="line">│   ├── DiscoverEmptyViewHolder.kt</span><br><span class="line">│   ├── DiscoverRankViewHolder.kt</span><br><span class="line">│   ├── MusicCalendarViewHolder.kt</span><br><span class="line">│   ├── MusicMLogViewHolder.kt</span><br><span class="line">│   ├── NewAlbumSongViewHolder.kt</span><br><span class="line">│   ├── PlaylistViewHolder.kt</span><br><span class="line">│   ├── Podcast24ViewHolder.kt</span><br><span class="line">│   └── StyleRecommendViewHolder.kt</span><br><span class="line">├── DiscoverFragment.kt</span><br><span class="line">└── DiscoverViewModel.kt</span><br></pre></td></tr></table></figure><h2 id="呈现效果"><a href="#呈现效果" class="headerlink" title="呈现效果"></a>呈现效果</h2><p>这页展示就是需要细心的分好每一页的功能就不会有什么问题，效果如下：</p><img src="../images/netease/netease_sr_01.png" width="256"/><p><img src="https://user-images.githubusercontent.com/8099426/124356595-5a431080-dc49-11eb-85fc-959ef833f828.gif" alt="netease_discover"></p><h2 id="遇到的坑"><a href="#遇到的坑" class="headerlink" title="遇到的坑"></a>遇到的坑</h2><p>起初时我还不知道有<code>/homepage/block/page</code>接口，好家伙让我一个一个接口加，最终因加载的项比较多，加载速度也不理想。。。我还以为这个App要跪了，第一项功能就这么慢明显不是我想的啊，压垮我最后一根稻草就是获取排名的接口，不能一次性获取，需要<strong>加个for循环</strong>来组装数据！！</p><p>原先写的获取数据接口</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> <span class="keyword">data</span>: Flow&lt;List&lt;Discover&gt;&gt; = flow &#123;</span><br><span class="line">  <span class="keyword">val</span> list = mutableListOf&lt;Discover&gt;()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> banner = datasource.getBanner()</span><br><span class="line">  list.add(Discover.Banner(<span class="keyword">data</span> = banner.<span class="keyword">data</span>))</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> dailyRecommend = DailyRecommendBean.loadData()</span><br><span class="line">  list.add(Discover.DailyRecommend(<span class="keyword">data</span> = dailyRecommend))</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> recommendResource = datasource.getRecommend()</span><br><span class="line">  recommendResource.<span class="keyword">data</span>?.let &#123;</span><br><span class="line">    list.add(Discover.RecommendResource(<span class="keyword">data</span> = it.recommend))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> ranks = datasource.topList()</span><br><span class="line">  <span class="keyword">if</span> (ranks <span class="keyword">is</span> Resource.Failure) &#123;</span><br><span class="line">    Timber.d(<span class="string">&quot;failed ranks data: <span class="subst">$&#123;ranks.message&#125;</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ranks.<span class="keyword">data</span>?.list?.forEachIndexed &#123; index, topList -&gt;</span><br><span class="line">    <span class="comment">// TODO 请求频率太高，卡住了！</span></span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">2</span>) &#123;</span><br><span class="line">      <span class="keyword">val</span> itemList = datasource.playlistDetail(topList.id)</span><br><span class="line">      <span class="keyword">if</span> (itemList <span class="keyword">is</span> Resource.Success) topList.playlist = itemList.<span class="keyword">data</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  list.add(Discover.Ranks(<span class="keyword">data</span> = ranks.<span class="keyword">data</span>?.list))</span><br><span class="line"></span><br><span class="line">  emit(list)</span><br><span class="line">&#125;.flowOn((Dispatchers.IO))</span><br></pre></td></tr></table></figure><p>感动的是发现了<code>/homepage/block/page</code>接口才有了接下来的完善，用新接口整个世界都安静了</p><blockquote><p>注意：接口中不包含<code>daily recommend</code>部分，组装的数据，这里初写时也遇到坑，我以为用的本地资源文件，还去反编译了Netease App找这些文件，关键是我还找到了大部分。。。太感人（伤心）了</p></blockquote><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">val</span> pages = MutableStateFlow&lt;List&lt;Block&gt;?&gt;(<span class="literal">null</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">init</span> &#123;</span><br><span class="line">  viewModelScope.launch(Dispatchers.IO) &#123;</span><br><span class="line">    <span class="keyword">val</span> result = datasource.homepage()</span><br><span class="line">    <span class="keyword">val</span> daily = datasource.daily()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (result <span class="keyword">is</span> Resource.Success) &#123;</span><br><span class="line">      <span class="keyword">val</span> blocks = result.<span class="keyword">data</span>!!.<span class="keyword">data</span>.blocks</span><br><span class="line">      <span class="keyword">if</span> (daily <span class="keyword">is</span> Resource.Success) &#123;</span><br><span class="line">        daily.<span class="keyword">data</span>?.<span class="keyword">data</span>?.toBlock()?.let &#123;</span><br><span class="line">          blocks.add(<span class="number">1</span>, it)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        Timber.e(<span class="string">&quot;daily error: <span class="subst">$&#123;daily.message&#125;</span>&quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      pages.value = blocks</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      Timber.e(<span class="string">&quot;home page error: <span class="subst">$&#123;result.message&#125;</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://github.com/youth5201314/banner">https://github.com/youth5201314/banner</a></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;分析结构，部署代码&quot;&gt;&lt;a href=&quot;#分析结构，部署代码&quot; class=&quot;headerlink&quot; title=&quot;分析结构，部署代码&quot;&gt;&lt;/a&gt;分析结构，部署代码&lt;/h2&gt;&lt;p&gt;发现页的设计不难发现是一个Recyclver实现的布局，不一样的地方就是每个Item都不相同，包含Banner、List、Title+Content布局组合而成，实现就通过&lt;code&gt;ListAdapter&lt;/code&gt;的&lt;code&gt;override fun getItemViewType(position: Int): Int&lt;/code&gt;来定义不同的Item Layout&lt;/p&gt;</summary>
    
    
    
    
    <category term="云音乐" scheme="https://xuie0000.com/tags/%E4%BA%91%E9%9F%B3%E4%B9%90/"/>
    
  </entry>
  
  <entry>
    <title>云音乐-预览与设计初衷</title>
    <link href="https://xuie0000.com/post/2021-05-31-netease-app-design.html"/>
    <id>https://xuie0000.com/post/2021-05-31-netease-app-design.html</id>
    <published>2021-05-31T02:47:59.000Z</published>
    <updated>2023-12-30T05:24:16.813Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>为什么还在使用它。。。因为怀念吧。其实现在已经很少因为一个小的技术更新而更新博客，知识的迭代过快，更多的选择还是将知识放入自己的“笔记”之中，久而久之就越来越不再更新博客。周末发现已经超过一年多没有使用了，就前一段时间因为这里使用的插图“新浪图床”跪了，有更新一下图片，近期还是再更新一波吧，真的下一次想更新不知道要到什么时候了，这次更新的是记一个实现网易云音乐APP的思路，先上预览图，要是想了解就继续看</p></blockquote><span id="more"></span><h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><p>这两年变化的技术太多了，然后看到了<a href="https://binaryify.github.io/NeteaseCloudMusicApi/#/?id=neteasecloudmusicapi">NeteaseCloudMusicApi</a>就突然萌生了写一个冲动，当然我也知道很多的人已经分享过这个App了，然后我再github上寻找了好多个看过人家的源码，发现不是java就是mvp的模式，连是用kotlin编写的都少，还有就是在使用<code>.aidl</code>的Service接口。想自己也撸一个。。</p><p>5月7号新建的工程，现在都快过一个月了，想着更新一下博客就分享出来了，因为我相信Google和Github已经很强大了，解决不了的问题请找他们吧。我想分享的如何实现这个App</p><p>先上一波图，对比最新网易云音乐，我还是尽量还原得一样。</p><p><img src="/../images/netease/070409241903_0netease_sr_01.jpg"></p><p>其次分享一下主要实现技术：<code>Navigation</code>+<code>MVVM</code>+<code>Dagger Hilt</code>+<code>exoplayer</code></p><blockquote><p>以下是完整依赖</p></blockquote><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">implementation <span class="string">&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:$kotlin_coroutines&quot;</span></span><br><span class="line">implementation <span class="string">&quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:$kotlin_coroutines&quot;</span></span><br><span class="line"></span><br><span class="line">implementation <span class="string">&#x27;androidx.core:core-ktx:1.6.0-beta01&#x27;</span></span><br><span class="line">implementation <span class="string">&#x27;androidx.appcompat:appcompat:1.3.0&#x27;</span></span><br><span class="line">implementation <span class="string">&#x27;com.google.android.material:material:1.3.0&#x27;</span></span><br><span class="line">implementation <span class="string">&#x27;androidx.constraintlayout:constraintlayout:2.0.4&#x27;</span></span><br><span class="line">implementation <span class="string">&quot;androidx.lifecycle:lifecycle-livedata-ktx:$lifecycle_version&quot;</span></span><br><span class="line">implementation <span class="string">&quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycle_version&quot;</span></span><br><span class="line">implementation <span class="string">&quot;androidx.navigation:navigation-fragment-ktx:$navigation_version&quot;</span></span><br><span class="line">implementation <span class="string">&quot;androidx.navigation:navigation-ui-ktx:$navigation_version&quot;</span></span><br><span class="line">implementation <span class="string">&#x27;androidx.paging:paging-runtime-ktx:3.0.0&#x27;</span></span><br><span class="line">implementation <span class="string">&#x27;androidx.viewpager2:viewpager2:1.0.0&#x27;</span></span><br><span class="line">implementation <span class="string">&#x27;androidx.swiperefreshlayout:swiperefreshlayout:1.2.0-alpha01&#x27;</span></span><br><span class="line">implementation <span class="string">&#x27;androidx.palette:palette-ktx:1.0.0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// hilt-dagger</span></span><br><span class="line">implementation <span class="string">&quot;com.google.dagger:hilt-android:$dagger_hilt_core&quot;</span></span><br><span class="line">implementation <span class="string">&#x27;androidx.legacy:legacy-support-v4:1.0.0&#x27;</span></span><br><span class="line">kapt <span class="string">&quot;com.google.dagger:hilt-compiler:$dagger_hilt_core&quot;</span></span><br><span class="line">androidTestImplementation <span class="string">&quot;com.google.dagger:hilt-android-testing:$dagger_hilt_core&quot;</span></span><br><span class="line">kaptAndroidTest <span class="string">&quot;com.google.dagger:hilt-compiler:$dagger_hilt_core&quot;</span></span><br><span class="line"></span><br><span class="line">implementation <span class="string">&quot;androidx.hilt:hilt-common:$dagger_hilt&quot;</span></span><br><span class="line">kapt <span class="string">&quot;androidx.hilt:hilt-compiler:$dagger_hilt&quot;</span></span><br><span class="line">implementation <span class="string">&quot;androidx.hilt:hilt-lifecycle-viewmodel:1.0.0-alpha03&quot;</span></span><br><span class="line"></span><br><span class="line">implementation <span class="string">&quot;com.squareup.retrofit2:retrofit:$retrofit2_version&quot;</span></span><br><span class="line">implementation <span class="string">&quot;com.squareup.retrofit2:converter-moshi:$retrofit2_version&quot;</span></span><br><span class="line">implementation <span class="string">&quot;com.squareup.retrofit2:converter-gson:$retrofit2_version&quot;</span></span><br><span class="line">implementation <span class="string">&#x27;com.squareup.okhttp3:okhttp:5.0.0-alpha.2&#x27;</span></span><br><span class="line">implementation <span class="string">&#x27;com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.2&#x27;</span></span><br><span class="line"></span><br><span class="line">implementation <span class="string">&quot;androidx.media:media:1.3.1&quot;</span></span><br><span class="line">api <span class="string">&quot;com.google.android.exoplayer:exoplayer-core:$exoplayer_version&quot;</span></span><br><span class="line">api <span class="string">&quot;com.google.android.exoplayer:exoplayer-ui:$exoplayer_version&quot;</span></span><br><span class="line">api <span class="string">&quot;com.google.android.exoplayer:extension-mediasession:$exoplayer_version&quot;</span></span><br><span class="line">api <span class="string">&quot;com.google.android.exoplayer:extension-cast:$exoplayer_version&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// room</span></span><br><span class="line">implementation <span class="string">&quot;androidx.room:room-runtime:$room_version&quot;</span></span><br><span class="line">implementation <span class="string">&quot;androidx.room:room-ktx:$room_version&quot;</span></span><br><span class="line">kapt <span class="string">&quot;androidx.room:room-compiler:$room_version&quot;</span></span><br><span class="line">androidTestImplementation <span class="string">&quot;androidx.room:room-testing:$room_version&quot;</span></span><br><span class="line"></span><br><span class="line">implementation <span class="string">&#x27;com.google.android.flexbox:flexbox:3.0.0&#x27;</span></span><br><span class="line"></span><br><span class="line">implementation <span class="string">&#x27;com.jakewharton.timber:timber:4.7.1&#x27;</span></span><br><span class="line">implementation <span class="string">&quot;io.coil-kt:coil:1.2.1&quot;</span></span><br><span class="line">implementation <span class="string">&#x27;com.youth.banner:banner:2.1.0&#x27;</span></span><br><span class="line">implementation <span class="string">&#x27;com.github.kirich1409:viewbindingpropertydelegate:1.4.6&#x27;</span></span><br><span class="line">implementation <span class="string">&#x27;com.tencent:mmkv-static:1.2.8&#x27;</span></span><br><span class="line">implementation <span class="string">&#x27;com.just.agentweb:agentweb:4.1.4&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>最后，怎么实现的？如果喜欢就看接下来的篇章，我会分享做这部分的原理及碰到的坑</p><blockquote><p>补充，最近闲时一直有在更新这个api，发现有很多功能都没有，比如“视频合辑”后的vid play list一直找不到;电台播放缺失;播客没有;云村-关注没有等一系列都没有找到，在些补一下近来完善程序，很不错的一个api，再次感谢NeteaseCloudMusicApi，不打算再更新功能了，项多再完善其中的内容（找不到很想添加的，当然、前提是api不会再出新功能。）</p></blockquote><h2 id="Mad-Score"><a href="#Mad-Score" class="headerlink" title="Mad Score"></a>Mad Score</h2><p><img src="https://user-images.githubusercontent.com/8099426/121624386-0149e780-caa4-11eb-9a54-44cfb83ff28d.png"></p><h2 id="Gif"><a href="#Gif" class="headerlink" title="Gif"></a>Gif</h2><p><img src="https://user-images.githubusercontent.com/8099426/123047380-d0689b80-d42f-11eb-99f6-10cdc904f498.gif" alt="music_player"><br><img src="https://user-images.githubusercontent.com/8099426/123047386-d199c880-d42f-11eb-9e63-c2c0777ba817.gif" alt="music_player2"><br><img src="https://user-images.githubusercontent.com/8099426/123047388-d2caf580-d42f-11eb-83da-99d98499459a.gif" alt="music_player3"><br><img src="https://user-images.githubusercontent.com/8099426/123047377-cf376e80-d42f-11eb-8496-72b40c196ea5.gif" alt="music"><br><img src="https://user-images.githubusercontent.com/8099426/123047391-d3638c00-d42f-11eb-946b-78e062eddb45.gif" alt="playlist"><br><img src="https://user-images.githubusercontent.com/8099426/123047397-d494b900-d42f-11eb-8a55-822a2cfaf7c1.gif" alt="playlist_cat_label"><br><img src="https://user-images.githubusercontent.com/8099426/123047400-d52d4f80-d42f-11eb-9011-a892c3f560ae.gif" alt="toplist"><br><img src="https://user-images.githubusercontent.com/8099426/123047405-d65e7c80-d42f-11eb-8d32-4357cda8196c.gif" alt="video"><br><img src="https://user-images.githubusercontent.com/8099426/123047365-ccd51480-d42f-11eb-9077-0217848fecf4.gif" alt="friends"></p><h2 id="Tree"><a href="#Tree" class="headerlink" title="Tree"></a>Tree</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br></pre></td><td class="code"><pre><span class="line">app/src/main/java/com/xuie0000/netease/cloud/</span><br><span class="line">├── data</span><br><span class="line">│   ├── api</span><br><span class="line">│   │   └── NeteaseApi.kt</span><br><span class="line">│   ├── bean</span><br><span class="line">│   │   ├── Account.kt</span><br><span class="line">│   │   ├── Album.kt</span><br><span class="line">│   │   ├── Al.kt</span><br><span class="line">│   │   ├── All.kt</span><br><span class="line">│   │   ├── Ar.kt</span><br><span class="line">│   │   ├── Artist.kt</span><br><span class="line">│   │   ├── ArtistToplist.kt</span><br><span class="line">│   │   ├── ArtistX.kt</span><br><span class="line">│   │   ├── AvatarDetail.kt</span><br><span class="line">│   │   ├── BannerItem.kt</span><br><span class="line">│   │   ├── Binding.kt</span><br><span class="line">│   │   ├── Block.kt</span><br><span class="line">│   │   ├── Button.kt</span><br><span class="line">│   │   ├── Categories.kt</span><br><span class="line">│   │   ├── ChargeInfo.kt</span><br><span class="line">│   │   ├── ChargeInfoX.kt</span><br><span class="line">│   │   ├── CommentSimpleData.kt</span><br><span class="line">│   │   ├── Content.kt</span><br><span class="line">│   │   ├── CreativeExtInfoVO.kt</span><br><span class="line">│   │   ├── Creative.kt</span><br><span class="line">│   │   ├── Creator.kt</span><br><span class="line">│   │   ├── CreatorX.kt</span><br><span class="line">│   │   ├── DailyRecommend.kt</span><br><span class="line">│   │   ├── Data.kt</span><br><span class="line">│   │   ├── DjRadio.kt</span><br><span class="line">│   │   ├── ExtMonitorInfo.kt</span><br><span class="line">│   │   ├── ExtMonitor.kt</span><br><span class="line">│   │   ├── FreeTrialPrivilege.kt</span><br><span class="line">│   │   ├── GuideToast.kt</span><br><span class="line">│   │   ├── HistoryKeyword.kt</span><br><span class="line">│   │   ├── H.kt</span><br><span class="line">│   │   ├── Image.kt</span><br><span class="line">│   │   ├── Klyric.kt</span><br><span class="line">│   │   ├── L.kt</span><br><span class="line">│   │   ├── Lrc.kt</span><br><span class="line">│   │   ├── MainTitle.kt</span><br><span class="line">│   │   ├── M.kt</span><br><span class="line">│   │   ├── MlogBaseData.kt</span><br><span class="line">│   │   ├── MlogExtVO.kt</span><br><span class="line">│   │   ├── MLogUrl.kt</span><br><span class="line">│   │   ├── Music.kt</span><br><span class="line">│   │   ├── MvArtist.kt</span><br><span class="line">│   │   ├── Mv.kt</span><br><span class="line">│   │   ├── MvUrl.kt</span><br><span class="line">│   │   ├── Operate.kt</span><br><span class="line">│   │   ├── PageConfig.kt</span><br><span class="line">│   │   ├── Playlist.kt</span><br><span class="line">│   │   ├── PlaylistType.kt</span><br><span class="line">│   │   ├── Privilege.kt</span><br><span class="line">│   │   ├── Profile.kt</span><br><span class="line">│   │   ├── ProfileX.kt</span><br><span class="line">│   │   ├── Recommend.kt</span><br><span class="line">│   │   ├── Resolution.kt</span><br><span class="line">│   │   ├── ResourceExtInfo.kt</span><br><span class="line">│   │   ├── Resource.kt</span><br><span class="line">│   │   ├── ResourceX.kt</span><br><span class="line">│   │   ├── ResourceXX.kt</span><br><span class="line">│   │   ├── ResponseAlbum.kt</span><br><span class="line">│   │   ├── ResponseBanner.kt</span><br><span class="line">│   │   ├── ResponseDailyRecommend.kt</span><br><span class="line">│   │   ├── ResponseHomePage.kt</span><br><span class="line">│   │   ├── ResponseLogin.kt</span><br><span class="line">│   │   ├── ResponseLoginStatus.kt</span><br><span class="line">│   │   ├── ResponseLyric.kt</span><br><span class="line">│   │   ├── ResponseMLogToVideo.kt</span><br><span class="line">│   │   ├── ResponseMLogUrl.kt</span><br><span class="line">│   │   ├── ResponseMvFirst.kt</span><br><span class="line">│   │   ├── ResponseMvNetease.kt</span><br><span class="line">│   │   ├── ResponseMvUrl.kt</span><br><span class="line">│   │   ├── ResponseNormal.kt</span><br><span class="line">│   │   ├── ResponsePlaylistCatlist.kt</span><br><span class="line">│   │   ├── ResponsePlayListDetail.kt</span><br><span class="line">│   │   ├── ResponseRecommendResource.kt</span><br><span class="line">│   │   ├── ResponseRecommendSongs.kt</span><br><span class="line">│   │   ├── ResponseSearchHotDetail.kt</span><br><span class="line">│   │   ├── ResponseSearchHot.kt</span><br><span class="line">│   │   ├── ResponseSearch.kt</span><br><span class="line">│   │   ├── ResponseSongDetail.kt</span><br><span class="line">│   │   ├── ResponseTopListDetail.kt</span><br><span class="line">│   │   ├── ResponseTopList.kt</span><br><span class="line">│   │   ├── ResponseTopPlaylistHighQuality.kt</span><br><span class="line">│   │   ├── ResponseTopPlaylist.kt</span><br><span class="line">│   │   ├── ResponseUserDetail.kt</span><br><span class="line">│   │   ├── ResponseUserPlayList.kt</span><br><span class="line">│   │   ├── ResponseVideoTimelineRecommend.kt</span><br><span class="line">│   │   ├── ResponseVideoUrl.kt</span><br><span class="line">│   │   ├── RewardToplist.kt</span><br><span class="line">│   │   ├── ShareCover.kt</span><br><span class="line">│   │   ├── ShowCover.kt</span><br><span class="line">│   │   ├── SongData.kt</span><br><span class="line">│   │   ├── Song.kt</span><br><span class="line">│   │   ├── SongPrivilege.kt</span><br><span class="line">│   │   ├── SongX.kt</span><br><span class="line">│   │   ├── SubTitle.kt</span><br><span class="line">│   │   ├── TailMark.kt</span><br><span class="line">│   │   ├── Talk.kt</span><br><span class="line">│   │   ├── Tlyric.kt</span><br><span class="line">│   │   ├── TopList.kt</span><br><span class="line">│   │   ├── TrackId.kt</span><br><span class="line">│   │   ├── UiElement.kt</span><br><span class="line">│   │   ├── UrlInfo.kt</span><br><span class="line">│   │   ├── UrlInfoX.kt</span><br><span class="line">│   │   ├── UserPoint.kt</span><br><span class="line">│   │   ├── UserProfile.kt</span><br><span class="line">│   │   ├── VideoBean.kt</span><br><span class="line">│   │   ├── VideoGroup.kt</span><br><span class="line">│   │   ├── VideoInfo.kt</span><br><span class="line">│   │   ├── Video.kt</span><br><span class="line">│   │   ├── VideoTimeline.kt</span><br><span class="line">│   │   ├── VideoTimelineRecommend.kt</span><br><span class="line">│   │   └── VideoUrl.kt</span><br><span class="line">│   ├── Constants.kt</span><br><span class="line">│   ├── datasource</span><br><span class="line">│   │   ├── LyricSource.kt</span><br><span class="line">│   │   └── NeteaseDatasource.kt</span><br><span class="line">│   ├── db</span><br><span class="line">│   │   ├── HistoryKeywordDao.kt</span><br><span class="line">│   │   ├── NeteaseDatabase.kt</span><br><span class="line">│   │   └── PlaylistTypeDao.kt</span><br><span class="line">│   ├── di</span><br><span class="line">│   │   ├── NetworkModule.kt</span><br><span class="line">│   │   ├── PersistenceModule.kt</span><br><span class="line">│   │   ├── RepositoryModule.kt</span><br><span class="line">│   │   └── ServiceModule.kt</span><br><span class="line">│   ├── network</span><br><span class="line">│   │   ├── AddCookiesInterceptor.kt</span><br><span class="line">│   │   └── AddUserAgentInterceptor.kt</span><br><span class="line">│   ├── repository</span><br><span class="line">│   │   ├── LyricRepository.kt</span><br><span class="line">│   │   ├── mv</span><br><span class="line">│   │   │   ├── InMemoryByItemMvRepository.kt</span><br><span class="line">│   │   │   ├── InMemoryByItemVideoTimelineRepository.kt</span><br><span class="line">│   │   │   ├── ItemMvPagingSource.kt</span><br><span class="line">│   │   │   ├── ItemVideoTimelinePagingSource.kt</span><br><span class="line">│   │   │   ├── MvRepository.kt</span><br><span class="line">│   │   │   └── VideoTimelineRepository.kt</span><br><span class="line">│   │   ├── NeteaseRepository.kt</span><br><span class="line">│   │   └── playlist</span><br><span class="line">│   │       ├── InMemoryByItemPlaylistHighQualityRepository.kt</span><br><span class="line">│   │       ├── InMemoryByItemPlaylistRepository.kt</span><br><span class="line">│   │       ├── ItemPlaylistHighQualityPagingSource.kt</span><br><span class="line">│   │       ├── ItemPlaylistPagingSource.kt</span><br><span class="line">│   │       ├── PlaylistHighQualityRepository.kt</span><br><span class="line">│   │       └── PlaylistRepository.kt</span><br><span class="line">│   └── Resource.kt</span><br><span class="line">├── media</span><br><span class="line">│   ├── CommandBundle.kt</span><br><span class="line">│   ├── extensions</span><br><span class="line">│   │   ├── FileExt.kt</span><br><span class="line">│   │   ├── JavaLangExt.kt</span><br><span class="line">│   │   ├── MediaMetadataCompatExt.kt</span><br><span class="line">│   │   └── PlaybackStateCompatExt.kt</span><br><span class="line">│   ├── library</span><br><span class="line">│   │   ├── AlbumArtContentProvider.kt</span><br><span class="line">│   │   ├── BrowseTree.kt</span><br><span class="line">│   │   ├── JsonSource.kt</span><br><span class="line">│   │   ├── LocalSource.kt</span><br><span class="line">│   │   ├── MusicSource.kt</span><br><span class="line">│   │   └── NeteaseSource.kt</span><br><span class="line">│   ├── MediaItemData.kt</span><br><span class="line">│   ├── MusicServiceConnection.kt</span><br><span class="line">│   ├── MusicService.kt</span><br><span class="line">│   ├── PackageValidator.kt</span><br><span class="line">│   ├── PersistentStorage.kt</span><br><span class="line">│   └── UampNotificationManager.kt</span><br><span class="line">├── NeteaseApplication.kt</span><br><span class="line">├── ui</span><br><span class="line">│   ├── base</span><br><span class="line">│   │   └── BaseActivity.kt</span><br><span class="line">│   ├── broadcast</span><br><span class="line">│   │   └── BroadcastFragment.kt</span><br><span class="line">│   ├── daily</span><br><span class="line">│   │   ├── RecommendSongsActivity.kt</span><br><span class="line">│   │   └── RecommendSongsViewModel.kt</span><br><span class="line">│   ├── discover</span><br><span class="line">│   │   ├── adapter</span><br><span class="line">│   │   │   ├── BannerViewHolder.kt</span><br><span class="line">│   │   │   ├── child</span><br><span class="line">│   │   │   │   ├── ChildBannerAdapter.kt</span><br><span class="line">│   │   │   │   ├── ChildDailyRecommendAdapter.kt</span><br><span class="line">│   │   │   │   ├── ChildMusicCalendarAdapter.kt</span><br><span class="line">│   │   │   │   ├── ChildMusicMLogAdapter.kt</span><br><span class="line">│   │   │   │   ├── ChildPlaylistAdapter.kt</span><br><span class="line">│   │   │   │   ├── ChildPodcast24Adapter.kt</span><br><span class="line">│   │   │   │   ├── ChildStyleRecommendAdapter.kt</span><br><span class="line">│   │   │   │   └── ChildVideoListAdapter.kt</span><br><span class="line">│   │   │   ├── CodeType.kt</span><br><span class="line">│   │   │   ├── DailyRecommendViewHolder.kt</span><br><span class="line">│   │   │   ├── DiscoverAdapter.kt</span><br><span class="line">│   │   │   ├── DiscoverEmptyViewHolder.kt</span><br><span class="line">│   │   │   ├── MusicCalendarViewHolder.kt</span><br><span class="line">│   │   │   ├── MusicMLogViewHolder.kt</span><br><span class="line">│   │   │   ├── NewAlbumSongViewHolder.kt</span><br><span class="line">│   │   │   ├── PlaylistViewHolder.kt</span><br><span class="line">│   │   │   ├── Podcast24ViewHolder.kt</span><br><span class="line">│   │   │   ├── StyleRecommendViewHolder.kt</span><br><span class="line">│   │   │   └── VideoListViewHolder.kt</span><br><span class="line">│   │   ├── DiscoverFragment.kt</span><br><span class="line">│   │   └── DiscoverViewModel.kt</span><br><span class="line">│   ├── friends</span><br><span class="line">│   │   ├── adapter</span><br><span class="line">│   │   │   ├── FriendsMvAdapter.kt</span><br><span class="line">│   │   │   ├── MvLoadStateAdapter.kt</span><br><span class="line">│   │   │   ├── MvPagingAdapter.kt</span><br><span class="line">│   │   │   ├── MvViewHolder.kt</span><br><span class="line">│   │   │   └── NetworkStateItemViewHolder.kt</span><br><span class="line">│   │   ├── FriendsFragment.kt</span><br><span class="line">│   │   ├── FriendsMvFragment.kt</span><br><span class="line">│   │   ├── FriendsMvViewModel.kt</span><br><span class="line">│   │   ├── FriendsNeteaseFragment.kt</span><br><span class="line">│   │   ├── FriendsNeteaseViewModel.kt</span><br><span class="line">│   │   └── FriendsRecommendFragment.kt</span><br><span class="line">│   ├── gallery</span><br><span class="line">│   │   ├── GalleryFragment.kt</span><br><span class="line">│   │   └── GalleryViewModel.kt</span><br><span class="line">│   ├── karaoke</span><br><span class="line">│   │   └── KaraokeFragment.kt</span><br><span class="line">│   ├── login</span><br><span class="line">│   │   ├── email</span><br><span class="line">│   │   │   ├── LoginEmailFragment.kt</span><br><span class="line">│   │   │   └── LoginEmailViewModel.kt</span><br><span class="line">│   │   ├── LoginActivity.kt</span><br><span class="line">│   │   ├── logout</span><br><span class="line">│   │   │   ├── LogoutFragment.kt</span><br><span class="line">│   │   │   └── LogoutViewModel.kt</span><br><span class="line">│   │   └── welcome</span><br><span class="line">│   │       └── LoginWelcomeFragment.kt</span><br><span class="line">│   ├── main</span><br><span class="line">│   │   ├── MainActivity.kt</span><br><span class="line">│   │   └── MainViewModel.kt</span><br><span class="line">│   ├── mlog</span><br><span class="line">│   │   ├── MLogActivity.kt</span><br><span class="line">│   │   ├── MLogFragment.kt</span><br><span class="line">│   │   ├── MLogPagerAdapter.kt</span><br><span class="line">│   │   └── MLogViewModel.kt</span><br><span class="line">│   ├── music</span><br><span class="line">│   │   ├── adapter</span><br><span class="line">│   │   │   ├── MyAdapter.kt</span><br><span class="line">│   │   │   └── UserPlaylistAdapter.kt</span><br><span class="line">│   │   ├── MyFragment.kt</span><br><span class="line">│   │   └── MyViewModel.kt</span><br><span class="line">│   ├── mv</span><br><span class="line">│   │   ├── MvActivity.kt</span><br><span class="line">│   │   ├── MvFragment.kt</span><br><span class="line">│   │   ├── MvPagerAdapter.kt</span><br><span class="line">│   │   └── MvViewModel.kt</span><br><span class="line">│   ├── player</span><br><span class="line">│   │   ├── adapter</span><br><span class="line">│   │   │   └── MusicListAdapter.kt</span><br><span class="line">│   │   ├── MusicListFragment.kt</span><br><span class="line">│   │   ├── MusicListViewModel.kt</span><br><span class="line">│   │   ├── PlayerFragment.kt</span><br><span class="line">│   │   └── PlayerViewModel.kt</span><br><span class="line">│   ├── playlist</span><br><span class="line">│   │   ├── adapter</span><br><span class="line">│   │   │   ├── CatLabelAdapter.kt</span><br><span class="line">│   │   │   ├── CatLabelItemAdapter.kt</span><br><span class="line">│   │   │   ├── PlaylistDetailAdapter.kt</span><br><span class="line">│   │   │   ├── PlaylistPagingAdapter.kt</span><br><span class="line">│   │   │   ├── VideoListDetailAdapter.kt</span><br><span class="line">│   │   │   └── VideoTimelinePagingAdapter.kt</span><br><span class="line">│   │   ├── album</span><br><span class="line">│   │   │   ├── AlbumActivity.kt</span><br><span class="line">│   │   │   └── AlbumViewModel.kt</span><br><span class="line">│   │   ├── cat</span><br><span class="line">│   │   │   ├── CatLabelActivity.kt</span><br><span class="line">│   │   │   └── CatLabelViewModel.kt</span><br><span class="line">│   │   ├── detail</span><br><span class="line">│   │   │   ├── PlaylistDetailActivity.kt</span><br><span class="line">│   │   │   └── PlaylistDetailViewModel.kt</span><br><span class="line">│   │   ├── PlaylistActivity.kt</span><br><span class="line">│   │   ├── PlaylistFragment.kt</span><br><span class="line">│   │   ├── PlaylistPagerAdapter.kt</span><br><span class="line">│   │   ├── PlaylistViewModel.kt</span><br><span class="line">│   │   ├── PlViewModel.kt</span><br><span class="line">│   │   ├── VideoTimelineFragment.kt</span><br><span class="line">│   │   └── VideoTimelineViewModel.kt</span><br><span class="line">│   ├── search</span><br><span class="line">│   │   ├── adapter</span><br><span class="line">│   │   │   ├── child</span><br><span class="line">│   │   │   │   ├── SearchChildAlbumAdapter.kt</span><br><span class="line">│   │   │   │   ├── SearchChildArtistAdapter.kt</span><br><span class="line">│   │   │   │   ├── SearchChildDjRadioAdapter.kt</span><br><span class="line">│   │   │   │   ├── SearchChildPlayListAdapter.kt</span><br><span class="line">│   │   │   │   ├── SearchChildSimQueryAdapter.kt</span><br><span class="line">│   │   │   │   ├── SearchChildSongAdapter.kt</span><br><span class="line">│   │   │   │   ├── SearchChildTalkAdapter.kt</span><br><span class="line">│   │   │   │   ├── SearchChildUserAdapter.kt</span><br><span class="line">│   │   │   │   └── SearchChildVideoAdapter.kt</span><br><span class="line">│   │   │   ├── CustomSuggestionsAdapter.kt</span><br><span class="line">│   │   │   ├── SearchAdapter.kt</span><br><span class="line">│   │   │   ├── SearchAlbumViewHolder.kt</span><br><span class="line">│   │   │   ├── SearchArtistViewHolder.kt</span><br><span class="line">│   │   │   ├── SearchDjRadioViewHolder.kt</span><br><span class="line">│   │   │   ├── SearchHistoryAdapter.kt</span><br><span class="line">│   │   │   ├── SearchHotAdapter.kt</span><br><span class="line">│   │   │   ├── SearchMLogViewHolder.kt</span><br><span class="line">│   │   │   ├── SearchOrder.kt</span><br><span class="line">│   │   │   ├── SearchPlayListViewHolder.kt</span><br><span class="line">│   │   │   ├── SearchSimQueryViewHolder.kt</span><br><span class="line">│   │   │   ├── SearchSongViewHolder.kt</span><br><span class="line">│   │   │   ├── SearchTalkViewHolder.kt</span><br><span class="line">│   │   │   ├── SearchUserViewHolder.kt</span><br><span class="line">│   │   │   └── SearchVideoViewHolder.kt</span><br><span class="line">│   │   ├── SearchActivity.kt</span><br><span class="line">│   │   └── SearchViewModel.kt</span><br><span class="line">│   ├── slideshow</span><br><span class="line">│   │   ├── SlideshowFragment.kt</span><br><span class="line">│   │   └── SlideshowViewModel.kt</span><br><span class="line">│   ├── toplist</span><br><span class="line">│   │   ├── adapter</span><br><span class="line">│   │   │   ├── child</span><br><span class="line">│   │   │   │   ├── ItemTopListChildNeteaseAdapter.kt</span><br><span class="line">│   │   │   │   ├── TopListChildNeteaseAdapter.kt</span><br><span class="line">│   │   │   │   └── TopListChildOtherAdapter.kt</span><br><span class="line">│   │   │   ├── TopListAdapter.kt</span><br><span class="line">│   │   │   ├── TopListNeteaseViewHolder.kt</span><br><span class="line">│   │   │   └── TopListOtherViewHolder.kt</span><br><span class="line">│   │   ├── TopListActivity.kt</span><br><span class="line">│   │   └── TopListViewModel.kt</span><br><span class="line">│   └── web</span><br><span class="line">│       └── WebActivity.kt</span><br><span class="line">├── util</span><br><span class="line">│   ├── AccountExt.kt</span><br><span class="line">│   ├── ActivityExt.kt</span><br><span class="line">│   ├── BlurBitmap.kt</span><br><span class="line">│   ├── ContextExt.kt</span><br><span class="line">│   ├── DateExt.kt</span><br><span class="line">│   ├── DpExt.kt</span><br><span class="line">│   ├── FilesExt.kt</span><br><span class="line">│   ├── MusicExt.kt</span><br><span class="line">│   ├── NeteaseExt.kt</span><br><span class="line">│   ├── PlaylistExt.kt</span><br><span class="line">│   ├── ResponseExt.kt</span><br><span class="line">│   └── TopListExt.kt</span><br><span class="line">└── widget</span><br><span class="line">    ├── AppBarStateChangeListener.kt</span><br><span class="line">    ├── ClearableEditText.kt</span><br><span class="line">    ├── DropDownHideBottomSheetBehavior.kt</span><br><span class="line">    ├── FixedHeightBottomSheetDialog.kt</span><br><span class="line">    ├── lrc</span><br><span class="line">    │   ├── LrcHelper.kt</span><br><span class="line">    │   ├── Lrc.kt</span><br><span class="line">    │   └── LrcView.kt</span><br><span class="line">    ├── NestedScrollableHost.kt</span><br><span class="line">    ├── ViewPager2Container.kt</span><br><span class="line">    └── WrapContentHeightViewPager.kt</span><br></pre></td></tr></table></figure><h2 id="Downloads"><a href="#Downloads" class="headerlink" title="Downloads"></a>Downloads</h2><p><a href="http://d.6boat.com/phq3">App预览下载 - 2021.6.24</a></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;为什么还在使用它。。。因为怀念吧。其实现在已经很少因为一个小的技术更新而更新博客，知识的迭代过快，更多的选择还是将知识放入自己的“笔记”之中，久而久之就越来越不再更新博客。周末发现已经超过一年多没有使用了，就前一段时间因为这里使用的插图“新浪图床”跪了，有更新一下图片，近期还是再更新一波吧，真的下一次想更新不知道要到什么时候了，这次更新的是记一个实现网易云音乐APP的思路，先上预览图，要是想了解就继续看&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    
    <category term="云音乐" scheme="https://xuie0000.com/tags/%E4%BA%91%E9%9F%B3%E4%B9%90/"/>
    
  </entry>
  
  <entry>
    <title>添加开机启动APP Activity或Service的广播不启动的原因</title>
    <link href="https://xuie0000.com/post/2019-12-04-2019/%E6%B7%BB%E5%8A%A0%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8APP-Activity%E6%88%96Service%E7%9A%84%E5%B9%BF%E6%92%AD%E4%B8%8D%E5%90%AF%E5%8A%A8%E7%9A%84%E5%8E%9F%E5%9B%A0.html"/>
    <id>https://xuie0000.com/post/2019-12-04-2019/%E6%B7%BB%E5%8A%A0%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8APP-Activity%E6%88%96Service%E7%9A%84%E5%B9%BF%E6%92%AD%E4%B8%8D%E5%90%AF%E5%8A%A8%E7%9A%84%E5%8E%9F%E5%9B%A0.html</id>
    <published>2019-12-04T08:47:20.000Z</published>
    <updated>2023-12-30T06:00:45.460Z</updated>
    
    <content type="html"><![CDATA[<h2 id="现象"><a href="#现象" class="headerlink" title="现象"></a>现象</h2><p>我们知道，在Android中实现开启启动的方法注册一个静态广播去监听开机启动完毕的广播，然后在接听到开机广播完毕后，启动Activity或者Service，方法如下：<br>首先，新建一个广播监听器监听开机启动完毕的广播</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BootCompletedReceiver</span> <span class="keyword">extends</span> <span class="title class_">BroadcastReceiver</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">ACTION_BOOT_COMPLETED</span> <span class="operator">=</span> <span class="string">&quot;android.intent.action.BOOT_COMPLETED&quot;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onReceive</span><span class="params">(Context context, Intent intent)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (intent.getAction().equals(action_boot))&#123;</span><br><span class="line">            Intent intent=<span class="keyword">new</span> <span class="title class_">Intent</span>(context,MainActivity.class);</span><br><span class="line">            ootStartIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</span><br><span class="line">            context.startActivity(intent);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后，在AndroidManifest.xml静态注册该广播</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">receiver</span> <span class="attr">android:name</span>=<span class="string">&quot;.BootCompletedReceiver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.action.BOOT_COMPLETED&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.category.HOME&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">receiver</span>&gt;</span></span><br></pre></td></tr></table></figure><p>最后，在AndroidManifest.xml申请权限</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><span id="more"></span><p>通过以上的方法，可以实现开启启动APP，但是，这个方法有问题，以上的方法必须要在安装APP后，手动运行一次APP后，APP才能接收到<code>android.intent.action.BOOT_COMPLETED</code>广播。</p><p>假如APP没有Activity，只有Service，或者安装完毕后无法手动运行，也不能通过其他的APP来启动此APP的Service或者Activity，如何安装后，可以开机启动呢？</p><p>我们先看看APP接收不到BOOT_COMPLETED广播可能的原因，有以下几种：</p><ol><li><code>BOOT_COMPLETED</code>对应的<code>action</code>和<code>uses-permission</code>没有一起添加</li><li>应用安装到了sd卡内，安装在sd卡内的应用是收不到BOOT_COMPLETED广播的</li><li>系统开启了Fast Boot模式，这种模式下系统启动并不会发送BOOT_COMPLETED广播</li><li>应用程序安装后重来没有启动过，这种情况下应用程序接收不到任何广播，包括BOOT_COMPLETED、ACTION_PACKAGE_ADDED、CONNECTIVITY_ACTION等等。</li></ol><p>Android3.1之后，系统为了加强了安全性控制，应用程序安装后或是(设置)应用管理中被强制关闭后处于stopped状态，在这种状态下接收不到任何广播，除非广播带有<code>FLAG_INCLUDE_STOPPED_PACKAGES</code>标志，而默认所有系统广播都是<code>FLAG_EXCLUDE_STOPPED_PACKAGES</code>的，所以就没法通过系统广播自启动了。</p><p>所以Android3.1之后:</p><ol><li>应用程序无法在安装后自己启动</li><li>没有ui的程序必须通过其他应用激活才能启动，如它的Activity、Service、Content Provider被其他应用调用。</li></ol><blockquote><p>不过，存在一种例外，就是应用程序被adb push you.apk &#x2F;system&#x2F;app&#x2F;下是会自动启动的，不处于<code>stopped</code>状态。</p></blockquote><h2 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h2><p><a href="http://developer.android.com/about/versions/android-3.1.html#launchcontrols">http://developer.android.com/about/versions/android-3.1.html#launchcontrols</a><br><a href="http://commonsware.com/blog/2011/07/13/boot-completed-regression-confirmed.html">http://commonsware.com/blog/2011/07/13/boot-completed-regression-confirmed.html</a></p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 卡总V5</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><p>也就是说，如果需要实现安装APP后，不启动APP，并且实现开机启动APP的方法，出来以上的步骤，还需要一下的步骤：</p><p><strong>将APK推送到&#x2F;system&#x2F;app目录下,或者打包系统时，将APK放置到&#x2F;system&#x2F;app中打包</strong></p><h2 id="来源"><a href="#来源" class="headerlink" title="来源"></a>来源</h2><p><a href="https://segmentfault.com/a/1190000015851405">https://segmentfault.com/a/1190000015851405</a></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;现象&quot;&gt;&lt;a href=&quot;#现象&quot; class=&quot;headerlink&quot; title=&quot;现象&quot;&gt;&lt;/a&gt;现象&lt;/h2&gt;&lt;p&gt;我们知道，在Android中实现开启启动的方法注册一个静态广播去监听开机启动完毕的广播，然后在接听到开机广播完毕后，启动Activity或者Service，方法如下：&lt;br&gt;首先，新建一个广播监听器监听开机启动完毕的广播&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;BootCompletedReceiver&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;BroadcastReceiver&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;ACTION_BOOT_COMPLETED&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;android.intent.action.BOOT_COMPLETED&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title function_&quot;&gt;onReceive&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, Intent intent)&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (intent.getAction().equals(action_boot))&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Intent intent=&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;Intent&lt;/span&gt;(context,MainActivity.class);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ootStartIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            context.startActivity(intent);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;然后，在AndroidManifest.xml静态注册该广播&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;receiver&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;.BootCompletedReceiver&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;intent-filter&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;action&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;android.intent.action.BOOT_COMPLETED&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;category&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;android.intent.category.HOME&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;intent-filter&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;receiver&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;最后，在AndroidManifest.xml申请权限&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;uses-permission&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;android.permission.RECEIVE_BOOT_COMPLETED&amp;quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="Android" scheme="https://xuie0000.com/categories/Android/"/>
    
    
    <category term="广播" scheme="https://xuie0000.com/tags/%E5%B9%BF%E6%92%AD/"/>
    
    <category term="BroadcastReceiver" scheme="https://xuie0000.com/tags/BroadcastReceiver/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot之logback</title>
    <link href="https://xuie0000.com/post/2019-11-26-2019/Spring-Boot%E4%B9%8Blogback.html"/>
    <id>https://xuie0000.com/post/2019-11-26-2019/Spring-Boot%E4%B9%8Blogback.html</id>
    <published>2019-11-26T08:12:27.000Z</published>
    <updated>2023-12-30T05:59:41.010Z</updated>
    
    <content type="html"><![CDATA[<p>日志还是很重要的，发现大家都推荐<code>logback</code>，觉得不错分享下</p><p><code>logback</code>库是默认内置的，不需要添加maven，下面直接使用</p><h2 id="配置logback-spring-xml"><a href="#配置logback-spring-xml" class="headerlink" title="配置logback-spring.xml"></a>配置<code>logback-spring.xml</code></h2><p>在<code>resources</code>目录新建<code>logback-spring.xml</code>，内容如下</p><span id="more"></span><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 日志级别从低到高分为TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL，如果设置为WARN，则低于WARN的信息都不会输出 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- scan:当此属性设置为true时，配置文件如果发生改变，将会被重新加载，默认值为true。 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- scanPeriod:设置监测配置文件是否有修改的时间间隔，如果没有给出时间单位，默认单位是毫秒。当scan为true时，此属性生效。默认的时间间隔为1分钟。 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- de<span class="doctag">bug:</span>当此属性设置为true时，将打印出logback内部日志信息，实时查看logback运行状态。默认值为false。 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">scan</span>=<span class="string">&quot;true&quot;</span> <span class="attr">scanPeriod</span>=<span class="string">&quot;60 seconds&quot;</span> <span class="attr">debug</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 定义日志根目录 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;LOG_PATH&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/usr/local/log/&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 定义应用名称 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;APP_NAME&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Spring Sample&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 应用名称 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">contextName</span>&gt;</span>$&#123;APP_NAME&#125;<span class="tag">&lt;/<span class="name">contextName</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引用 Spring Boot 中默认的 logback 配置 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;include resource=&quot;org/springframework/boot/logging/logback/base.xml&quot; /&gt; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 可以动态修改日志输出等级 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">jmxConfigurator</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--输出到控制台--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;CONSOLE&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--此日志appender是为开发使用，只配置最底级别，控制台输出的日志级别是大于或等于此级别的日志信息--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">level</span>&gt;</span>debug<span class="tag">&lt;/<span class="name">level</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d [%t] %5p %c:%L - %m%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 设置字符集 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 时间滚动输出 level为 INFO 日志 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;INFO_FILE&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">File</span>&gt;</span>$&#123;LOG_PATH&#125;$&#123;APP_NAME&#125;-info.log<span class="tag">&lt;/<span class="name">File</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d [%t] %5p %c:%L - %m%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录，日志按天分类压缩保存--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rollingPolicy</span></span></span><br><span class="line"><span class="tag">                <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">timeBasedFileNamingAndTriggeringPolicy</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">maxFileSize</span>&gt;</span>100MB<span class="tag">&lt;/<span class="name">maxFileSize</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">FileNamePattern</span>&gt;</span>$&#123;LOG_PATH&#125;$&#123;APP_NAME&#125;/info/%d&#123;yyyy-MM-dd&#125;-%i.log.gz</span><br><span class="line">            <span class="tag">&lt;/<span class="name">FileNamePattern</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--日志文件保留天数--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">MaxHistory</span>&gt;</span>30<span class="tag">&lt;/<span class="name">MaxHistory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 时间滚动输出 level为 ERROR 日志 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;ERROR_FILE&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">File</span>&gt;</span>$&#123;LOG_PATH&#125;$&#123;APP_NAME&#125;-error.log<span class="tag">&lt;/<span class="name">File</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">level</span>&gt;</span>error<span class="tag">&lt;/<span class="name">level</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d [%t] %5p %c:%L - %m%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录，日志按天分类压缩保存--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rollingPolicy</span></span></span><br><span class="line"><span class="tag">                <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">timeBasedFileNamingAndTriggeringPolicy</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">maxFileSize</span>&gt;</span>256MB<span class="tag">&lt;/<span class="name">maxFileSize</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">FileNamePattern</span>&gt;</span>$&#123;LOG_PATH&#125;$&#123;APP_NAME&#125;/error/%d&#123;yyyy-MM-dd&#125;-%i.log.gz</span><br><span class="line">            <span class="tag">&lt;/<span class="name">FileNamePattern</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--日志文件保留天数--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">MaxHistory</span>&gt;</span>30<span class="tag">&lt;/<span class="name">MaxHistory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 设置需要打印日志的包及输出级别 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;org.springframework.web&quot;</span> <span class="attr">level</span>=<span class="string">&quot;INFO&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;xuk.spring.sample.rest&quot;</span> <span class="attr">level</span>=<span class="string">&quot;TRACE&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        root节点是必选节点，用来指定最基础的日志输出级别，只有一个level属性</span></span><br><span class="line"><span class="comment">        level:用来设置打印级别，大小写无关：TRACE, DEBUG, INFO, WARN, ERROR, ALL 和 OFF，</span></span><br><span class="line"><span class="comment">        不能设置为INHERITED或者同义词NULL。默认是DEBUG</span></span><br><span class="line"><span class="comment">        可以包含零个或多个元素，标识这个appender将会添加到这个logger。</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;CONSOLE&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;INFO_FILE&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;ERROR_FILE&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xuk.spring.sample.rest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Logger</span> <span class="variable">log</span> <span class="operator">=</span> LoggerFactory.getLogger(HelloController.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line">    String <span class="title function_">index</span><span class="params">()</span> &#123;</span><br><span class="line">        log.debug(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">new</span> <span class="title class_">Date</span>().toString()) + <span class="string">&quot;, Hello World!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行输入<code>http://localhost:8080/</code>之后，在控制台及本地文件都能够看到日志打印了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2019-11-19 17:33:21,635 [http-nio-8080-exec-1] INFO xuk.spring.sample.rest.HelloController:16 - Hello World!</span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://juejin.im/post/5dbfe21cf265da4d307f162a">https://juejin.im/post/5dbfe21cf265da4d307f162a</a><br><a href="https://mrbird.cc/Spring-Boot-logback.html">https://mrbird.cc/Spring-Boot-logback.html</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;日志还是很重要的，发现大家都推荐&lt;code&gt;logback&lt;/code&gt;，觉得不错分享下&lt;/p&gt;
&lt;p&gt;&lt;code&gt;logback&lt;/code&gt;库是默认内置的，不需要添加maven，下面直接使用&lt;/p&gt;
&lt;h2 id=&quot;配置logback-spring-xml&quot;&gt;&lt;a href=&quot;#配置logback-spring-xml&quot; class=&quot;headerlink&quot; title=&quot;配置logback-spring.xml&quot;&gt;&lt;/a&gt;配置&lt;code&gt;logback-spring.xml&lt;/code&gt;&lt;/h2&gt;&lt;p&gt;在&lt;code&gt;resources&lt;/code&gt;目录新建&lt;code&gt;logback-spring.xml&lt;/code&gt;，内容如下&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Boot" scheme="https://xuie0000.com/categories/Spring-Boot/"/>
    
    
    <category term="logback" scheme="https://xuie0000.com/tags/logback/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot之WebFlux+MongoDB</title>
    <link href="https://xuie0000.com/post/2019-11-22-2019/Spring-Boot%E4%B9%8BWebFlux-MongoDB.html"/>
    <id>https://xuie0000.com/post/2019-11-22-2019/Spring-Boot%E4%B9%8BWebFlux-MongoDB.html</id>
    <published>2019-11-22T01:44:16.000Z</published>
    <updated>2023-12-30T06:00:28.870Z</updated>
    
    <content type="html"><![CDATA[<p>Spring WebFlux是非阻塞式的，支持 Reactive Streams背压，并在Netty，Undertow和Servlet 3.1+容器等服务器上运行。其目前只支持非关系型数据库，如Mongo，Redis等。非阻塞式的编程模型可以提高程序的并发量，提升性能和吞吐量。</p><blockquote><p>简易理解，web的异步请求，像rxjava2, continues等</p></blockquote><p>本篇用于记录一段简单使用的示例</p><p>首先就是需要安装MongoDB，此处略过</p><h2 id="库包"><a href="#库包" class="headerlink" title="库包"></a>库包</h2><p>接下来就是添加依赖库，包括<code>webflux</code>和<code>mongodb</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- webflux --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- mongodb --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>添加<code>application.yml</code>配置，这里多添加了一条显示NoSql查询语句，当遇到错误时候很管用，建议写上</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">data:</span></span><br><span class="line">    <span class="attr">mongodb:</span></span><br><span class="line">      <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">27017</span></span><br><span class="line">      <span class="attr">database:</span> <span class="string">webflux</span></span><br><span class="line"><span class="comment"># mongodb显示NoSql日志</span></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">org:</span></span><br><span class="line">      <span class="attr">springframework:</span></span><br><span class="line">        <span class="attr">data:</span></span><br><span class="line">          <span class="attr">mongodb:</span></span><br><span class="line">            <span class="attr">core:</span> <span class="string">DEBUG</span></span><br></pre></td></tr></table></figure><h2 id="实用"><a href="#实用" class="headerlink" title="实用"></a>实用</h2><p>在Application添加<code>@EnableReactiveMongoRepositories</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableReactiveMongoRepositories</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SampleApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(SampleApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>通过继续<code>ReactiveMongoRepository</code>编写访问实例，这里和JPA的很像</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MongoRepository</span> <span class="keyword">extends</span> <span class="title class_">ReactiveMongoRepository</span>&lt;MongoUser, String&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>添加Controller实现接口，实现了普通回调及流式回调</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FluxController</span> &#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> MongoRepository repository;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 以数组的形式一次性返回所有数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> Flux&lt;MongoUser&gt; <span class="title function_">getUsers</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> repository.findAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 以 Server sent events形式多次返回数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/stream&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)</span></span><br><span class="line">    <span class="keyword">public</span> Flux&lt;MongoUser&gt; <span class="title function_">getUsersStream</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> repository.findAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>一次性回调访问结果：</p><p><img src="https://ww1.sinaimg.cn/large/863951d2gy1g96ksk1rb6j20fv0ghdg6.jpg" alt="result"></p><p>多次回调访问结果<br><img src="https://ww1.sinaimg.cn/large/863951d2gy1g96ksybaa7j20ls0cmjrt.jpg" alt="multi callback"></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://mrbird.cc/Spring-Boot-WebFlux-CRUD.html">https://mrbird.cc/Spring-Boot-WebFlux-CRUD.html</a><br><a href="https://mrbird.cc/Spring-Boot-2-0-WebFlux.html">https://mrbird.cc/Spring-Boot-2-0-WebFlux.html</a><br><a href="https://juejin.im/post/5b3a24386fb9a024ed75ab36">https://juejin.im/post/5b3a24386fb9a024ed75ab36</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Spring WebFlux是非阻塞式的，支持 Reactive Streams背压，并在Netty，Undertow和Servlet 3.1+容器等服务器上运行。其目前只支持非关系型数据库，如Mongo，Redis等。非阻塞式的编程模型可以提高程序的并发量，提升性能和吞吐量。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;简易理解，web的异步请求，像rxjava2, continues等&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;本篇用于记录一段简单使用的示例&lt;/p&gt;
&lt;p&gt;首先就是需要安装MongoDB，此处略过&lt;/p&gt;
&lt;h2 id=&quot;库包&quot;&gt;&lt;a href=&quot;#库包&quot; class=&quot;headerlink&quot; title=&quot;库包&quot;&gt;&lt;/a&gt;库包&lt;/h2&gt;&lt;p&gt;接下来就是添加依赖库，包括&lt;code&gt;webflux&lt;/code&gt;和&lt;code&gt;mongodb&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;!-- webflux --&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;artifactId&amp;gt;spring-boot-starter-webflux&amp;lt;/artifactId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;!-- mongodb --&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;artifactId&amp;gt;spring-boot-starter-data-mongodb-reactive&amp;lt;/artifactId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="Spring Boot" scheme="https://xuie0000.com/categories/Spring-Boot/"/>
    
    
    <category term="Webflux" scheme="https://xuie0000.com/tags/Webflux/"/>
    
    <category term="MongoDB" scheme="https://xuie0000.com/tags/MongoDB/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot之Redis</title>
    <link href="https://xuie0000.com/post/2019-11-21-2019/Spring-Boot%E4%B9%8BRedis.html"/>
    <id>https://xuie0000.com/post/2019-11-21-2019/Spring-Boot%E4%B9%8BRedis.html</id>
    <published>2019-11-21T02:43:07.000Z</published>
    <updated>2023-12-30T05:59:54.499Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Redis简单理解，Redis可以作为一个极速（内存）数据，能够解决数据库响应慢的一个辅助工具，基于这一点，就有市场了</p></blockquote><p>Redis 是一个高性能的key-value数据库。 redis的出现，很大程度补偿了memcached这类key&#x2F;value存储的不足，在部分场合可以对关系数据库起到很好的补充作用。</p><p>安装部分这里略过，直接到使用</p><h2 id="添加依赖包"><a href="#添加依赖包" class="headerlink" title="添加依赖包"></a>添加依赖包</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- redis --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="添加配置"><a href="#添加配置" class="headerlink" title="添加配置"></a>添加配置</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="comment"># REDIS</span></span><br><span class="line">  <span class="comment"># Redis数据库索引（默认为0）</span></span><br><span class="line">  <span class="attr">redis.database:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># Redis服务器地址</span></span><br><span class="line">  <span class="attr">redis.host:</span> <span class="string">localhost</span></span><br><span class="line">  <span class="comment"># Redis服务器连接端口</span></span><br><span class="line">  <span class="attr">redis.port:</span> <span class="number">6379</span></span><br><span class="line">  <span class="comment"># Redis服务器连接密码（默认为空）</span></span><br><span class="line">  <span class="attr">redis.password:</span></span><br><span class="line">  <span class="comment"># 连接池最大连接数（使用负值表示没有限制） 默认 8</span></span><br><span class="line">  <span class="attr">redis.lettuce.pool.max-active:</span> <span class="number">8</span></span><br><span class="line">  <span class="comment"># 连接池最大阻塞等待时间（使用负值表示没有限制） 默认 -1</span></span><br><span class="line">  <span class="attr">redis.lettuce.pool.max-wait:</span> <span class="number">-1</span></span><br><span class="line">  <span class="comment"># 连接池中的最大空闲连接 默认 8</span></span><br><span class="line">  <span class="attr">redis.lettuce.pool.max-idle:</span> <span class="number">8</span></span><br><span class="line">  <span class="comment"># 连接池中的最小空闲连接 默认 0</span></span><br><span class="line">  <span class="attr">redis.lettuce.pool.min-idle:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><h2 id="Redis-Cached的应用"><a href="#Redis-Cached的应用" class="headerlink" title="Redis Cached的应用"></a>Redis Cached的应用</h2><p><del>添加配置</del>，这个功能可以不需要重写，关键在<code>@EnableCaching</code>要添加</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableCaching</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConfig</span> <span class="keyword">extends</span> <span class="title class_">CachingConfigurerSupport</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> KeyGenerator <span class="title function_">keyGenerator</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (target, method, params) -&gt; &#123;</span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            sb.append(target.getClass().getName());</span><br><span class="line">            sb.append(method.getName());</span><br><span class="line">            <span class="keyword">for</span> (Object obj : params) &#123;</span><br><span class="line">                sb.append(obj.toString());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> sb.toString();</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>验证</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/test-redis&quot;)</span></span><br><span class="line"><span class="meta">@Cacheable(value = &quot;user-key&quot;)</span></span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">testRedis</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;test&quot;</span>, <span class="string">&quot;aabbcc&quot;</span>, <span class="string">&quot;123456&quot;</span>, <span class="string">&quot;123456789&quot;</span>);</span><br><span class="line">    <span class="comment">// 若下面没出现“无缓存的时候调用”字样且能打印出数据表示测试成功</span></span><br><span class="line">    System.out.println(<span class="string">&quot;无缓存的时候调用&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>缓存注解可以参考<a href="https://mrbird.cc/Spring-Boot%20cache.html">https://mrbird.cc/Spring-Boot%20cache.html</a></p></blockquote><h2 id="Session-Redis的应用"><a href="#Session-Redis的应用" class="headerlink" title="Session Redis的应用"></a>Session Redis的应用</h2><p>添加配置</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableRedisHttpSession(maxInactiveIntervalInSeconds = 24 * 3600 * 30)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SessionConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>验证</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/test-redis-uuid&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">uuid</span><span class="params">(HttpSession session)</span> &#123;</span><br><span class="line">    <span class="type">UUID</span> <span class="variable">uid</span> <span class="operator">=</span> (UUID) session.getAttribute(<span class="string">&quot;uid&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (uid == <span class="literal">null</span>) &#123;</span><br><span class="line">        uid = UUID.randomUUID();</span><br><span class="line">    &#125;</span><br><span class="line">    session.setAttribute(<span class="string">&quot;uid&quot;</span>, uid);</span><br><span class="line">    <span class="keyword">return</span> session.getId();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://github.com/ityouknow/spring-boot-examples/blob/master/spring-boot-redis/">https://github.com/ityouknow/spring-boot-examples/blob/master/spring-boot-redis/</a></p><p><a href="https://github.com/piomin/sample-spring-redis">https://github.com/piomin/sample-spring-redis</a></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Redis简单理解，Redis可以作为一个极速（内存）数据，能够解决数据库响应慢的一个辅助工具，基于这一点，就有市场了&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Redis 是一个高性能的key-value数据库。 redis的出现，很大程度补偿了memcached这类key&amp;#x2F;value存储的不足，在部分场合可以对关系数据库起到很好的补充作用。&lt;/p&gt;
&lt;p&gt;安装部分这里略过，直接到使用&lt;/p&gt;
&lt;h2 id=&quot;添加依赖包&quot;&gt;&lt;a href=&quot;#添加依赖包&quot; class=&quot;headerlink&quot; title=&quot;添加依赖包&quot;&gt;&lt;/a&gt;添加依赖包&lt;/h2&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;!-- redis --&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;artifactId&amp;gt;spring-boot-starter-data-redis&amp;lt;/artifactId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;groupId&amp;gt;org.apache.commons&amp;lt;/groupId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;artifactId&amp;gt;commons-pool2&amp;lt;/artifactId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;groupId&amp;gt;org.springframework.session&amp;lt;/groupId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;artifactId&amp;gt;spring-session-data-redis&amp;lt;/artifactId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="Spring Boot" scheme="https://xuie0000.com/categories/Spring-Boot/"/>
    
    
    <category term="Redis" scheme="https://xuie0000.com/tags/Redis/"/>
    
    <category term="Cached" scheme="https://xuie0000.com/tags/Cached/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot之Spring-Data-JPA</title>
    <link href="https://xuie0000.com/post/2019-11-20-2019/Spring-Boot%E4%B9%8BSpring-Data-JPA.html"/>
    <id>https://xuie0000.com/post/2019-11-20-2019/Spring-Boot%E4%B9%8BSpring-Data-JPA.html</id>
    <published>2019-11-20T08:34:59.000Z</published>
    <updated>2023-12-30T06:00:11.836Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Spring Boot，记录一下库JPA，一上手的时候，看着spring的配置真也是头疼，各种数据库….之前我只了解Mysql或Oracle，结果你来这么多，不知道想干什么！</p></blockquote><p>JPA是一个ORM的映射框架，目的就是为了提高开发效率和提升性能体验</p><span id="more"></span><h2 id="添加JPA库包"><a href="#添加JPA库包" class="headerlink" title="添加JPA库包"></a>添加JPA库包</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">    &lt;scope&gt;runtime&lt;/scope&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p>在<code>application.yml</code>中可以添加执行sql语句显示</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">username:</span> [<span class="string">username</span>]</span><br><span class="line">    <span class="attr">password:</span> [<span class="string">password</span>]</span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">  <span class="attr">jpa:</span></span><br><span class="line">    <span class="attr">show-sql:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="添加JpaRepository关联数据库应用"><a href="#添加JpaRepository关联数据库应用" class="headerlink" title="添加JpaRepository关联数据库应用"></a>添加<code>JpaRepository</code>关联数据库应用</h2><h3 id="添加数据库对象"><a href="#添加数据库对象" class="headerlink" title="添加数据库对象"></a>添加数据库对象</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity(name = &quot;test&quot;)</span></span><br><span class="line"><span class="meta">@Table(name = &quot;test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestModel</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String user;</span><br><span class="line">    <span class="keyword">public</span> String title;</span><br><span class="line">    <span class="keyword">public</span> String image;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> price;</span><br><span class="line">    <span class="keyword">public</span> String time;</span><br><span class="line">    <span class="keyword">public</span> String region;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="keyword">public</span> String id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// **必须**填写空构造函数</span></span><br><span class="line">    publicTestModel () &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="关联Reposity"><a href="#关联Reposity" class="headerlink" title="关联Reposity"></a>关联Reposity</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">TestRepository</span> <span class="keyword">extends</span> <span class="title class_">JpaRepository</span>&lt;TestModel, String&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Query(&quot;select t.user, t.title, t.image, t.price, t.time, t.region from test t&quot;)</span></span><br><span class="line">    Page&lt;TestModel&gt; <span class="title function_">findTestList</span><span class="params">(Pageable pageable)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="映射api接口"><a href="#映射api接口" class="headerlink" title="映射api接口"></a>映射api接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> TestRepository repository;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Page&lt;TestModel&gt; <span class="title function_">list</span><span class="params">(</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(value = &quot;page&quot;, defaultValue = &quot;0&quot;)</span> Integer page,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(value = &quot;size&quot;, defaultValue = &quot;6&quot;)</span> Integer size</span></span><br><span class="line"><span class="params">    )</span> &#123;</span><br><span class="line">        <span class="type">Sort</span> <span class="variable">sort</span> <span class="operator">=</span> Sort.by(Sort.Direction.DESC, <span class="string">&quot;id&quot;</span>);</span><br><span class="line">        <span class="type">PageRequest</span> <span class="variable">pageable</span> <span class="operator">=</span> PageRequest.of(page, size, sort);</span><br><span class="line">        <span class="keyword">return</span> repository.findAll(pageable);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>添加完成后，就可以一键使用<code>Spring Boot JPA</code>套餐了，套餐丰富到你已经不用再写一条SQL语句了，如果实在要写，可以参考我上面写的<code>findTestList</code>示例（爬坑前方法！）</p><p>套餐示例，可以直接看<code>JpaRepository</code>，<code>PagingAndSortingRepository</code>和<code>CrudRepository</code>。</p><p><code>JpaRepository</code> extends <code>PagingAndSortingRepository</code> which in turn extends <code>CrudRepository</code>.</p><p>Their main functions are:</p><ul><li><code>CrudRepository</code> mainly provides CRUD functions.</li><li><code>PagingAndSortingRepository</code> provides methods to do pagination and sorting records.</li><li><code>JpaRepository</code> provides some JPA-related methods such as flushing the persistence context and deleting records in a batch.</li></ul><p>Because of the inheritance mentioned above, <code>JpaRepository</code> will have all the functions of <code>CrudRepository</code> and <code>PagingAndSortingRepository</code>. So if you don’t need the repository to have the functions provided by <code>JpaRepository</code> and <code>PagingAndSortingRepository</code> , use <code>CrudRepository</code>.</p><p>总结就是<code>JpaRepository</code>功能强大，你只需要它，你还可以试试<code>RxJava2CrudRepository</code>等异步<code>Repository</code></p><h3 id="支持关键字模糊匹配"><a href="#支持关键字模糊匹配" class="headerlink" title="支持关键字模糊匹配"></a>支持关键字模糊匹配</h3><table><thead><tr><th>Keyword</th><th>Sample</th><th>JPQL snippet</th></tr></thead><tbody><tr><td>And</td><td>findByLastnameAndFirstname</td><td>… where x.lastname &#x3D; ?1 and x.firstname &#x3D; ?2</td></tr><tr><td>Or</td><td>findByLastnameOrFirstname</td><td>… where x.lastname &#x3D; ?1 or x.firstname &#x3D; ?2</td></tr><tr><td>Is, Equals</td><td>findByFirstname,findByFirstnameIs,findByFirstnameEquals</td><td>… where x.firstname &#x3D; ?1</td></tr><tr><td>Between</td><td>findByStartDateBetween</td><td>… where x.startDate between ?1 and ?2</td></tr><tr><td>LessThan</td><td>findByAgeLessThan</td><td>… where x.age &lt; ?1</td></tr><tr><td>LessThanEqual</td><td>findByAgeLessThanEqual</td><td>… where x.age &lt;&#x3D; ?1</td></tr><tr><td>GreaterThan</td><td>findByAgeGreaterThan</td><td>… where x.age &gt; ?1</td></tr><tr><td>GreaterThanEqual</td><td>findByAgeGreaterThanEqual</td><td>… where x.age &gt;&#x3D; ?1</td></tr><tr><td>After</td><td>findByStartDateAfter</td><td>… where x.startDate &gt; ?1</td></tr><tr><td>Before</td><td>findByStartDateBefore</td><td>… where x.startDate &lt; ?1</td></tr><tr><td>IsNull, Null</td><td>findByAge(Is)Null</td><td>… where x.age is null</td></tr><tr><td>IsNotNull, NotNull</td><td>findByAge(Is)NotNull</td><td>… where x.age not null</td></tr><tr><td>Like</td><td>findByFirstnameLike</td><td>… where x.firstname like ?1</td></tr><tr><td>NotLike</td><td>findByFirstnameNotLike</td><td>… where x.firstname not like ?1</td></tr><tr><td>StartingWith</td><td>findByFirstnameStartingWith</td><td>… where x.firstname like ?1 (parameter bound with appended %)</td></tr><tr><td>EndingWith</td><td>findByFirstnameEndingWith</td><td>… where x.firstname like ?1 (parameter bound with prepended %)</td></tr><tr><td>Containing</td><td>findByFirstnameContaining</td><td>… where x.firstname like ?1 (parameter bound wrapped in %)</td></tr><tr><td>OrderBy</td><td>findByAgeOrderByLastnameDesc</td><td>… where x.age &#x3D; ?1 order by x.lastname desc</td></tr><tr><td>Not</td><td>findByLastnameNot</td><td>… where x.lastname &lt;&gt; ?1</td></tr><tr><td>In</td><td>findByAgeIn(Collection<Age> ages)</td><td>… where x.age in ?1</td></tr><tr><td>NotIn</td><td>findByAgeNotIn(Collection<Age> ages)</td><td>… where x.age not in ?1</td></tr><tr><td>True</td><td>findByActiveTrue()</td><td>… where x.active &#x3D; true</td></tr><tr><td>False</td><td>findByActiveFalse()</td><td>… where x.active &#x3D; false</td></tr><tr><td>IgnoreCase</td><td>findByFirstnameIgnoreCase</td><td>… where UPPER(x.firstame) &#x3D; UPPER(?1)</td></tr></tbody></table><p>例如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserRepository</span> <span class="keyword">extends</span> <span class="title class_">CrudRepository</span>&lt;UserModel, Long&gt; &#123;</span><br><span class="line">    UserModel <span class="title function_">findByUser</span><span class="params">(String user)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中<code>user</code>就是<code>UserModel</code>中的成员变量</p><h2 id="错误org-springframework-data-mapping-PropertyReferenceException-No-property-id-found-for-type-entity"><a href="#错误org-springframework-data-mapping-PropertyReferenceException-No-property-id-found-for-type-entity" class="headerlink" title="错误org.springframework.data.mapping.PropertyReferenceException: No property id found for type [entity]"></a>错误<code>org.springframework.data.mapping.PropertyReferenceException: No property id found for type [entity]</code></h2><p>这里因为基类Model中没有<code>id</code>成员，不只是标记<code>@Id</code>，而是必须为<code>id</code>，如</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Id</span></span><br><span class="line"><span class="keyword">public</span> String id;</span><br></pre></td></tr></table></figure><p>Navicat修改表结构</p><ol><li>保存当前SQL数据：转存SQL文件-&gt;选择“结构和数据”</li><li>修改表结构：右键-&gt;设计表，再修改所需要的表</li><li>删除数据库，再重新导航SQL运行文件</li></ol><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://stackoverflow.com/questions/14014086/what-is-difference-between-crudrepository-and-jparepository-interfaces-in-spring">https://stackoverflow.com/questions/14014086/what-is-difference-between-crudrepository-and-jparepository-interfaces-in-spring</a><br><a href="https://docs.spring.io/spring-data/jpa/docs/2.2.1.RELEASE/reference/html/#reference">https://docs.spring.io/spring-data/jpa/docs/2.2.1.RELEASE/reference/html/#reference</a><br><a href="https://spring.io/projects/spring-data-jpa#overview">https://spring.io/projects/spring-data-jpa#overview</a></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Spring Boot，记录一下库JPA，一上手的时候，看着spring的配置真也是头疼，各种数据库….之前我只了解Mysql或Oracle，结果你来这么多，不知道想干什么！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;JPA是一个ORM的映射框架，目的就是为了提高开发效率和提升性能体验&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Boot" scheme="https://xuie0000.com/categories/Spring-Boot/"/>
    
    
    <category term="JPA" scheme="https://xuie0000.com/tags/JPA/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客主题切换为Melody</title>
    <link href="https://xuie0000.com/post/2019-11-13-2019/Hexo%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E5%88%87%E6%8D%A2%E4%B8%BAMelody.html"/>
    <id>https://xuie0000.com/post/2019-11-13-2019/Hexo%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E5%88%87%E6%8D%A2%E4%B8%BAMelody.html</id>
    <published>2019-11-13T07:11:47.000Z</published>
    <updated>2023-12-30T05:59:19.518Z</updated>
    
    <content type="html"><![CDATA[<p>生灰了</p><p>之前的主题一直是Next，收拾博客换个melody风格，这里仅记录我的博客操作步骤</p><h2 id="下载主题"><a href="#下载主题" class="headerlink" title="下载主题"></a>下载主题</h2><p><a href="https://gitee.com/Teily/hexo-theme-melody">https://gitee.com/Teily/hexo-theme-melody</a></p><span id="more"></span><h2 id="部署验证"><a href="#部署验证" class="headerlink" title="部署验证"></a>部署验证</h2><p>下载完成后，先测试主题是否OK</p><pre><code>npm install hexo-server hexo-browsersync hexo-renderer-jade hexo-renderer-stylus hexo-generator-search --save-devhexo ghexo s</code></pre><p>部署后，通过访问<code>http://localhost:4000/</code>来确定是否成功</p><h2 id="定制Melody功能"><a href="#定制Melody功能" class="headerlink" title="定制Melody功能"></a>定制Melody功能</h2><p>主题变更成功后，少许修改下变成自己喜欢的Style</p><h3 id="主题颜色修改"><a href="#主题颜色修改" class="headerlink" title="主题颜色修改"></a>主题颜色修改</h3><p><code>melody/_config.yml</code></p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">theme_color:</span></span><br><span class="line"><span class="symbol">  enable:</span> true</span><br><span class="line"><span class="symbol">  main:</span> <span class="string">&quot;#4DB6AC&quot;</span></span><br><span class="line"><span class="symbol">  paginator:</span> <span class="string">&quot;#00C4B6&quot;</span></span><br><span class="line"><span class="symbol">  button_hover:</span> <span class="string">&quot;#FFD180&quot;</span></span><br><span class="line"><span class="symbol">  text_selection:</span> <span class="string">&quot;#00C4B6&quot;</span></span><br><span class="line"><span class="symbol">  link_color:</span> <span class="string">&quot;#858585&quot;</span></span><br><span class="line"><span class="symbol">  hr_color:</span> <span class="string">&quot;#B2DFDB&quot;</span></span><br><span class="line"><span class="symbol">  tag_start_color:</span> <span class="string">&quot;#FFF3E0&quot;</span></span><br><span class="line"><span class="symbol">  tag_end_color:</span> <span class="string">&quot;#FFCC80&quot;</span></span><br><span class="line"><span class="symbol">  header_text_color:</span> <span class="string">&quot;#EEEEEE&quot;</span></span><br><span class="line"><span class="symbol">  footer_text_color:</span> <span class="string">&quot;#EEEEEE&quot;</span></span><br></pre></td></tr></table></figure><h3 id="添加搜索功能"><a href="#添加搜索功能" class="headerlink" title="添加搜索功能"></a>添加搜索功能</h3><pre><code>npm install hexo-generator-search --save在`root/_config.yml`中添加<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>在`melody/_config.yml`中添加<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">trigger:</span> <span class="string">auto</span></span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure></code></pre><h3 id="添加友情链接"><a href="#添加友情链接" class="headerlink" title="添加友情链接"></a>添加友情链接</h3><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">links_title:</span> Links</span><br><span class="line"><span class="symbol">links:</span></span><br><span class="line">  ANDROID WEEKLY: http:<span class="comment">//androidweekly.net/</span></span><br><span class="line">  开发者头条: https:<span class="comment">//toutiao.io/</span></span><br><span class="line">  开发技术周报: http:<span class="comment">//www.androidweekly.cn/</span></span><br></pre></td></tr></table></figure><h3 id="阅读文章时禁止展开左侧"><a href="#阅读文章时禁止展开左侧" class="headerlink" title="阅读文章时禁止展开左侧"></a>阅读文章时禁止展开左侧</h3><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sidebar_display: hidden #post # <span class="built_in">all</span>/<span class="built_in">index</span>/post/<span class="built_in">index</span>-<span class="keyword">none</span>/post-<span class="keyword">none</span>/hidden</span><br></pre></td></tr></table></figure><h3 id="添加主背景图片"><a href="#添加主背景图片" class="headerlink" title="添加主背景图片"></a>添加主背景图片</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">top_img: http:<span class="comment">//ww1.sinaimg.cn/large/863951d2gy1g8w9dktkj7j20qo0f0jsy.jpg</span></span><br><span class="line">#top_img: <span class="literal">true</span> # <span class="literal">false</span> <span class="keyword">or</span> url of img</span><br></pre></td></tr></table></figure><p>在文章中添加也类似</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">title:</span> xxx</span><br><span class="line"><span class="symbol">tag:</span> []</span><br><span class="line"><span class="symbol">top_img:</span> url</span><br></pre></td></tr></table></figure><h3 id="打开预览自动截取功能"><a href="#打开预览自动截取功能" class="headerlink" title="打开预览自动截取功能"></a><del>打开预览自动截取功能</del></h3><blockquote><p>有代码的文章不要开户这功能，有BUG</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">auto_excerpt:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">150</span></span><br></pre></td></tr></table></figure><h3 id="添加社交图标"><a href="#添加社交图标" class="headerlink" title="添加社交图标"></a>添加社交图标</h3><ul><li>Font Awesome图标<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  github fa: https:<span class="regexp">//gi</span>thub.com/xuie0000</span><br><span class="line">  weibo fa: http:<span class="regexp">//</span>weibo.com<span class="regexp">/u/</span><span class="number">2251903442</span></span><br></pre></td></tr></table></figure></li><li>自定义图标<br>这里以添加语雀为例<br>添加文件<code>source/css/_layout/custom.styl</code><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.fa-yuque</span>&#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">/img/yuque.svg</span>);</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">28px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">28px</span>;</span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-position</span>: center;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">20%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><code>melody/_config.yml</code>中添加<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  github fa: https:<span class="regexp">//gi</span>thub.com/xuie0000</span><br><span class="line">  weibo fa: http:<span class="regexp">//</span>weibo.com<span class="regexp">/u/</span><span class="number">2251903442</span></span><br><span class="line">  yuque fa: https:<span class="regexp">//</span>www.yuque.com<span class="regexp">/x-h83zo/</span>aiz6o6</span><br></pre></td></tr></table></figure></li></ul><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://molunerfinn.com/hexo-theme-melody-doc/zh-Hans/theme-config.html">https://molunerfinn.com/hexo-theme-melody-doc/zh-Hans/theme-config.html</a><br><a href="https://blog.csdn.net/u010416101/article/details/102986439">https://blog.csdn.net/u010416101/article/details/102986439</a><br><a href="https://blog.csdn.net/lijing742180/article/details/87970909">https://blog.csdn.net/lijing742180/article/details/87970909</a><br><a href="https://hunfan.top/2019/03/25/hexo%E6%B7%BB%E5%8A%A0Gitee%E9%93%BE%E6%8E%A5%E5%9B%BE%E6%A0%87/">https://hunfan.top/2019/03/25/hexo%E6%B7%BB%E5%8A%A0Gitee%E9%93%BE%E6%8E%A5%E5%9B%BE%E6%A0%87/</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;生灰了&lt;/p&gt;
&lt;p&gt;之前的主题一直是Next，收拾博客换个melody风格，这里仅记录我的博客操作步骤&lt;/p&gt;
&lt;h2 id=&quot;下载主题&quot;&gt;&lt;a href=&quot;#下载主题&quot; class=&quot;headerlink&quot; title=&quot;下载主题&quot;&gt;&lt;/a&gt;下载主题&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://gitee.com/Teily/hexo-theme-melody&quot;&gt;https://gitee.com/Teily/hexo-theme-melody&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    
    <category term="Hexo" scheme="https://xuie0000.com/tags/Hexo/"/>
    
    <category term="Hexo Theme" scheme="https://xuie0000.com/tags/Hexo-Theme/"/>
    
    <category term="Melody" scheme="https://xuie0000.com/tags/Melody/"/>
    
  </entry>
  
</feed>
